"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var debug = require("debug");
var _general_1 = require("../common/_general");
var rgamma_1 = require("../gamma/rgamma");
var rpois_1 = require("../poisson/rpois");
var r_func_1 = require("../r-func");
var rchisq_1 = require("./rchisq");
var printer = debug('rnchisq');
var R_FINITE = Number.isFinite;
function rnchisq(n, df, lambda, rng) {
    return r_func_1.randomGenHelper(n, rnchisqOne, df, lambda, rng);
}
exports.rnchisq = rnchisq;
function rnchisqOne(df, lambda, rng) {
    if (!R_FINITE(df) || !R_FINITE(lambda) || df < 0 || lambda < 0) {
        return _general_1.ML_ERR_return_NAN(printer);
    }
    if (lambda === 0) {
        return df === 0 ? 0 : rgamma_1.rgammaOne(df / 2, 2, rng);
    }
    else {
        var r = rpois_1.rpoisOne(lambda / 2, rng);
        if (r > 0)
            r = rchisq_1.rchisqOne(2 * r, rng);
        if (df > 0)
            r += rgamma_1.rgammaOne(df / 2, 2, rng);
        return r;
    }
}
exports.rnchisqOne = rnchisqOne;
//# sourceMappingURL=rnchisq.js.map