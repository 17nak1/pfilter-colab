"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var debug = require("debug");
var _general_1 = require("../common/_general");
var exp = Math.exp, log1p = Math.log1p;
var ISNAN = Number.isNaN;
function Rf_log1pexp(x) {
    if (x <= 18)
        return log1p(exp(x));
    if (x > 33.3)
        return x;
    return x + exp(-x);
}
exports.Rf_log1pexp = Rf_log1pexp;
var printer_plogis = debug('plogis');
function plogis(x, location, scale, lower_tail, log_p) {
    if (location === void 0) { location = 0; }
    if (scale === void 0) { scale = 1; }
    if (lower_tail === void 0) { lower_tail = true; }
    if (log_p === void 0) { log_p = false; }
    if (ISNAN(x) || ISNAN(location) || ISNAN(scale))
        return x + location + scale;
    if (scale <= 0.0) {
        return _general_1.ML_ERR_return_NAN(printer_plogis);
    }
    x = (x - location) / scale;
    if (ISNAN(x)) {
        return _general_1.ML_ERR_return_NAN(printer_plogis);
    }
    var rc = _general_1.R_P_bounds_Inf_01(lower_tail, log_p, x);
    if (rc !== undefined) {
        return rc;
    }
    if (log_p) {
        return -Rf_log1pexp(lower_tail ? -x : x);
    }
    return 1 / (1 + exp(lower_tail ? -x : x));
}
exports.plogis = plogis;
//# sourceMappingURL=plogis.js.map