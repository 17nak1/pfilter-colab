"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var debug = require("debug");
var _general_1 = require("../common/_general");
var gamma_fn_1 = require("../gamma/gamma_fn");
var lbeta_1 = require("./lbeta");
var xmax = 171.61447887182298;
var lnsml = -708.39641853226412;
var ISNAN = Number.isNaN, R_FINITE = Number.isFinite, ML_POSINF = Number.POSITIVE_INFINITY;
var printer_beta = debug('beta');
function beta(a, b) {
    if (ISNAN(a) || ISNAN(b))
        return a + b;
    if (a < 0 || b < 0)
        return _general_1.ML_ERR_return_NAN(printer_beta);
    else if (a === 0 || b === 0)
        return ML_POSINF;
    else if (!R_FINITE(a) || !R_FINITE(b))
        return 0;
    if (a + b < xmax) {
        return 1 / gamma_fn_1.gammafn(a + b) * gamma_fn_1.gammafn(a) * gamma_fn_1.gammafn(b);
    }
    else {
        var val = lbeta_1.lbeta(a, b);
        if (val < lnsml) {
            _general_1.ML_ERROR(_general_1.ME.ME_UNDERFLOW, 'beta', printer_beta);
        }
        return Math.exp(val);
    }
}
exports.beta = beta;
//# sourceMappingURL=beta.js.map