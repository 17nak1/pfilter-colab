"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var debug = require("debug");
var _general_1 = require("../common/_general");
var fabs = Math.abs;
var printer = debug('chebyshev_eval');
function chebyshev_init(dos, nos, eta) {
    var retCode = 0;
    var err;
    if (nos < 1)
        return 0;
    err = 0.0;
    for (var ii = 1; ii <= nos; ii++) {
        retCode = nos - ii;
        err += fabs(dos[retCode]);
        if (err > eta) {
            return retCode;
        }
    }
    return retCode;
}
exports.chebyshev_init = chebyshev_init;
function chebyshev_eval(x, a, n) {
    var b0;
    var b1;
    var b2;
    var twox;
    var i;
    if (n < 1 || n > 1000) {
        return _general_1.ML_ERR_return_NAN(printer);
    }
    if (x < -1.1 || x > 1.1) {
        return _general_1.ML_ERR_return_NAN(printer);
    }
    twox = x * 2;
    b2 = b1 = 0;
    b0 = 0;
    for (i = 1; i <= n; i++) {
        b2 = b1;
        b1 = b0;
        b0 = twox * b1 - b2 + a[n - i];
    }
    return (b0 - b2) * 0.5;
}
exports.chebyshev_eval = chebyshev_eval;
//# sourceMappingURL=chebyshev.js.map