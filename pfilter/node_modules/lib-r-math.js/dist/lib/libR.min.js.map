{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///webpack/bootstrap 2e79de35e32542a83e64?07b9","webpack:///./src/lib/common/_general.ts?ba5a","webpack:///./~/debug/src/index.js?10ee","webpack:///./src/lib/r-func.ts?fd67","webpack:///./src/lib/exp/expm1.ts?55c8","webpack:///./src/lib/gamma/lgamma_fn.ts?3137","webpack:///./src/lib/rng/mersenne-twister/index.ts?d283","webpack:///./src/lib/normal/qnorm.ts?bfd1","webpack:///./src/lib/rng/irng.ts?77a8","webpack:///./src/lib/rng/normal/index.ts?1171","webpack:///./src/lib/common/toms708/index.ts?2b4a","webpack:///./src/lib/rng/timeseed.ts?9495","webpack:///./src/lib/beta/lbeta.ts?2706","webpack:///./src/lib/beta/pbeta.ts?dfcf","webpack:///./src/lib/chi-2/rchisq.ts?36a7","webpack:///./src/lib/rng/irng-type.ts?e800","webpack:///./src/lib/rng/normal/inormal-rng.ts?16b7","webpack:///./src/lib/rng/index.ts?a0e8","webpack:///./src/lib/binomial/dbinom.ts?d17a","webpack:///./src/lib/gamma/pgamma.ts?8b08","webpack:///./src/lib/normal/pnorm.ts?9f82","webpack:///./src/lib/rng/fixup.ts?94b3","webpack:///./src/lib/gamma/dgamma.ts?041e","webpack:///./src/lib/poisson/dpois.ts?da8a","webpack:///./src/lib/trigonometry/cospi.ts?e20a","webpack:///./src/lib/trigonometry/sinpi.ts?2910","webpack:///./src/lib/gamma/index.ts?e0f0","webpack:///./src/lib/bessel/bessel-constants.ts?f480","webpack:///./src/lib/common/choose.ts?3c68","webpack:///./src/lib/exp/sexp.ts?fb88","webpack:///./src/lib/gamma/gamma_fn.ts?48ae","webpack:///./src/lib/gamma/rgamma.ts?c027","webpack:///./src/lib/normal/dnorm.ts?ed4d","webpack:///./src/lib/poisson/rpois.ts?3407","webpack:///./src/lib/trigonometry/index.ts?ea40","webpack:///./src/lib/beta/index.ts?f7a2","webpack:///./src/lib/beta/pnbeta.ts?08f3","webpack:///./src/lib/binomial/rbinom.ts?0618","webpack:///./src/lib/chebyshev/chebyshev.ts?e1a8","webpack:///./src/lib/chi-2/pchisq.ts?843f","webpack:///./src/lib/chi-2/pnchisq.ts?e5a1","webpack:///./src/lib/chi-2/qchisq.ts?8e6c","webpack:///./src/lib/chi-2/rnchisq.ts?7107","webpack:///./src/lib/gamma/lgammacor.ts?9c80","webpack:///./src/lib/normal/rnorm.ts?eb07","webpack:///./src/lib/stirling/index.ts?71de","webpack:///./src/lib/student-t/dt.ts?50ac","webpack:///./src/lib/student-t/pnt.ts?bd8c","webpack:///./src/lib/student-t/pt.ts?c599","webpack:///./src/lib/wilcoxon/WilcoxonCache.ts?9144","webpack:///./src/lib/wilcoxon/cwilcox.ts?9b06","webpack:///./src/lib/bessel/besselJ/index.ts?0df9","webpack:///./src/lib/bessel/besselK/index.ts?9f44","webpack:///./src/lib/bessel/besselY/index.ts?653c","webpack:///./src/lib/beta/dbeta.ts?0a91","webpack:///./src/lib/beta/dnbeta.ts?d199","webpack:///./src/lib/beta/qbeta.ts?03cf","webpack:///./src/lib/beta/qnbeta.ts?92ac","webpack:///./src/lib/binomial-negative/pnbinom.ts?4223","webpack:///./src/lib/binomial/pbinom.ts?138e","webpack:///./src/lib/binomial/qbinom.ts?2180","webpack:///./src/lib/chi-2/dchisq.ts?5ba5","webpack:///./src/lib/chi-2/dnchisq.ts?5415","webpack:///./src/lib/chi-2/qnchisq.ts?a383","webpack:///./src/lib/common/toms708/NumberW.ts?fcbb","webpack:///./src/lib/deviance/bd0.ts?4687","webpack:///./src/lib/deviance/index.ts?1e7c","webpack:///./src/lib/gamma/gamma_cody.ts?0a11","webpack:///./src/lib/gamma/lgammafn_sign.ts?0c2f","webpack:///./src/lib/gamma/qgamma.ts?2820","webpack:///./src/lib/hypergeometric/dhyper.ts?18c2","webpack:///./src/lib/hypergeometric/qhyper.ts?c2a7","webpack:///./src/lib/poisson/ppois.ts?ea91","webpack:///./src/lib/rng/normal/inversion.ts?834c","webpack:///./src/lib/signrank/signrank.ts?0191","webpack:///./src/lib/stirling/stirlerror.ts?28a3","webpack:///./src/lib/student-t/qt.ts?1a54","webpack:///./src/lib/trigonometry/tanpi.ts?4083","webpack:///./src/lib/tukey/ptukey.ts?0625","webpack:///./~/debug/src/common.js?63df","webpack:///./src/lib/bessel/index.ts?e091","webpack:///./src/lib/binomial-negative/index.ts?3b6e","webpack:///./src/lib/binomial/index.ts?2a88","webpack:///./src/lib/cauchy/index.ts?4058","webpack:///./src/lib/chebyshev/index.ts?dfe6","webpack:///./src/lib/chi-2/index.ts?4263","webpack:///./src/lib/common/index.ts?e89f","webpack:///./src/lib/exp/index.ts?c45b","webpack:///./src/lib/f-distro/index.ts?0d36","webpack:///./src/lib/geometric/index.ts?26b4","webpack:///./src/lib/hypergeometric/index.ts?7070","webpack:///./src/lib/logis/index.ts?8f8d","webpack:///./src/lib/lognormal/index.ts?bba3","webpack:///./src/lib/multinom/index.ts?0192","webpack:///./src/lib/normal/index.ts?fd1e","webpack:///./src/lib/poisson/index.ts?457c","webpack:///./src/lib/signrank/index.ts?23f8","webpack:///./src/lib/student-t/index.ts?10b1","webpack:///./src/lib/tukey/index.ts?b2d6","webpack:///./src/lib/uniform/index.ts?eeef","webpack:///./src/lib/weibull/index.ts?2109","webpack:///./src/lib/wilcoxon/index.ts?5882","webpack:///./src/lib/bessel/besselI/IBessel.ts?dfac","webpack:///./src/lib/bessel/besselI/index.ts?33a4","webpack:///./src/lib/bessel/besselJ/Jbessel.ts?9afb","webpack:///./src/lib/bessel/besselK/Kbessel.ts?0c20","webpack:///./src/lib/bessel/besselY/Ybessel.ts?8e3d","webpack:///./src/lib/beta/beta.ts?4224","webpack:///./src/lib/beta/rbeta.ts?41dc","webpack:///./src/lib/binomial-negative/dnbinom.ts?d730","webpack:///./src/lib/binomial-negative/qnbinom.ts?0135","webpack:///./src/lib/binomial-negative/rnbinom.ts?b754","webpack:///./src/lib/cauchy/dcauchy.ts?4dcc","webpack:///./src/lib/cauchy/pcauchy.ts?91b5","webpack:///./src/lib/cauchy/qcauchy.ts?63b7","webpack:///./src/lib/cauchy/rcauchy.ts?c198","webpack:///./src/lib/common/toms708/toms708.ts?d5e0","webpack:///./src/lib/exp/dexp.ts?ee27","webpack:///./src/lib/exp/pexp.ts?12af","webpack:///./src/lib/exp/qexp.ts?aa35","webpack:///./src/lib/exp/rexp.ts?263e","webpack:///./src/lib/f-distro/df.ts?2e81","webpack:///./src/lib/f-distro/dnf.ts?4f6a","webpack:///./src/lib/f-distro/pf.ts?ee4d","webpack:///./src/lib/f-distro/pnf.ts?a00a","webpack:///./src/lib/f-distro/qf.ts?4ae0","webpack:///./src/lib/f-distro/qnf.ts?58af","webpack:///./src/lib/f-distro/rf.ts?e3aa","webpack:///./src/lib/gamma/logspace-add.ts?947a","webpack:///./src/lib/gamma/polygamma.ts?1e4d","webpack:///./src/lib/geometric/dgeom.ts?37ba","webpack:///./src/lib/geometric/pgeom.ts?abeb","webpack:///./src/lib/geometric/qgeom.ts?7bee","webpack:///./src/lib/geometric/rgeom.ts?ba09","webpack:///./src/lib/hypergeometric/lfastchoose.ts?9d71","webpack:///./src/lib/hypergeometric/phyper.ts?f4d7","webpack:///./src/lib/hypergeometric/rhyper.ts?2b54","webpack:///./src/lib/index.ts?6823","webpack:///./src/lib/logis/dlogis.ts?ee51","webpack:///./src/lib/logis/plogis.ts?c834","webpack:///./src/lib/logis/qlogis.ts?300c","webpack:///./src/lib/logis/rlogis.ts?c794","webpack:///./src/lib/lognormal/dlnorm.ts?30a6","webpack:///./src/lib/lognormal/plnorm.ts?e649","webpack:///./src/lib/lognormal/qlnorm.ts?6f00","webpack:///./src/lib/lognormal/rlnorm.ts?0fd5","webpack:///./src/lib/multinom/dmultinom.ts?d16a","webpack:///./src/lib/multinom/rmultinom.ts?597c","webpack:///./src/lib/poisson/qpois.ts?12d6","webpack:///./src/lib/rng/knuth-taocp-2002/index.ts?9de5","webpack:///./src/lib/rng/knuth-taocp/index.ts?da7b","webpack:///./src/lib/rng/knuth-taocp/taocp-1997-init.ts?1030","webpack:///./src/lib/rng/lecuyer-cmrg/index.ts?45b3","webpack:///./src/lib/rng/marsaglia-multicarry/index.ts?ef2e","webpack:///./src/lib/rng/normal/ahrens_dieter.ts?ec15","webpack:///./src/lib/rng/normal/box-muller.ts?998b","webpack:///./src/lib/rng/normal/buggy-kinderman-ramage.ts?3293","webpack:///./src/lib/rng/normal/kinderman-ramage.ts?565c","webpack:///./src/lib/rng/super-duper/index.ts?78d2","webpack:///./src/lib/rng/wichmann-hill/index.ts?e7fc","webpack:///./src/lib/signrank/csignrank.ts?41b6","webpack:///./src/lib/signrank/dsign.ts?ef00","webpack:///./src/lib/signrank/fsign.ts?1ce5","webpack:///./src/lib/signrank/psign.ts?ecf8","webpack:///./src/lib/signrank/qsign.ts?4dee","webpack:///./src/lib/signrank/rsign.ts?f1cd","webpack:///./src/lib/student-t/dnt.ts?be39","webpack:///./src/lib/student-t/qnt.ts?8699","webpack:///./src/lib/student-t/rt.ts?42e0","webpack:///./src/lib/tukey/qtukey.ts?8f5b","webpack:///./src/lib/tukey/wprob.ts?9134","webpack:///./src/lib/uniform/dunif.ts?f9e1","webpack:///./src/lib/uniform/punif.ts?c2ba","webpack:///./src/lib/uniform/qunif.ts?860f","webpack:///./src/lib/uniform/runif.ts?fafb","webpack:///./src/lib/weibull/dweibull.ts?40af","webpack:///./src/lib/weibull/pweibull.ts?aad7","webpack:///./src/lib/weibull/qweibull.ts?dce9","webpack:///./src/lib/weibull/rweibull.ts?8566","webpack:///./src/lib/wilcoxon/dwilcox.ts?5e40","webpack:///./src/lib/wilcoxon/pwilcox.ts?e696","webpack:///./src/lib/wilcoxon/qwilcox.ts?c140","webpack:///./src/lib/wilcoxon/rwilcox.ts?64d8","webpack:///./~/debug/src/browser.js?13f9","webpack:///./~/debug/src/node.js?d379","webpack:///./~/ms/index.js?6d36","webpack:///external \"supports-color\"?e2a5","webpack:///external \"tty\"?bf1c","webpack:///external \"util\"?70c5"],"names":["root","factory","exports","module","require","e","define","amd","__WEBPACK_EXTERNAL_MODULE_186__","__WEBPACK_EXTERNAL_MODULE_187__","this","__WEBPACK_EXTERNAL_MODULE_185__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","debug","debug_R_Q_P01_boundaries","debug_R_Q_P01_check","R_D_Clog","log_p","Math","log1p","ME","ML_ERR_return_NAN","printer","ML_ERROR","ME_DOMAIN","Number","NaN","epsilonNear","x","target","isNaN","isFinite","diff","EPSILON","R_nonint","isInteger","R_pow","y","POSITIVE_INFINITY","pow","floor","myfmod","x1","x2","q","M_SQRT2","frac","trunc","M_SQRT_32","DBL_MANT_DIG","M_LN2","M_1_SQRT_2PI","M_2PI","M_LN_2PI","M_1_PI","PI","M_PI_2","M_LN_SQRT_PI","M_LN_SQRT_2PI","M_LN_SQRT_PId2","M_SQRT_2dPI","M_LOG10_2","DBL_MAX_EXP","log2","MAX_VALUE","DBL_MIN_EXP","MIN_VALUE","R_D__1","logP","R_D__0","NEGATIVE_INFINITY","R_DT_0","lower_tail","R_DT_1","R_D_val","log","R_DT_val","imin2","min","R_D_Lval","lowerTail","R_D_Cval","R_P_bounds_Inf_01","R_D_half","R_P_bounds_01","x_min","x_max","R_D_exp","exp","mapErr","Map","ME_NONE","ME_RANGE","ME_NOCONV","ME_PRECISION","ME_UNDERFLOW","str","R_D_nonint_check","fmod","imax2","max","isOdd","k","isEpsilonNear","R_D_negInonint","R_D_fexp","give_log","f","sqrt","nsig_BESS","ensig_BESS","rtnsig_BESS","enmten_BESS","enten_BESS","exparg_BESS","xlrg_BESS_IJ","xlrg_BESS_Y","thresh_BESS_Y","xmax_BESS_K","sqxmin_BESS_K","M_eps_sinc","R_pow_di","R_finite","R_isnancpp","R_powV","ldexp","R_D_log","R_Q_P01_boundaries","_LEFT_","_RIGHT_","R_Q_P01_check","R_D_qIv","process","type","browser","__nwjs","abs","sign","isArray","Array","printer_seq","precision9","numberPrecision","flatten","rest","rc","itm","rc2","push","arrayrify","fn","result","map","length","multiplex","multiplexer","possibleScalar","analyzed","arg","indexOf","Error","Function","split","_max","a","j","arr","idx","iter","wantMap","xx","fx","undefined","TypeError","key","val","names","getOwnPropertyNames","coerceToArray","forEach","prec","parseFloat","toPrecision","sum","trial","seq","adjust","adjustMin","start","end","step","cursor","selector","flat","asArray","ans","each","any","find","div","b","mult","summary","findIndex","v","N","mu","relX2","sampleVariance","populationVariance","sampleSD","populationSD","sort","q1","median","q3","index","f1","f2","population","variance","sd","sample","relX","stats","1st Qu.","3rd Qu.","Welch_Satterthwaite","elts","_s","dom","_general_1","expm1","R_D_LExp","R_Log1_Exp","R_DT_qIv","R_DT_CIv","R_DT_Clog","R_DT_log","r_func_1","lgammafn_sign_1","lgammafn","lgammafn_sign","M","MATRIX_A","UPPER_MASK","LOWER_MASK","TEMPERING_MASK_B","TEMPERING_MASK_C","fixup_1","irng_1","irng_type_1","timeseed_1","SEED_LEN","MersenneTwister","IRNG","[object Object]","seed","mt","mti","Int32Array","mag01","dummy","m_seed","kk","MT_sgenrand","Uint32Array","buffer","init","timeseed","_seed","super","buf","ArrayBuffer","_kind","IRNGType","MERSENNE_TWISTER","_name","fill","fixupSeeds","MT_genrand","fixup","set","from","expm1_1","ISNAN","fabs","ML_NEGINF","Infinity","ML_POSINF","qnorm","sigma","p_","r","segFnCache","notify","Set","emit","bind","register","unif_rand","internal_unif_rand","_setup","kind","event","handler","add","buggy_kinderman_ramage_1","BuggyKindermanRamage","box_muller_1","BoxMuller","ahrens_dieter_1","AhrensDieter","inversion_1","Inversion","kinderman_ramage_1","KindermanRamage","inormal_rng_1","IRNGNormal","toms708_1","Toms708","NumberW_1","NumberW","ceil","now","Date","nBits","lowBits","hi","lo","reverser","Uint8Array","uint32","reverse","gamma_fn_1","lgamma_fn_1","lgammacor_1","R_FINITE","internal_lbeta","corr","lgammacor","gammafn","lbeta","_a","_b","LN2","printer_pbeta_raw","pbeta_raw","w","wc","ierr","bratio","printer_pbeta","pbeta","rgamma_1","sequence","rchisq","df","rng","rgamma","_rng","norm_rand","internal_norm_rand","knuth_taocp_1","knuth_taocp_2002_1","lecuyer_cmrg_1","marsaglia_multicarry_1","mersenne_twister_1","normal_1","super_duper_1","wichmann_hill_1","KnuthTAOCP","KnuthTAOCP2002","LecuyerCMRG","MarsagliaMultiCarry","normal","SuperDuper","WichmannHill","deviance_1","stirling_1","round","R_forceint","dbinom_raw","lf","lc","bd0","stirlerr","dbinom","logX","dnorm_1","pnorm_1","dpois_1","fmax2","DBL_MIN","DBL_EPSILON","sqr","scalefactor","M_cutoff","logcf","eps","c1","c2","c4","a1","b1","b2","a2","c3","log1pmx","two","lgamma1p","coeffs","lgam","pr_dpois_wrap","dpois_wrap","x_plus_1","lambda","dpois_raw","pr_pgamma_smallx","pr_pd_lower_cf","pd_lower_cf","of","f0","pr_pd_lower_series","pr_ppois_asymp","ppois_asymp","coefs_a","coefs_b","elfb","elfb_term","res12","res1_term","res1_ig","res2_term","res2_ig","dfm","pt_","s2pt","np","pnorm5","n_d_over_p","lp","term","dnorm4","dpnorm","nd","pr_pgamma_raw","pgamma_raw","alph","res","lf2","f1m1","f2m1","pgamma_smallx","pd_upper_series","pd_lower_series","printer_pgamma","pgamma","shape","scale","ML_NAN","SIXTEN","do_del","ccum","cum","X","temp","upper","lower","xsq","del","pnorm_both","i_tail","xden","xnum","cp","i2_32m1","dgamma","aslog","pr","dpois","_x","M_PI","printer_cospi","cospi","cos","printer_tanpi","tanpi","tan","atanpi","atan","printer_sinpi","sinpi","sin","dgamma_1","pgamma_1","qgamma_1","polygamma_1","special","digamma","gamma","lgamma","pentagamma","psigamma","tetragamma","trigamma","Gamma","norm","printer_n","gammaNormalizeParams","rate","printer_d","printer_p","printer_q","printer_r","freeze","asLog","_scale","qgamma","lbeta_1","lfastchoose","lfastchoose2","sChoose","choose","_n","_k","internal_choose","lchoose","internal_lchoose","printer_lchoose","k0","k_small_max","printer_choose","schoose","exp_rand","u","ustar","umin","chebyshev_1","trigonometry_1","gamcs","sinpiy","dxrel","chebyshev_eval","_gammafn","sexp_1","_rgamma","printer_rgamma","a4","a6","aa","aaa","s2","q0","si","t","ret_val","DBL_MAX","fsign_1","a0","a3","a5","a7","one_7","one_12","one_24","rpois","fact","fy","g","px","py","big_mu","pp","c0","p0","omega","big_l","muprev","muprev2","difmuk","E","fk","pois","kflag","new_big_mu","printer_rpois","gotoStepF","once","fsign","_rpois","cospi_1","sinpi_1","tanpi_1","beta_1","dbeta_1","dnbeta_1","pbeta_1","pnbeta_1","qbeta_1","qnbeta_1","rchisq_1","rnchisq_1","rbeta_1","beta","Beta","dbeta","shape1","shape2","ncp","dnbeta","pnbeta","qbeta","qnbeta","rbeta","ax","rnchisq","bx","printer_pnbeta2","pnbeta2","o_x","errbd","x0","gx","sumq","tmp_c","pnbeta_raw","qbinom_1","fmin2","MAX_SAFE_INTEGER","INT_MAX","printer_rbinom","rbinom","nin","w2","z","z2","al","alv","amaxp","ffm","ynorm","fm","npq","p1","p2","p3","p4","qn","xl","xll","xlr","xm","xr","psave","nsave","ix","qbinom","gotoL_np_small","gotoFinis","_rbinom","chebyshev_init","dos","nos","eta","err","retCode","ii","b0","twox","pchisq","logspace_add_1","pchisq_1","LN10","M_LN10","_dbl_min_exp","pnchisq_raw","theta","errmax","reltol","itrmax","lam","bound","f_x_2n","f_2n","lamSml","tSml","is_r","is_b","is_it","lt","l_lam","l_x","lu","_L","sum2","logspace_add","pnchisq","qchisq","rpois_1","algmcs","nalgm","xbig","xmax","tmp","rnorm","stirlerror_1","bd0_1","printer_dt","dt","giveLog","l_x2n","x2n","lrg_x2n","I_sqrt_","pt_1","printer_pnt","pnt","tt","_t","rxb","geven","godd","xeven","xodd","tnc","pt","negdel","albeta","it","_pnt","nx","lval","WilcoxonCache","_map2","jstruct","kstruct","cwilcox","besselY_1","Jbessel_1","internal_bessel_j","alpha","nb","na","internal_bessel_y","J_bessel","ncalc","bessel_j","_alpha","Kbessel_1","internal_bessel_k","expo","ize","K_bessel","bessel_k","_expo","besselJ_1","Ybessel_1","Y_bessel","bessel_y","dbinom_1","_asLog","ln","_shape1","_shape2","_ncp","kMax","ncp2","dx2","D","p_k","_dnbeta","USE_LOG_X_CUTOFF","n_NEWTON_FREE","MLOGICAL_NA","printer_qbeta","qbet","qbeta_raw","DBL_very_MIN","DBL_log_v_MIN","DBL_1__eps","fpu","acu_min","p_lo","p_hi","const1","const2","const3","const4","return_q_0","give_log_q","qb","return_q_1","return_q_half","printer_qbeta_raw","R_ifDEBUG_printf","swap_01","log_q_cut","n_N","swap_tail","log_","i_pb","i_inn","la","logbeta","h","qq","swap_choose","use_log_x","warned","add_N_step","xinbta","u_n","acu","tx","u0","log_eps_c","goto_L_Newton","goto_L_return","goto_L_converged","l1ma","bad_u","bad_init","wprev","prev","adj","printer_qnbeta","_p","ux","lx","pnbinom","size","prob","printer_pnbinom_mu","pnbinom_mu","pbinom","qnorm_1","pbinom_1","printer_do_search","do_search","incr","newz","printer_qbinom","oldincr","console","_qbinom","dchisq","dchisq_1","printer_dnchisq","dnchisq","mid","dfmid","imax","nl","ic","qchisq_1","pnchisq_1","qnchisq","racc","Eps","ux0","ff","_qnchisq","_val","ej","s1","__export","Rf_gamma_cody","parity","yi","ysq","printer_sign","sgn","pgamma_2","pgamma_3","printer_qchisq_appr","qchisq_appr","nu","tol","ch","lgam1pa","_qgamma","printer_qgamma","ch0","s3","s4","s5","s6","max_it_Newton","goto_END","_1_p","_1_m","dhyper","lfastchoose_1","printer_qhyper","qhyper","nr","xstart","xend","xb","small_N","NR","NB","ppois","BIG","u1","printer_dsignrank","printer_psignrank","printer_qsignrank","printer_rsignrank","csignrank","dsignrank","rn","psignrank","roundN","lowerT","qsignrank","rsignrank","nn","nRound","sferr_halves","S0","S1","S2","S3","S4","dt_1","SQRT2","printer_qt","qt","ndf","P","neg","is_neg_lower","log_P2","P_ok1","P_ok","_qt","wprob_1","_general_2","printer_ptukey","_ptukey","rr","cc","xlegq","alegq","f21","f2lf","ff4","otsum","qsqz","rotsum","twa1","ulen","wprb","wprob","jj","t1","ptukey","env","selectColor","namespace","hash","charCodeAt","createDebug","colors","prevTime","enabled","_len","arguments","args","_key","self","curr","ms","coerce","unshift","replace","match","format","formatter","formatters","splice","formatArgs","apply","useColors","color","destroy","extend","instances","delimiter","default","stack","message","disable","enable","namespaces","save","skips","len","RegExp","substr","instance","test","humanize","keys","load","besselI_1","besselK_1","besselJ","besselY","besselK","besselI","bessel_i","dnbinom_1","pnbinom_1","qnbinom_1","rnbinom_1","errText","select","fs","dnbinom_mu","qnbinom_mu","rnbinom_mu","dnbinom","qnbinom","rnbinom","NegativeBinomial","rbinom_1","Binomial","dcauchy_1","pcauchy_1","qcauchy_1","rcauchy_1","Cauchy","rcauchy","location","dcauchy","pcauchy","qcauchy","ChebyshevSeries","dnchisq_1","qnchisq_1","ChiSquared","choose_1","dexp_1","pexp_1","qexp_1","rexp_1","rng_1","Exponential","dexp","pexp","qexp","rexp","r_func_2","df_1","dnf_1","pf_1","pnf_1","qf_1","qnf_1","rf_1","FDist","df1","df2","dnf","pf","pnf","qf","qnf","rf","numerator","denominator","dgeom_1","pgeom_1","qgeom_1","rgeom_1","Geometric","dgeom","pgeom","qgeom","rgeom","dhyper_1","phyper_1","qhyper_1","rhyper_1","HyperGeometric","phyper","rhyper","nn1in","nn2in","kkin","dlogis_1","plogis_1","qlogis_1","rlogis_1","Logistic","dlogis","plogis","qlogis","rlogis","dlnorm_1","plnorm_1","qlnorm_1","rlnorm_1","LogNormal","dlnorm","plnorm","qlnorm","rlnorm","meanlog","sdlog","dmultinom_1","rmultinom_1","Multinomial","rmultinom","dmultinom","rnorm_1","Normal","prng","dnorm","pnorm","ppois_1","qpois_1","Poisson","qpois","dsign_1","psign_1","qsign_1","rsign_1","SignRank","dnt_1","pnt_1","qnt_1","qt_1","rt_1","StudentT","dnt","qnt","rt","chisq","ptukey_1","qtukey_1","Tukey","nmeans","nranges","qtukey","dunif_1","punif_1","qunif_1","runif_1","Uniform","dunif","punif","qunif","runif","dweibull_1","pweibull_1","qweibull_1","rweibull_1","Weibull","dweibull","pweibull","qweibull","rweibull","dwilcox_1","pwilcox_1","qwilcox_1","rwilcox_1","Wilcoxon","dwilcox","pwilcox","qwilcox","rwilcox","gamma_cody_1","bessel_constants_1","fmax","I_bessel","nend","intx","nbmx","nstart","pold","em","en","empal","emp2al","halfx","bb","plast","tover","psavel","twonu","bi2","gotoL120","gotoL230","cnt","pow05_to_900","IBessel_1","internal_bessel_i","pi2","i_nend","i_m","capp","capq","vcos","vsin","alpem","alp2em","xc","xk","gnu","xin","gotoL190","intxj","gotoL240","gotoL250","sinh","estm","estf","iend","mplus1","x2by4","blpha","ratio","wminf","d1","d2","d3","t2","dm","ex","bk1","bk2","bk","alfa","ddiv","even","cosmu","sinmu","pa","pa1","qa","qa1","ya","ya1","twobyx","den","odd","aye","dmu","xna","en1","by","lnsml","printer_beta","internal_beta","expmax","u2","qsame","delta","k1","k2","olda","oldb","v_w_from__u1_bet","AA","printer_dnbinom_mu","llogx","printer_qnbinom","Q","printer_rnbinom","printer_rnbinom_mu","my_INF","printer_bratio","s11","s7","s9","alnrel","aj","psi","e0","e1","r0","r1","w0","rlog1","z0","j0","erfc1","j1","h2","hn","znm1","zn","np1","bsum","mm1","mmj","dsum","im1","t0","bcorr","c5","nData","aVec","bVec","fxVec","xVec","gamln","algdiv","gsumln","yp1","anp1","bnp1","an","bn","dResult","brcomp","lnx","n2","bm1","nm1","bp2n","coef","dj","cn","gam1","grat1","lny","y0","betaln","gamln1","apb","esum","w1","ind","spmpar","fpser","apser","bpser","bup","ierr1","bgrat","bfrac","basym","ap1","exparg","brcmp1","bot","top","bvec","xvec","lnb","ipmpar","am0","an0","a2n","b2n","cma","a2nm1","b2nm1","erf","q2","nq","xsmall","xmax1","aug","xmx0","fxvec","rTest","emin","emax","binv","ibeta","one","printer_df","dens","ML_VALID","printer_pf","printer_pnf","n1","v1","v2","logx","logy","n_max","dpsifn","kode","nz","bvalues","mm","mx","elim","fln","rln","rxsq","r1m4","r1m5","slope","ta","tk","tols","tss","tst","wdtol","xmin","xq","yint","xinc","xdmln","xdmy","xln","trm","trmr","lrg","L10","L20","L30","print_psigamma","_deriv","deriv","printer_phyper","pd","oldNB","ss","pdhyper","printer_afc","afc","di","i2","nn1","nn2","setup1","setup2","ks","n1s","n2s","minjx","maxjx","tn","kl","kr","lamdl","lamdr","printer_rhyper","con","lw","goto_L10","n_uv","reject","deltal","deltau","de","dg","dr","ds","gl","gu","nk","nm","ub","xn","y1","ym","yn","yk","_rhyper","binomial_1","binomial_negative_1","cauchy_1","chi_2_1","exp_1","f_distro_1","gamma_1","geometric_1","hypergeometric_1","logis_1","lognormal_1","multinom_1","poisson_1","signrank_1","student_t_1","tukey_1","uniform_1","weibull_1","wilcoxon_1","bessel_1","beta_2","common_1","gamma_2","assign","R","printer_dlogis","Rf_log1pexp","printer_plogis","printer_qlogis","printer_rlogis","filter","badProb","i0","_v","errMsg","join","printer_rmultinom","rN","K","_size","p_tot","_rmultinom","nearbyint","printer_qpois","_qpois","QUALITY","LL","KK","TT","MM","mod_diff","is_odd","KT_pos","ran_x","ran_array","ran_arr_buf","se","ran_start","ran_arr_cycle","KNUTH_TAOCP2002","qualityBuffer","KT_next","RNG_Init_KT2","taocp_1997_init_1","KT","slice","TAOCP1997init","KNUTH_TAOCP","RNG_Init_R_KT","MMF","T","KKL","a12","a13n","m2","m1","normc","a21","a23n","LECUYER_CMRG","II","MARSAGLIA_MULTICARRY","un","jump","BM_norm_keep","reset","A","u3","C1","C2","SUPER_DUPER","WICHMANN_HILL","csignrank_1","signal","printer_dnt","_qnt","valx0","valx1","xabs","ps","qinv","_qtukey","wlar","wincr1","wincr2","nleg","ihalf","xleg","aleg","C3","ac","pr_w","binc","cc1","pminus","pplus","qexpo","rinsum","wi","wincr","blb","bub","einsum","elsum","fp","tmp1","tmp2","cwilcox_1","WilcoxonCache_1","printer_dwilcox","printer_pwilcox","printer_qwilcox","printer_rwilcox","_typeof","obj","Symbol","iterator","constructor","_console","lastC","storage","setItem","removeItem","error","getItem","DEBUG","window","navigator","userAgent","toLowerCase","document","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","$1","localStorage","localstorage","JSON","stringify","tty","util","inspectOpts","stderr","write","colorCode","prefix","concat","hideDate","toISOString","getDate","Boolean","isatty","fd","supportsColor","level","reduce","prop","substring","_","toUpperCase","inspect","O","plural","msAbs","isPlural","options","String","exec","parse","long","fmtLong","fmtShort"],"mappings":"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CT,OA3BApwC,GADA2yB,GAJAjoB,EAAIlJ,KAAK4D,IAAIie,EAAI6G,KACjBpd,EAAItL,KAAKkF,IAAI2c,EAAI6G,MAIR,EAAMyI,GAiBfzc,MACM47B,GAPN5B,EAAM,IAVNhuC,EAAI,GAAO,EAAMywB,KACjB1vB,EAAKf,EAAIA,IAQTkuC,EAAK,GAAOluC,EAAIe,GADhBktC,EAAK,GAAOjuC,EAAIe,GADhB20B,EAAK,GAAO11B,EAAIe,GADhBy0B,EAAK,GAAOx1B,EAAIe,aAShBggB,EAAIzhB,KAAKqB,IAAI,EAAMiK,EAAG,IAED0M,EAAK42B,GAAMntB,EAAIpJ,EAAKs2B,GAAMltB,EAAI1J,EAAKqe,GAAM3U,EAAI3J,EAAKoe,GACrEzU,EACAmB,EACFlO,GAASlW,EAAI8M,OAMDglC,GADZ7uB,EAAIzhB,KAAKqB,IAAI,EAAM6H,EAAG,IACD8O,GAAMyJ,EAAIpJ,GAAMoJ,EAAI1J,GAAM0J,EAAI3J,GAAM2J,EAAImB,GAAM1Z,EAAIwL,EAIlE5F,uBACLyhC,EACArnC,EACAoC,EACA5K,EACA+I,GAsEA,MAEM+mC,GACJ,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAGIC,GACJ,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAGIC,GACJ,mBACA,kBACA,EACA,EACA,oBACA,kBACA,kBACA,GACA,KACA,KACA,KACA,KACA,GACA,KACA,KACA,KACA,KACA,kBACA,kBACA,gBACA,EACA,GACA,kBACA,kBACA,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7R,KAAKuR,OAAOmB,IAAIZ,GAGlBb,WACE,OAAOtH,MAAMgJ,KAAK3S,KAAKuR,yFC7C3B,MAAAwG,EAAA5X,EAAA,GACA0U,EAAA1U,EAAA,IAEMiL,GACJ,EACA,UACA,UACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,QACA,SACA,UAGIxK,GACJ,EACA,EACA,EACA,EACA,EACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,OACA,SACA,SACA,SACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAGI+iB,GACJ,YACA,UACA,WACA,WACA,WACA,WACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,QACA,SACA,SACA,QACA,UAGI0P,GACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,SACA,SACA,SACA,UAGF7zB,EAAAgV,2BAAkCK,EAAAC,WAChC9D,YAAYwG,EAAa,IAAIO,EAAAjH,gBAAgB,IAC3CiB,MAAMyF,GAGExG,qBACR,IAEI4F,EACA0M,EACAwK,EACA6hB,EACAtsC,EANAo2B,EAAaz5B,KAAKsX,IAAI1D,YACtBhS,EAAI,EAMJ63B,EAAK,KACP73B,EAAI,GAEN63B,EAAKA,EAAKA,EAAK73B,EACf63B,GAAM,GAEN,MAAMp5B,EAAI,IAAI+Q,YAAYqoB,IAE1B,GADa,KAATp5B,EAAE,KAAWA,EAAE,GAAK,IACX,IAATA,EAAE,GAAU,CAGd,IAFAsvC,EAAKlW,EAAKp5B,EAAE,GACZijB,EAAKlY,EAAE/K,EAAE,GAAK,GACPsvC,GAAMhsB,EAAEtjB,EAAE,GAAK,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","file":"libR.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"tty\"), require(\"util\"), (function webpackLoadOptionalExternalModule() { try { return require(\"supports-color\"); } catch(e) {} }()));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"tty\", \"util\"], function webpackLoadOptionalExternalModuleAmd(__WEBPACK_EXTERNAL_MODULE_186__, __WEBPACK_EXTERNAL_MODULE_187__) {\n\t\t\treturn factory(__WEBPACK_EXTERNAL_MODULE_186__, __WEBPACK_EXTERNAL_MODULE_187__, root[\"supports-color\"]);\n\t\t});\n\telse if(typeof exports === 'object')\n\t\texports[\"libR\"] = factory(require(\"tty\"), require(\"util\"), (function webpackLoadOptionalExternalModule() { try { return require(\"supports-color\"); } catch(e) {} }()));\n\telse\n\t\troot[\"libR\"] = factory(root[\"tty\"], root[\"util\"], root[\"supports-color\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_186__, __WEBPACK_EXTERNAL_MODULE_187__, __WEBPACK_EXTERNAL_MODULE_185__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 136);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2e79de35e32542a83e64","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nconst debug_R_Q_P01_boundaries = debug('R_Q_P01_boundaries');\nconst debug_R_Q_P01_check = debug('R_Q_P01_check');\n\nexport const M_SQRT2 = 1.41421356237309504880168872421; /* sqrt(2) */\nexport const frac = (x: number) => x - Math.trunc(x);\n//export const DBL_MAX_10_EXP = Math.log10(Number.MAX_VALUE);\n//export const MAX_DIGITS = DBL_MAX_10_EXP;\n//export const INT_MAX = Number.MAX_SAFE_INTEGER;\n//export const INT_MIN = Number.MIN_SAFE_INTEGER;\nexport const M_SQRT_32 = 5.656854249492380195206754896838; /* sqrt(32) */\nexport const DBL_MANT_DIG = 18;\n//export const FLT_MANT_DIG = DBL_MANT_DIG;\nexport const M_LN2 = 0.693147180559945309417232121458; /* ln(2) */\nexport const M_1_SQRT_2PI = 0.398942280401432677939946059934;\n//export const nearbyint = rround;\n//export const R_forceint = nearbyint;\n//export const R_rint = nearbyint;\nexport const M_2PI = 6.283185307179586476925286766559;\nexport const M_LN_2PI = 1.837877066409345483560659472811; /* \n   6.0E-17, we used the comments in the nmath lib to find epsilon that fullfills x == x-epsilon\n   this does not cover the internal accurace of build in functions in Math.cos, Math.sin etc\n*/\n/*export const sqrt = Math.sqrt;\nexport const asin = Math.asin;\nexport const acos = Math.acos;\nexport const atan = Math.atan;\nexport const atan2 = Math.atan2;\n*/ /*export const DBL_EPSILON = Number.EPSILON;\nexport const sinh = Math.sinh;\nexport const DBL_MAX = Number.MAX_VALUE;\nexport const exp = Math.exp;\nexport const isInteger = Number.isInteger;\nexport const sin = Math.sin;\nexport const cos = Math.cos;\nexport const tan = Math.tan;\n*/ export const M_1_PI =\n  1.0 / Math.PI;\n/*export const R_FINITE = (x: number) => Number.isFinite(x);\nexport const NaN = Number.NaN;\nexport const FLT_MIN = 2.22507e-308; //10^24  larger then Number.MIN_VALUE\nexport const DBL_MIN = FLT_MIN;\nexport const log = Math.log;\nexport const ISNAN = Number.isNaN;\nexport const ML_NAN = NaN;\nexport const round = Math.round;\nexport const ML_POSINF = Number.POSITIVE_INFINITY;\nexport const ML_NEGINF = Number.NEGATIVE_INFINITY;\nexport const M_PI = 3.14159265358979323846264338327950288;\n*/ export const M_PI_2 =\n  Math.PI / 2;\nexport const M_LN_SQRT_PI = 0.57236494292470008; // log(sqrt(pi))\nexport const M_LN_SQRT_2PI = 0.918938533204672741780329736406; // log(sqrt(2*pi))\nexport const M_LN_SQRT_PId2 = 0.225791352644727432363097614947; // log(sqrt(pi/2))\n//export const M_LN10 = 2.30258509299404568402; /* log_e 10 */\n//export const ML_VALID = (x: number) => !ISNAN(x);\n//export const floor = Math.floor;\nexport const M_SQRT_2dPI = 0.797884560802865355879892119869; // sqrt(2/pi)\nexport const M_LOG10_2 = 0.301029995663981195213738894724; //Math.log10(2);\n//export const FLT_RADIX = 2;\n//export const CHAR_BIT = 8;\nexport const DBL_MAX_EXP = Math.log2(Number.MAX_VALUE);\nexport const DBL_MIN_EXP = Math.log2(Number.MIN_VALUE);\n//export const FLT_MAX_EXP = DBL_MAX_EXP;\n//export const FLT_MIN_EXP = DBL_MIN_EXP;\n//export const sizeofInt =\n//  4 * Math.ceil(Math.log(Number.MAX_SAFE_INTEGER) / Math.log(2) / 4 / CHAR_BIT);\n\nexport const R_D__1 = (logP: boolean) => {\n  return logP ? 0 : 1.0;\n};\n\nexport const R_D__0 = (logP: boolean): number => {\n  return logP ? Number.NEGATIVE_INFINITY : 0.0;\n};\n\nexport const R_DT_0 = (lower_tail: boolean, log_p: boolean): number => {\n  return lower_tail ? R_D__0(log_p) : R_D__1(log_p);\n};\nexport const R_DT_1 = (lower_tail: boolean, log_p: boolean): number => {\n  return lower_tail ? R_D__1(log_p) : R_D__0(log_p);\n};\nexport const R_D_val = (log_p: boolean, x: number) => {\n  return log_p ? Math.log(x) : x;\n};\n\nexport function R_D_Clog(log_p: boolean, p: number): number {\n  return log_p ? Math.log1p(-p) : 0.5 - p + 0.5; /* [log](1-p) */\n}\n\nexport function R_DT_val(lower_tail: boolean, log_p: boolean, x: number) {\n  return lower_tail ? R_D_val(log_p, x) : R_D_Clog(log_p, x);\n}\n\n/*\nexport function rround(x: number) {\n  if (x < 0) {\n    return trunc(x - 0.5);\n  }\n  return trunc(x + 0.5);\n}\n*/\nexport function imin2(x: number, y: number): number {\n  return Math.trunc(Math.min(x, y));\n}\n\n/* Use 0.5 - p + 0.5 to perhaps gain 1 bit of accuracy */\nexport function R_D_Lval(lowerTail: boolean, p: number): number {\n  return lowerTail ? p : 1 - p; /*  p  */\n}\n\nexport function R_D_Cval(lowerTail: boolean, p: number): number {\n  return lowerTail ? 1 - p : p; /*  1 - p */\n}\n\nexport function R_P_bounds_Inf_01(\n  lowerTail: boolean,\n  log_p: boolean,\n  x: number\n): number | undefined {\n  if (!Number.isFinite(x)) {\n    if (x > 0) {\n      return R_DT_1(lowerTail, log_p);\n    }\n    return R_DT_0(lowerTail, log_p);\n  }\n  return undefined;\n}\n\nexport function R_D_half(log_p: boolean) {\n  return log_p ? -M_LN2 : 0.5; // 1/2 (lower- or upper tail)\n}\n\nexport function R_P_bounds_01(\n  lower_tail: boolean,\n  log_p: boolean,\n  x: number,\n  x_min: number,\n  x_max: number\n): number | undefined {\n  if (x <= x_min) return R_DT_0(lower_tail, log_p);\n  if (x >= x_max) return R_DT_1(lower_tail, log_p);\n  return undefined;\n}\n\nexport const R_D_exp = (log_p: boolean, x: number): number => {\n  return log_p ? x : Math.exp(x);\n  /* exp(x) */\n};\n\nexport enum ME {\n  ME_NONE = 0, // no error\n  ME_DOMAIN = 1, // argument out of domain\n  ME_RANGE = 2, //  value out of range\n  ME_NOCONV = 4, //process did not converge\n  ME_PRECISION = 8, //does not have \"full\" precision\n  ME_UNDERFLOW = 16 // and underflow occured (important for IEEE)\n}\n/*\nexport const min0 = (x: number, y: number): number => {\n  return x <= y ? x : y;\n};\nexport const max0 = (x: number, y: number): number => {\n  return x <= y ? y : x;\n};\n*/\nexport const mapErr = new Map([\n  [ME.ME_NONE, 'No error'],\n  [ME.ME_DOMAIN, \"argument out of domain in '%s'\"],\n  [ME.ME_RANGE, \"argument out of domain in '%s'\"],\n  [ME.ME_NOCONV, \"convergence failed in '%s'\"],\n  [ME.ME_PRECISION, \"full precision may not have been achieved in '%s'\"],\n  [ME.ME_UNDERFLOW, \"underflow occurred in '%s'\"]\n]);\n\nexport const ML_ERROR = (x: ME, s: any, printer: debug.IDebugger) => {\n  const str = mapErr.get(x);\n  if (str) {\n    printer(str, s);\n  }\n};\n\nexport function ML_ERR_return_NAN(printer: debug.IDebugger) {\n  ML_ERROR(ME.ME_DOMAIN, '', printer);\n  return Number.NaN;\n}\n\nexport function R_D_nonint_check(\n  log: boolean,\n  x: number,\n  printer: debug.IDebugger\n) {\n  if (R_nonint(x)) {\n    printer('non-integer x = %d', x);\n    return R_D__0(log);\n  }\n  return undefined;\n}\n\nexport function fmod(x: number, y: number): number {\n  // 4.2 % 0.1 gives 0.099999999\n  // this is wong so...\n  return x - Math.trunc(x / y) * y;\n}\n\nexport function imax2(x: number, y: number): number {\n  return Math.trunc(Math.max(x, y));\n}\n\nexport function isOdd(k: number) {\n  return Math.floor(k) % 2 === 1;\n}\n\nexport function epsilonNear(x: number, target: number): number {\n  if (Number.isNaN(x)) return x;\n  if (!isFinite(x)) return x;\n  if (Number.isNaN(target)) return x;\n  if (!isFinite(target)) return x;\n\n  let diff = x - target;\n  if (diff > Number.EPSILON || diff < -Number.EPSILON) {\n    return x;\n  }\n  return target;\n}\n\nexport function isEpsilonNear(x: number, target: number): boolean {\n  if (isFinite(x) && isFinite(target)) return epsilonNear(x, target) === target;\n  return false;\n}\n\n/*\nexport function Rf_d1mach(i: number): number {\n  switch (i) {\n    case 1:\n      return Number.MIN_VALUE;\n    case 2:\n      return Number.MAX_VALUE;\n\n    case 3:\n      // = FLT_RADIX  ^ - DBL_MANT_DIG\n      //  for IEEE:  = 2^-53 = 1.110223e-16 = .5*DBL_EPSILON \n      return 0.5 * Number.EPSILON;\n\n    case 4:\n      // = FLT_RADIX  ^ (1- DBL_MANT_DIG) =\n      //     for IEEE:  = 2^-52 = DBL_EPSILON \n      return Number.EPSILON;\n\n    case 5:\n      return M_LOG10_2;\n\n    default:\n      return 0.0;\n  }\n}\n*/\nexport function R_D_negInonint(x: number) {\n  return x < 0.0 || R_nonint(x);\n}\n\nexport function R_nonint(x: number) {\n  return !Number.isInteger(x); //Math.abs(x - Math.round(x)) > 1e-7 * Math.max(1, Math.abs(x));\n}\n\nexport function R_D_fexp(give_log: boolean, f: number, x: number): number {\n  return give_log ? -0.5 * Math.log(f) + x : Math.exp(x) / Math.sqrt(f);\n}\n\n/** bessel section */\n/** bessel section */\n/** bessel section */\n\nexport const nsig_BESS = 16;\nexport const ensig_BESS = 1e16;\nexport const rtnsig_BESS = 1e-4;\nexport const enmten_BESS = 8.9e-308;\nexport const enten_BESS = 1e308;\n\nexport const exparg_BESS = 709;\nexport const xlrg_BESS_IJ = 1e5;\nexport const xlrg_BESS_Y = 1e8;\nexport const thresh_BESS_Y = 16;\n\nexport const xmax_BESS_K = 705.342; /* maximal x for UNscaled answer */\n\n/* sqrt(DBL_MIN) =\t1.491668e-154 */\nexport const sqxmin_BESS_K = 1.49e-154;\n\n/* x < eps_sinc\t <==>  sin(x)/x == 1 (particularly \"==>\");\n  Linux (around 2001-02) gives 2.14946906753213e-08\n  Solaris 2.5.1\t\t gives 2.14911933289084e-08\n*/\nexport const M_eps_sinc = 2.149e-8;\n\nexport function R_pow_di(x: number, n: number) {\n  let pow: number = 1.0;\n\n  if (Number.isNaN(x)) return x;\n  if (n !== 0) {\n    if (!Number.isFinite(x)) return R_pow(x, n);\n    if (n < 0) {\n      n = -n;\n      x = 1 / x;\n    }\n    while (true) {\n      if (n & 1) pow *= x;\n      if ((n >>= 1)) x *= x;\n      else break;\n    }\n  }\n  return pow;\n}\n\n//export const NA_REAL = ML_NAN;\n//export const R_PosInf = ML_POSINF;\n//export const R_NegInf = ML_NEGINF;\n\nexport function R_pow(x: number, y: number): number {\n  /* = x ^ y */\n\n  /* squaring is the most common of the specially handled cases so\n       check for it first. */\n  if (y === 2.0) return x * x;\n  if (x === 1 || y === 0) return 1;\n  if (x === 0) {\n    if (y > 0) return 0;\n    else if (y < 0) return Number.POSITIVE_INFINITY;\n    else return y; /* NA or NaN, we assert */\n  }\n  if (Number.isFinite(x) && Number.isFinite(y)) {\n    /* There was a special case for y == 0.5 here, but\n           gcc 4.3.0 -g -O2 mis-compiled it.  Showed up with\n           100^0.5 as 3.162278, example(pbirthday) failed. */\n    return Math.pow(x, y);\n  }\n  if (Number.isNaN(x) || Number.isNaN(y)) return x + y;\n  if (!Number.isFinite(x)) {\n    if (x > 0)\n      /* Inf ^ y */\n      return y < 0 ? 0 : Number.POSITIVE_INFINITY;\n    else {\n      /* (-Inf) ^ y */\n      if (Number.isFinite(y) && y === Math.floor(y))\n        /* (-Inf) ^ n */\n        return y < 0 ? 0 : myfmod(y, 2) ? x : -x;\n    }\n  }\n  if (!Number.isFinite(y)) {\n    if (x >= 0) {\n      if (y > 0)\n        /* y == +Inf */\n        return x >= 1 ? Number.POSITIVE_INFINITY : 0; /* y == -Inf */\n      else return x < 1 ? Number.POSITIVE_INFINITY : 0;\n    }\n  }\n  return NaN; // all other cases: (-Inf)^{+-Inf, non-int}; (neg)^{+-Inf}\n}\n\nexport const R_finite = (x: number) => !Number.isFinite(x);\n\n/* C++ math header undefines any isnan macro. This file\n   doesn't get C++ headers and so is safe. */\nexport const R_isnancpp = (x: number) => Number.isNaN(x);\n\nexport function myfmod(x1: number, x2: number) {\n  let q = x1 / x2;\n  return x1 - Math.floor(q) * x2;\n}\n\nexport function R_powV(x: number, y: number): number /* = x ^ y */ {\n  if (x === 1 || y === 0) return 1;\n  if (x === 0) {\n    if (y > 0) return 0;\n    /* y < 0 */ return Number.POSITIVE_INFINITY;\n  }\n  if (Number.isFinite(x) && Number.isFinite(y)) return Math.pow(x, y);\n  if (Number.isNaN(x) || Number.isNaN(y)) {\n    return x + y;\n  }\n  if (!Number.isFinite(x)) {\n    if (x > 0)\n      /* Inf ^ y */\n      return y < 0 ? 0 : Number.POSITIVE_INFINITY;\n    else {\n      /* (-Inf) ^ y */\n      if (Number.isFinite(y) && y === Math.floor(y))\n        /* (-Inf) ^ n */\n        return y < 0 ? 0 : myfmod(y, 2) ? x : -x;\n    }\n  }\n  if (!Number.isFinite(y)) {\n    if (x >= 0) {\n      if (y > 0)\n        /* y == +Inf */\n        return x >= 1 ? Number.POSITIVE_INFINITY : 0; /* y == -Inf */\n      else return x < 1 ? Number.POSITIVE_INFINITY : 0;\n    }\n  }\n  return NaN; /* all other cases: (-Inf)^{+-Inf,\n                   non-int}; (neg)^{+-Inf} */\n}\n\n//  return x * Math.pow(2,y)\nexport function ldexp(x: number, y: number): number {\n  if (Number.isNaN(x) || Number.isNaN(y)) {\n    return x + y;\n  }\n  if (!Number.isFinite(x) || !Number.isFinite(y)) {\n    return Number.POSITIVE_INFINITY;\n  }\n  return x * Math.pow(2, y);\n}\n\n/*\nexport function Rf_i1mach(i: number): number {\n  switch (i) {\n    case 1:\n      return 5;\n    case 2:\n      return 6;\n    case 3:\n      return 0;\n    case 4:\n      return 0;\n\n    case 5:\n      return CHAR_BIT * sizeofInt;\n    case 6:\n      return sizeofInt;\n\n    case 7:\n      return 2;\n    case 8:\n      return CHAR_BIT * sizeofInt - 1;\n    case 9:\n      return INT_MAX;\n\n    case 10:\n      return FLT_RADIX;\n\n    case 11:\n      return FLT_MANT_DIG;\n    case 12:\n      return FLT_MIN_EXP;\n    case 13:\n      return FLT_MAX_EXP;\n\n    case 14:\n      return DBL_MANT_DIG;\n    case 15:\n      return DBL_MIN_EXP;\n    case 16:\n      return DBL_MAX_EXP;\n\n    default:\n      return 0;\n  }\n}\n*/\n\n/*\nexport function iF77_NAME(i: number) {\n  return Rf_i1mach(i);\n}\n*/\n\nexport function R_D_log(log_p: boolean, p: number) {\n  return log_p ? p : Math.log(p); /* log(p) */\n}\n\nexport function R_Q_P01_boundaries(\n  lower_tail: boolean,\n  log_p: boolean,\n  p: number,\n  _LEFT_: number,\n  _RIGHT_: number\n): number | undefined {\n  if (log_p) {\n    if (p > 0) {\n      return ML_ERR_return_NAN(debug_R_Q_P01_boundaries);\n    }\n    if (p === 0)\n      /* upper bound*/\n      return lower_tail ? _RIGHT_ : _LEFT_;\n    if (p === Number.NEGATIVE_INFINITY) return lower_tail ? _LEFT_ : _RIGHT_;\n  } else {\n    /* !log_p */\n    if (p < 0 || p > 1) {\n      return ML_ERR_return_NAN(debug_R_Q_P01_boundaries);\n    }\n    if (p === 0) return lower_tail ? _LEFT_ : _RIGHT_;\n    if (p === 1) return lower_tail ? _RIGHT_ : _LEFT_;\n  }\n  return undefined;\n}\n\nexport function R_Q_P01_check(logP: boolean, p: number): number | undefined {\n  if ((logP && p > 0) || (!logP && (p < 0 || p > 1))) {\n    return ML_ERR_return_NAN(debug_R_Q_P01_check);\n  }\n  return undefined;\n}\n\n//#define R_D_qIv(p)\t(log_p\t? exp(p) : (p))\t\t/*  p  in qF(p,..) */\nexport function R_D_qIv(logP: boolean, p: number) {\n  return logP ? Math.exp(p) : p;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/common/_general.ts","\"use strict\";\n\n/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/debug/src/index.js\n// module id = 1\n// module chunks = 0 1","const { abs, sign, floor, trunc, max } = Math;\nconst { isNaN } = Number;\nconst { isArray } = Array;\n\nimport * as debug from 'debug';\n\nconst printer_seq = debug('seq');\nconst precision9 = numberPrecision(9);\n\nexport function isOdd(n: number): boolean {\n\tif (isFinite(n)) {\n\t\treturn floor(n / 2) * 2 < n;\n\t}\n\tthrow new Error(`Not a finite Number: ${n}`);\n}\n\nexport const seq = (adjust = 0) => (adjustMin = adjust) => (\n\tstart: number,\n\tend?: number,\n\tstep: number = 1\n): number[] => {\n\tif (end === undefined) {\n\t\tif (start <= 0 || start === undefined) {\n\t\t\treturn [];\n\t\t}\n\t\tend = 1;\n\t}\n\tlet s = start + adjust;\n\tlet e = end + adjust;\n\tlet cursor = s;\n\n\tif (end < start) {\n\t\te = start + adjustMin;\n\t\ts = end + adjustMin;\n\t\tcursor = e;\n\t}\n\t// wow: Chrome and FireFox give\n\t// 0.4+0.2 = 0.6000000000000001\n\t// so we use precision to have it make sense\n\t// sometimes rounding effects try something diff\n\tstep = abs(step) * sign(end - start);\n\tprinter_seq('step:%d', step);\n\n\tconst rc: number[] = [];\n\n\tdo {\n\t\trc.push(cursor);\n\t\tcursor += step;\n\t} while (precision9(cursor) >= s && precision9(cursor) <= e && step !== 0);\n\n\treturn precision9(rc) as any;\n};\n\nexport function selector(...rest: (number | number[])[]): { (val: any, index: number): boolean } {\n\tconst flat = flatten(rest);\n\treturn (val: any, idx: number) => {\n\t\treturn flat.indexOf(idx) >= 0;\n\t};\n}\n\nexport function flatten<T>(...rest: (T | T[])[]): T[] {\n\tlet rc: number[] = [];\n\tfor (const itm of rest) {\n\t\tif (isArray(itm)) {\n\t\t\tlet rc2: number[] = flatten(...itm) as any;\n\t\t\trc.push(...rc2);\n\t\t\tcontinue;\n\t\t}\n\t\trc.push(itm as any);\n\t}\n\treturn rc as any;\n}\n\nexport function arrayrify<T, R>(fn: (x: T, ...rest: any[]) => R) {\n\treturn function(x: T | T[], ...rest: any[]): R | R[] {\n\t\tconst fp = Array.isArray(x) ? x : [ x ];\n\t\tconst result = fp.map((p) => fn(p, ...rest));\n\t\treturn result.length === 1 ? result[0] : result;\n\t};\n}\n\nexport function multiplex(fn: (...rest: (any | any[])[]) => any) {\n\treturn function(...rest: (any | any[])[]) {\n\t\treturn multiplexer(...rest)(fn);\n\t};\n}\n\nexport function asArray(fn: (...rest: (any | any[])[]) => any) {\n\treturn function(...rest: (any | any[])[]) {\n\t\tconst ans = fn(...rest);\n\t\treturn Array.isArray(ans) ? ans : [ ans ];\n\t};\n}\n\nfunction possibleScalar<T>(x: T[]): T | T[] {\n\treturn x.length === 1 ? x[0] : x;\n}\n\nexport { possibleScalar };\n\nfunction coerceToArray(o: any): { key: string | number; val: any }[] {\n\tif (o === null || o === undefined) {\n\t\tthrow new TypeError('Illegal argument excepton: input needs to NOT be \"null\" or \"undefined\".');\n\t}\n\tif (typeof o === 'number') {\n\t\treturn [ { key: 0, val: o } ] as any;\n\t}\n\tif (isArray(o)) {\n\t\treturn o.map((x, idx) => ({ key: idx, val: x } as any));\n\t}\n\tif (typeof o === 'string') {\n\t\treturn o.split('').map((x, idx) => ({ key: idx, val: x } as any));\n\t}\n\tif (typeof o === 'object') {\n\t\tconst names = Object.getOwnPropertyNames(o);\n\t\tif (names.length === 0) {\n\t\t\tthrow new Error('Input argument is an Object with no properties');\n\t\t}\n\t\treturn names.map((name) => ({ key: name, val: o[name] })) as any;\n\t}\n\tthrow new Error('unreachable code');\n}\n\nexport function multiplexer(...rest: (any | any[])[]) {\n\t//analyze\n\tconst analyzed: any[] = [];\n\n\tfor (let k = 0; k < rest.length; k++) {\n\t\tconst arg = rest[k];\n\t\t// null is special\n\t\tif (arg === null) {\n\t\t\tanalyzed.push([ arg ]);\n\t\t\tcontinue;\n\t\t}\n\t\tif ([ 'undefined', 'boolean', 'number' ].indexOf(typeof arg) >= 0) {\n\t\t\tanalyzed.push([ arg ]);\n\t\t\tcontinue;\n\t\t}\n\t\tif (typeof arg === 'string') {\n\t\t\tanalyzed.push(arg.split(''));\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(arg)) {\n\t\t\tanalyzed.push(arg);\n\t\t\tcontinue;\n\t\t}\n\t\tif (arg instanceof Object) {\n\t\t\tthrow new Error('Sorry, looping over properties not yet supported');\n\t\t}\n\t\tif (arg instanceof Function) {\n\t\t\tthrow new Error('Sorry function arguments are not yet supported');\n\t\t}\n\t} //for\n\t// find the longest array\n\tconst _max = max(...analyzed.map((a) => a.length));\n\n\treturn function(fn: (...rest: any[]) => any): any | any[] {\n\t\tconst rc: any[] = [];\n\n\t\tfor (let k = 0; k < _max; k++) {\n\t\t\tconst result: any[] = [];\n\t\t\tfor (let j = 0; j < analyzed.length; j++) {\n\t\t\t\tconst arr: any[] = analyzed[j];\n\t\t\t\tconst idx = k % arr.length;\n\t\t\t\tresult.push(arr[idx]);\n\t\t\t}\n\t\t\trc.push(fn(...result));\n\t\t}\n\t\treturn possibleScalar(rc);\n\t};\n}\n\n/**\n * \n *  xx can be an array or a \"pojo\"-object with properties\n * \n */\n\ntype ArrayElt = { key: string | number; val: any };\n\nfunction iter<T>(wantMap = true) {\n\treturn function(xx: T): { (fn: (x: any, idx?: number | string) => any): any | any[] } {\n\t\tconst fx: ArrayElt[] = coerceToArray(xx) as any;\n\t\treturn function(fn: (x: any, idx?: number | string) => any): any | any[] {\n\t\t\treturn wantMap ? possibleScalar(fx.map((o) => fn(o.val, o.key))) : fx.forEach((o) => fn(o.val, o.key));\n\t\t};\n\t};\n}\n\nexport const map = iter();\nexport const each = iter(false);\n\nexport function numberPrecision(prec: number = 6) {\n\tfunction convert(x: number): number {\n\t\tif (isNaN(x)) {\n\t\t\treturn NaN;\n\t\t}\n\t\treturn Number.parseFloat(x.toPrecision(prec));\n\t}\n\n\treturn arrayrify(convert);\n}\n\nexport function any<T>(x: T[]) {\n\treturn function(fn: any | ((v: T, i?: number) => boolean)): boolean {\n\t\tif (fn instanceof Function) {\n\t\t\treturn x.find(fn) !== undefined;\n\t\t}\n\t\treturn x.find((d) => d === fn) !== undefined;\n\t};\n}\n\nexport function sum(x: any[]): number {\n\tlet rc = 0;\n\tfor (let i = 0; i < x.length; i++) {\n\t\tif (isArray(x[i])) {\n\t\t\trc += sum(x[i]);\n\t\t\tcontinue;\n\t\t}\n\t\tif (typeof x[i] === 'string') {\n\t\t\tconst trial = Number.parseFloat(x[i]);\n\t\t\tif (Number.isFinite(trial)) {\n\t\t\t\trc += trial;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthrow Error(`${x[i]} is not a number or can be coerced to a number`);\n\t\t}\n\t\tif (typeof x[i] === 'number' && Number.isFinite(x[i])) {\n\t\t\trc += x[i];\n\t\t\tcontinue;\n\t\t}\n\t\tthrow new Error(`${x[i]} is not a number`);\n\t}\n\treturn rc;\n}\n\nexport const div = multiplex((a: number, b) => a / b);\nexport const mult = multiplex((a: number, b) => a * b);\n\nexport interface ISummary {\n\tN: number; // number of samples in \"data\"\n\tmu: number; // mean of \"data\"\n\tpopulation: {\n\t\tvariance: number; // population variance (data is seen as finite population)\n\t\tsd: number; // square root of the population variance\n\t};\n\tsample: {\n\t\tvariance: number; // sample variance (data is seen as a small sample from an very large population)\n\t\tsd: number; // square root of \"sample variance\"\n\t};\n\trelX; // = x-E(x)\n\trelX2; // = ( x-E(x) )^2\n\tstats: {\n\t\tmin: number; // minimal value from \"data\"\n\t\t'1st Qu.': number; // 1st quantile from \"data\"\n\t\tmedian: number; // median value from \"data\n\t\t'3rd Qu.': number; // 3rd quantile from \"data\"\n\t\tmax: number; // maximum value in data\n\t};\n}\n\nexport function summary(x: number[]): ISummary {\n\tif (!Array.isArray(x)) {\n\t\tthrow new Error(`Illigal argument, not an array`);\n\t}\n\tif (x.length === 0) {\n\t\tthrow new Error(`argument Array is empty`);\n\t}\n\tif (x.findIndex((v) => isNaN(v)) >= 0) {\n\t\tthrow new Error(`argument Array has NaNs`);\n\t}\n\n\tconst N = x.length;\n  const mu = sum(x) / N;\n  let relX2 = 0;\n  for (let i = 0; i < x.length; i++) {\n\t\t\trelX2 +=  (x[i] - mu) * ( x[i] - mu);\n  }\n  const sampleVariance = relX2 / (N - 1);\n\tconst populationVariance = sampleVariance * (N - 1) / N;\n\tconst sampleSD = Math.sqrt(sampleVariance);\n\tconst populationSD = Math.sqrt(populationVariance);\n\t// quantiles\n\tconst o = x.sort((a, b) => a - b);\n\tconst min = o[0];\n\tconst max = o[N - 1];\n\t//isOdd?\n\tconst { q1, median, q3 } = (function() {\n\t\tconst i = [ 4, 2, 4 / 3 ].map((v) => (N - 1) / v);\n\t\tconst q = i.map((index) => {\n\t\t\tconst f1 = 1 - (index - floor(index));\n\t\t\tconst f2 = 1 - f1;\n\t\t\treturn o[trunc(index)] * f1 + o[trunc(index) + 1] * f2;\n\t\t});\n\t\treturn {\n\t\t\tq1: q[0],\n\t\t\tmedian: q[1],\n\t\t\tq3: q[2]\n\t\t};\n\t})();\n\treturn {\n\t\tN,\n\t\tmu,\n\t\tpopulation: {\n\t\t\tvariance: populationVariance,\n\t\t\tsd: populationSD\n\t\t},\n\t\tsample: {\n\t\t\tvariance: sampleVariance,\n\t\t\tsd: sampleSD\n    },\n    // only show first 50 of relX and relX2\n\t  relX: 'depricated',\n\t\trelX2: 'depricated',\n\t\tstats: {\n\t\t\tmin,\n\t\t\t'1st Qu.': q1,\n\t\t\tmedian,\n\t\t\t'3rd Qu.': q3,\n\t\t\tmax\n\t\t}\n\t};\n}\n\n// https://en.wikipedia.org/wiki/Welch%E2%80%93Satterthwaite_equation\n\nexport function Welch_Satterthwaite(s: number[], n: number[]): number {\n\tconst elts = flatten(\n\t\tmap(s)((_s, i) => {\n\t\t\treturn _s * _s / n[i as number];\n\t\t})\n\t);\n\tconst dom = elts.map((e, i) => e * e / (n[i as number] - 1));\n\n\treturn Math.pow(sum(elts), 2) / sum(dom);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/r-func.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport {\n  M_LN2,\n  R_D_Cval,\n  R_D_log,\n  R_D_Lval\n} from '../common/_general';\n\n//import { log1p } from '../exp/expm1'log';\n\nconst { exp, expm1, log, log1p } = Math;\n\nfunction R_DT_qIv(lower_tail: boolean, log_p: boolean, p: number) {\n  return log_p ? (lower_tail ? exp(p) : -expm1(p)) : R_D_Lval(lower_tail, p);\n}\n\nfunction R_DT_CIv(lower_tail: boolean, log_p: boolean, p: number) {\n  return log_p ? (lower_tail ? -expm1(p) : exp(p)) : R_D_Cval(lower_tail, p);\n}\n\n/*\nexport function expm1(x: number) {\n\n    let y: number;\n    let a = fabs(x);\n\n    if (a < DBL_EPSILON) return x;\n    if (a > 0.697) return exp(x) - 1;  // negligible cancellation \n\n    if (a > 1e-8)\n        y = exp(x) - 1;\n    else // Taylor expansion, more accurate in this range \n        y = (x / 2 + 1) * x;\n\n    // Newton step for solving   log(1 + y) = x   for y : \n    // WARNING: does not work for y ~ -1: bug in 1.5.0 \n    y -= (1 + y) * (log1p(y) - x);\n    return y;\n}\n*/\n\nfunction R_D_LExp(log_p: boolean, x: number): number {\n  return log_p ? R_Log1_Exp(x) : log1p(-x);\n}\n\n// log(1 - exp(x))  in more stable form than log1p(- R_D_qIv(x)) :\nfunction R_Log1_Exp(x: number) {\n  if (x > -M_LN2) {\n    return log(-expm1(x));\n  }\n  return log1p(-exp(x));\n}\n\nfunction R_DT_Clog(lower_tail: boolean, log_p: boolean, p: number): number {\n  return lower_tail\n    ? R_D_LExp(log_p, p)\n    : R_D_log(log_p, p); /* log(1-p) in qF*/\n}\n\nfunction R_DT_log(lower_tail: boolean, log_p: boolean, p: number): number {\n  /* log(p) in qF */\n  return lower_tail ? R_D_log(log_p, p) : R_D_LExp(log_p, p);\n}\n\nexport { R_DT_qIv, R_DT_CIv, R_DT_log, R_DT_Clog, R_Log1_Exp, R_D_LExp };\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/exp/expm1.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport { map } from '../r-func';\nimport { lgammafn_sign } from './lgammafn_sign';\n\nexport function lgammafn<T>(x: T): T {\n  return map(x)(fx => {\n    return lgammafn_sign(fx);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/lgamma_fn.ts","'use strict';\n\n/* Port to Javascript from R by Jacob Bogers  2017*/\n/* ===================  Mersenne Twister ========================== */\n/* From http://www.math.keio.ac.jp/~matumoto/emt.html */\n\n/* A C-program for MT19937: Real number version([0,1)-interval)\n   (1999/10/28) genrand() generates one pseudorandom real number (double)\n   which is uniformly distributed on [0,1)-interval, for each\n   call. sgenrand(seed) sets initial values to the working area\n   of 624 words. Before genrand(), sgenrand(seed) must be\n   called once. (seed is any 32-bit integer.)\n   Integer generator is obtained by modifying two lines.\n     Coded by Takuji Nishimura, considering the suggestions by\n   Topher Cooper and Marc Rieffel in July-Aug. 1997.\n\n   Copyright (C) 1997, 1999 Makoto Matsumoto and Takuji Nishimura.\n   When you use this, send an email to: matumoto@math.keio.ac.jp\n   with an appropriate reference to your work.\n\n   REFERENCE\n   M. Matsumoto and T. Nishimura,\n   \"Mersenne Twister: A 623-Dimensionally Equidistributed Uniform\n   Pseudo-Random Number Generator\",\n   ACM Transactions on Modeling and Computer Simulation,\n   Vol. 8, No. 1, January 1998, pp 3--30.\n*/\n\n/* helpers */\n/* helpers */\n/* helpers */\nconst N = 624;\nconst M = 397;\n\nconst MATRIX_A = 0x9908b0df; /* constant vector a */\nconst UPPER_MASK = 0x80000000; /* most significant w-r bits */\nconst LOWER_MASK = 0x7fffffff; /* least significant r bits */\n\n/* Tempering parameters */\nconst TEMPERING_MASK_B = 0x9d2c5680;\nconst TEMPERING_MASK_C = 0xefc60000;\n//const TEMPERING_SHIFT_U = (y: number) => y >>> 11;\n//const TEMPERING_SHIFT_S = (y: number) => y << 7;\n//const TEMPERING_SHIFT_T = (y: number) => y << 15;\n//const TEMPERING_SHIFT_L = (y: number) => y >>> 18;\n\n\n\nimport { fixup } from '../fixup';\nimport { IRNG } from '../irng';\nimport { IRNGType } from '../irng-type';\nimport { timeseed } from '../timeseed';\n\nconst SEED_LEN = 625;\n\nexport class MersenneTwister extends IRNG {\n\n  private m_seed: Int32Array;\n  private mt: Int32Array;\n  private mti: number;\n\n  \n  private MT_sgenrand(seed: number) {\n\n    for (let i = 0; i < N; i++) {\n      this.mt[i] = seed & 0xffff0000;\n      seed = 69069 * seed + 1;\n      this.mt[i] |= (seed & 0xffff0000) >>> 16;\n      seed = 69069 * seed + 1;\n    }\n    this.mti = N;\n  }\n\n  private MT_genrand() {\n    let y = new Int32Array(1);\n    let mag01 = new Int32Array([0x0, MATRIX_A]);\n    /* mag01[x] = x * MATRIX_A  for x=0,1 */\n    // ran_x points to the common buffer\n    const dummy = this.m_seed;\n\n    this.mti = dummy[0];\n\n    if (this.mti >= N) {\n      /* generate N words at one time */\n      let kk;\n\n      if (this.mti === N + 1)\n        /* if sgenrand() has not been called, */\n        this.MT_sgenrand(4357); /* a default initial seed is used   */\n\n      for (kk = 0; kk < N - M; kk++) {\n        y[0] = (this.mt[kk] & UPPER_MASK) | (this.mt[kk + 1] & LOWER_MASK);\n        this.mt[kk] = this.mt[kk + M] ^ (y[0] >>> 1) ^ mag01[y[0] & 0x1];\n      }\n      for (; kk < N - 1; kk++) {\n        y[0] = (this.mt[kk] & UPPER_MASK) | (this.mt[kk + 1] & LOWER_MASK);\n        this.mt[kk] = this.mt[kk + (M - N)] ^ (y[0] >>> 1) ^ mag01[y[0] & 0x1];\n      }\n      y[0] = (this.mt[N - 1] & UPPER_MASK) | (this.mt[0] & LOWER_MASK);\n      this.mt[N - 1] = this.mt[M - 1] ^ (y[0] >>> 1) ^ mag01[y[0] & 0x1];\n\n      this.mti = 0;\n    }\n\n    y[0] = this.mt[this.mti++];\n    y[0] ^= y[0] >>> 11;\n    y[0] ^= (y[0] << 7) & TEMPERING_MASK_B;\n    y[0] ^= (y[0] << 15) & TEMPERING_MASK_C;\n    y[0] ^= y[0] >>> 18;\n    dummy[0] = this.mti;\n\n    return (\n      new Uint32Array(y.buffer)[0] * 2.3283064365386963e-10\n    ); /* reals: [0,1)-interval */\n  }\n\n  private fixupSeeds(): void {\n    const s = this.m_seed;\n    s[0] = 624;\n    /* No action unless user has corrupted .Random.seed */\n    if (s[0] <= 0) s[0] = 624;\n    /* check for all zeroes */\n    // note mt is equal to s.slice(1)\n    if (this.mt.find(v => !!v) === undefined) {\n      this.init(timeseed());\n    }\n    return;\n  }\n\n  constructor(_seed: number = timeseed()) {\n    super(_seed);\n  }\n\n  public _setup() {\n    const buf = new ArrayBuffer(SEED_LEN * 4);\n    this._kind = IRNGType.MERSENNE_TWISTER;\n    this._name = 'Mersenne-Twister';\n    this.m_seed = new Int32Array(buf).fill(0);\n    this.mt = new Int32Array(buf, 4);\n    this.mti = N + 1;\n  }\n\n  public init(_seed: number =  timeseed()) {\n    /* Initial scrambling */\n    const s = new Uint32Array([0]);\n    s[0] = _seed;\n    for (let j = 0; j < 50; j++) {\n      s[0] = 69069 * s[0] + 1;\n    }\n    for (let j = 0; j < this.m_seed.length; j++) {\n      s[0] = 69069 * s[0] + 1;\n      this.m_seed[j] = s[0];\n    }\n    this.fixupSeeds();\n    super.init(_seed);\n  }\n\n  public internal_unif_rand(): number {\n     \n    let rc = this.MT_genrand();\n    return fixup(rc);\n    \n  }\n\n  public set seed(_seed: number[]) {\n\n    if (_seed.length > this.m_seed.length || _seed.length === 0) {\n      this.init(timeseed());\n      return;\n    }\n    this.m_seed.set(_seed);\n  }\n\n  public get seed() {\n    return Array.from(this.m_seed);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/mersenne-twister/index.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 19, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998       Ross Ihaka\n *  Copyright (C) 2000--2005 The R Core Team\n *  based on AS 111 (C) 1977 Royal Statistical Society\n *  and   on AS 241 (C) 1988 Royal Statistical Society\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *\tdouble qnorm5(double p, double mu, double sigma,\n *\t\t      int lower_tail, int log_p)\n *            {qnorm (..) is synonymous and preferred inside R}\n *\n *  DESCRIPTION\n *\n *\tCompute the quantile function for the normal distribution.\n *\n *\tFor small to moderate probabilities, algorithm referenced\n *\tbelow is used to obtain an initial approximation which is\n *\tpolished with a final Newton step.\n *\n *\tFor very large arguments, an algorithm of Wichura is used.\n *\n *  REFERENCE\n *\n *\tBeasley, J. D. and S. G. Springer (1977).\n *\tAlgorithm AS 111: The percentage points of the normal distribution,\n *\tApplied Statistics, 26, 118-121.\n *\n *      Wichura, M.J. (1988).\n *      Algorithm AS 241: The Percentage Points of the Normal Distribution.\n *      Applied Statistics, 37, 477-484.\n */\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_Q_P01_boundaries } from '../common/_general';\nimport { R_DT_CIv, R_DT_qIv } from '../exp/expm1';\nimport { map } from '../r-func';\n\nconst printer = debug('qnorm');\n\nconst { isNaN: ISNAN } = Number;\nconst { log, sqrt, abs: fabs } = Math;\nconst ML_NEGINF = -Infinity;\nconst ML_POSINF = Infinity;\n\nexport function qnorm<T>(\n  p: T,\n  mu: number = 0,\n  sigma: number = 1,\n  lower_tail: boolean = true,\n  log_p: boolean = false\n): T {\n  let q;\n  let p_;\n\n  let r;\n  let val;\n\n  return map(p)(fx => {\n    if (ISNAN(fx) || ISNAN(mu) || ISNAN(sigma)) return fx + mu + sigma;\n\n    let rc = R_Q_P01_boundaries(lower_tail, log_p, fx, ML_NEGINF, ML_POSINF);\n    if (rc !== undefined) {\n      return rc;\n    }\n    if (sigma < 0) return ML_ERR_return_NAN(printer);\n    if (sigma === 0) return mu;\n\n    p_ = R_DT_qIv(lower_tail, log_p, fx); /* real lower_tail prob. p */\n    q = p_ - 0.5;\n\n    printer(\n      'qnorm(p=%d, m=%d, s=%d, l.t.= %s, log= %s): q = %d',\n      p,\n      mu,\n      sigma,\n      lower_tail,\n      log_p,\n      q\n    );\n\n    /*-- use AS 241 --- */\n    /* double ppnd16_(double *p, long *ifault)*/\n    /*      ALGORITHM AS241  APPL. STATIST. (1988) VOL. 37, NO. 3\n    \n            Produces the normal deviate Z corresponding to a given lower\n            tail area of P; Z is accurate to about 1 part in 10**16.\n    \n            (original fortran code used PARAMETER(..) for the coefficients\n             and provided hash codes for checking them...)\n    */\n    if (fabs(q) <= 0.425) {\n      /* 0.075 <= p <= 0.925 */\n      r = 0.180625 - q * q;\n      val =\n        q *\n        (((((((r * 2509.0809287301226727 + 33430.575583588128105) * r +\n          67265.770927008700853) *\n          r +\n          45921.953931549871457) *\n          r +\n          13731.693765509461125) *\n          r +\n          1971.5909503065514427) *\n          r +\n          133.14166789178437745) *\n          r +\n          3.387132872796366608) /\n        (((((((r * 5226.495278852854561 + 28729.085735721942674) * r +\n          39307.89580009271061) *\n          r +\n          21213.794301586595867) *\n          r +\n          5394.1960214247511077) *\n          r +\n          687.1870074920579083) *\n          r +\n          42.313330701600911252) *\n          r +\n          1);\n    } else {\n      /* closer than 0.075 from {0,1} boundary */\n\n      /* r = min(p, 1-p) < 0.075 */\n      if (q > 0) r = R_DT_CIv(lower_tail, log_p, fx); /* 1-p */\n      else r = p_; /* = R_DT_Iv(p) ^=  p */\n\n      r = sqrt(\n        -(log_p && ((lower_tail && q <= 0) || (!lower_tail && q > 0))\n          ? p\n          : /* else */ log(r))\n      );\n      /* r = sqrt(-log(r))  <==>  min(p, 1-p) = exp( - r^2 ) */\n\n      printer('close to 0 or 1: r = %7d', r);\n\n      if (r <= 5) {\n        /* <==> min(p,1-p) >= exp(-25) ~= 1.3888e-11 */\n        r += -1.6;\n        val =\n          (((((((r * 7.7454501427834140764e-4 + 0.0227238449892691845833) * r +\n            0.24178072517745061177) *\n            r +\n            1.27045825245236838258) *\n            r +\n            3.64784832476320460504) *\n            r +\n            5.7694972214606914055) *\n            r +\n            4.6303378461565452959) *\n            r +\n            1.42343711074968357734) /\n          (((((((r * 1.05075007164441684324e-9 + 5.475938084995344946e-4) * r +\n            0.0151986665636164571966) *\n            r +\n            0.14810397642748007459) *\n            r +\n            0.68976733498510000455) *\n            r +\n            1.6763848301838038494) *\n            r +\n            2.05319162663775882187) *\n            r +\n            1);\n      } else {\n        /* very close to  0 or 1 */\n        r += -5;\n        val =\n          (((((((r * 2.01033439929228813265e-7 + 2.71155556874348757815e-5) *\n            r +\n            0.0012426609473880784386) *\n            r +\n            0.026532189526576123093) *\n            r +\n            0.29656057182850489123) *\n            r +\n            1.7848265399172913358) *\n            r +\n            5.4637849111641143699) *\n            r +\n            6.6579046435011037772) /\n          (((((((r * 2.04426310338993978564e-15 + 1.4215117583164458887e-7) *\n            r +\n            1.8463183175100546818e-5) *\n            r +\n            7.868691311456132591e-4) *\n            r +\n            0.0148753612908506148525) *\n            r +\n            0.13692988092273580531) *\n            r +\n            0.59983220655588793769) *\n            r +\n            1);\n      }\n\n      if (q < 0.0) val = -val;\n      /* return (q >= 0.)? r : -r ;*/\n    }\n    return mu + sigma * val;\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/normal/qnorm.ts","\nimport { map, seq } from '../r-func';\nimport { IRNGType } from './irng-type';\n\nexport type MessageType = 'INIT';\n\n// cache it, make without create seq() every time\nexport const segFnCache = seq();\n\nexport abstract class IRNG {\n  protected _name: string;\n  protected _kind: IRNGType;\n\n  private notify: Set<{ event: MessageType, handler: () => void }>;\n\n  constructor(_seed: number) {\n    this.notify = new Set();\n    this.emit = this.emit.bind(this);\n    this.register = this.register.bind(this);\n    this.unif_rand = this.unif_rand.bind(this);\n    this.internal_unif_rand = this.internal_unif_rand.bind(this);\n    this.init = this.init.bind(this);\n    this._setup();\n    this.init(_seed);\n  }\n\n  public get name() {\n    return this._name;\n  }\n\n  public get kind() {\n    return this._kind;\n  }\n\n  public abstract _setup(): void;\n\n  public init(_seed: number): void {\n    this.emit('INIT');\n  }\n\n  public abstract set seed(_seed: number[]);\n\n  public unif_rand(): number;\n  public unif_rand(n: 0 | 1): number;\n  public unif_rand(n: number): number | number[];\n  public unif_rand(n: number = 1): number | number[] {\n    n = (!n || n < 0) ? 1 : n;\n    return map(segFnCache()(n))(() => this.internal_unif_rand());\n  }\n\n  protected abstract internal_unif_rand(): number;\n\n  public abstract get seed(): number[];\n  // event stuff\n  public register(event: MessageType, handler: () => void) {\n    this.notify.add({ event, handler });\n  }\n\n  public emit(event: MessageType) {\n    this.notify.forEach(r => {\n      if (r.event === event) {\n        r.handler();\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/irng.ts","export { BuggyKindermanRamage } from './buggy-kinderman-ramage';\nexport { BoxMuller } from './box-muller';\nexport { AhrensDieter} from './ahrens_dieter';\nexport { Inversion } from './inversion';\nexport { KindermanRamage }  from './kinderman-ramage';\nexport { IRNGNormal } from './inormal-rng';\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/normal/index.ts","export { Toms708 } from './toms708';\nexport { NumberW } from './NumberW';\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/common/toms708/index.ts","const { trunc, ceil, min, log2, pow } = Math;\nconst { now } = Date;\n\nexport function timeseed() {\n  const n = now();\n  //delay 0.5 sec\n  do {\n    now(); // consume cpu, do something silly\n  } while (now() - n < 500);\n\n  // how many bits?\n  const nBits = min(32, ceil(log2(n)));\n  const lowBits = trunc(nBits / 2);\n  const hi = trunc(n / pow(2, lowBits));\n  const lo = n - hi * pow(2, lowBits);\n  //\n  // create 32 bit array\n  const buf = new ArrayBuffer(4);\n  const reverser = new Uint8Array(buf);\n  const uint32 = new Uint32Array(buf);\n  uint32[0] = lo ^ hi; // little endian, highest order bytes has lowest indexes so\n  // reverse order of bytes, milliseconds changes the fastest in a time\n  reverser.reverse();\n  return uint32[0];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/timeseed.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { M_LN_SQRT_2PI, ML_ERR_return_NAN } from '../common/_general';\n\nimport { gammafn } from '../gamma/gamma_fn';\nimport { lgammafn } from '../gamma/lgamma_fn';\nimport { lgammacor } from '../gamma/lgammacor';\nimport { multiplexer }  from '../r-func';\n\nconst { log, log1p } = Math;\n\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  POSITIVE_INFINITY: ML_POSINF,\n  NEGATIVE_INFINITY: ML_NEGINF\n} = Number;\n\nconst printer = debug('lbeta');\n\nexport function lbeta(_a: number | number[], _b: number|number[]): number|number[] {\n  return multiplexer(_a, _b)((a, b) => internal_lbeta(a, b));\n} \n\nexport function internal_lbeta(a: number, b: number): number {\n  let corr: number;\n  let p: number;\n  let q: number;\n\n  if (ISNAN(a) || ISNAN(b)) return a + b;\n  p = q = a;\n  if (b < p) p = b; // := min(a,b)\n  if (b > q) q = b; // := max(a,b)\n\n  // both arguments must be >= 0\n  if (p < 0) return ML_ERR_return_NAN(printer);\n  else if (p === 0) {\n    return ML_POSINF;\n  } else if (!R_FINITE(q)) {\n    // q == +Inf\n    return ML_NEGINF;\n  }\n\n  if (p >= 10) {\n    // p and q are big.\n    corr = lgammacor(p) + lgammacor(q) - lgammacor(p + q);\n    return (\n      log(q) * -0.5 +\n      M_LN_SQRT_2PI +\n      corr +\n      (p - 0.5) * log(p / (p + q)) +\n      q * log1p(-p / (p + q))\n    );\n  } else if (q >= 10) {\n    // p is small, but q is big.\n    corr = lgammacor(q) - lgammacor(p + q);\n    return (\n      lgammafn(p) +\n      corr +\n      p -\n      p * log(p + q) +\n      (q - 0.5) * log1p(-p / (p + q))\n    );\n  } else {\n    // p and q are small: p <= q < 10.\n    // R change for very small args\n\n    //NOTE FROM JACOB, funny how only p is tested and not q?? doesnt make sense\n    //  since the beta function is \"symetric\" for p and q aka beta(p,q) = beta (q,p)\n\n    // removed  if (p < 1e-306) return lgamma(p) + (lgamma(q) - lgamma(p+q));\n    //else\n    return log(gammafn(p) * (gammafn(q) / gammafn(p + q)));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/beta/lbeta.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_DT_0, R_DT_1 } from '../common/_general';\nimport { NumberW, Toms708 } from '../common/toms708';\nimport { map } from '../r-func';\n\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst { LN2: M_LN2, log } = Math;\n\nconst printer_pbeta_raw = debug('pbeta_raw');\n\nexport function pbeta_raw(\n  x: number,\n  a: number,\n  b: number,\n  lower_tail: boolean,\n  log_p: boolean\n): number {\n  // treat limit cases correctly here:\n  if (a === 0 || b === 0 || !R_FINITE(a) || !R_FINITE(b)) {\n    // NB:  0 < x < 1 :\n    if (a === 0 && b === 0)\n      // point mass 1/2 at each of {0,1} :\n      return log_p ? -M_LN2 : 0.5;\n    if (a === 0 || a / b === 0)\n      // point mass 1 at 0 ==> P(X <= x) = 1, all x > 0\n      return R_DT_1(lower_tail, log_p);\n    if (b === 0 || b / a === 0)\n      // point mass 1 at 1 ==> P(X <= x) = 0, all x < 1\n      return R_DT_0(lower_tail, log_p);\n    // else, remaining case:  a = b = Inf : point mass 1 at 1/2\n    if (x < 0.5) return R_DT_0(lower_tail, log_p);\n    else return R_DT_1(lower_tail, log_p);\n  }\n  // Now:  0 < a < Inf;  0 < b < Inf\n  let x1 = 0.5 - x + 0.5;\n  let w: NumberW = new NumberW(0);\n  let wc: NumberW = new NumberW(0);\n  let ierr: NumberW = new NumberW(0);\n  //====\n  //Toms708.bratio(a, b, x, x1, &w, &wc, &ierr, log_p); /* -> ./toms708.c */\n  printer_pbeta_raw(\n    'before Toms708.bratio, a=%d, b=%d, x=%d, w=%d,wc=%d, ierr=%d',\n    a,\n    b,\n    x,\n    w.val,\n    wc.val,\n    ierr.val\n  );\n  Toms708.bratio(a, b, x, x1, w, wc, ierr); /* -> ./toms708.c */\n  printer_pbeta_raw(\n    'after Toms708.bratio, a=%d, b=%d, x=%d, w=%d,wc=%d, ierr=%d',\n    a,\n    b,\n    x,\n    w.val,\n    wc.val,\n    ierr.val\n  );\n  //====\n  // ierr in {10,14} <==> bgrat() error code ierr-10 in 1:4; for 1 and 4, warned *there*\n  if (ierr.val && ierr.val !== 11 && ierr.val !== 14)\n    printer_pbeta_raw(\n      'pbeta_raw(%d, a=%d, b=%d, ..) -> bratio() gave error code %d',\n      x,\n      a,\n      b,\n      ierr\n    );\n  if (log_p) {\n    w.val = log(w.val);\n    wc.val = log(wc.val);\n  }\n  return lower_tail ? w.val : wc.val;\n} /* pbeta_raw() */\n\nconst printer_pbeta = debug('pbeta');\n\nexport function pbeta<T>(\n  q: T,\n  a: number,\n  b: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  return map(q)(x => {\n    printer_pbeta(\n      'pbeta(q=%d, a=%d, b=%d, l.t=%s, ln=%s)',\n      x,\n      a,\n      b,\n      lowerTail,\n      logP\n    );\n    if (ISNAN(x) || ISNAN(a) || ISNAN(b)) return NaN;\n\n    if (a < 0 || b < 0) return ML_ERR_return_NAN(printer_pbeta);\n    // allowing a==0 and b==0  <==> treat as one- or two-point mass\n\n    if (x <= 0) return R_DT_0(lowerTail, logP);\n    if (x >= 1) return R_DT_1(lowerTail, logP);\n\n    return pbeta_raw(x, a, b, lowerTail, logP);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/beta/pbeta.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN } from '../common/_general';\n\nimport { rgamma } from '../gamma/rgamma';\nimport { map, seq } from '../r-func';\nimport { IRNGNormal } from '../rng/normal/inormal-rng';\n\nconst { isFinite: R_FINITE } = Number;\nconst printer = debug('rchisq');\nconst sequence = seq()();\n\nexport function rchisq(\n  n: number,\n  df: number,\n  rng: IRNGNormal\n): number | number[] {\n  \n  //\n  return map(sequence(n))(() => {\n    if (!R_FINITE(df) || df < 0.0) {\n      return ML_ERR_return_NAN(printer);\n    }\n    return rgamma(1, df / 2.0, 2.0, rng) as number;\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/chi-2/rchisq.ts","export enum IRNGType {\n    WICHMANN_HILL = 0,\n    MARSAGLIA_MULTICARRY,\n    SUPER_DUPER,\n    MERSENNE_TWISTER,\n    KNUTH_TAOCP,\n    KNUTH_TAOCP2002,\n    LECUYER_CMRG\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/irng-type.ts","import { IRNG } from '../';\nimport { map } from '../../r-func';\nimport { segFnCache } from '../irng';\n\nexport abstract class IRNGNormal {\n  protected rng: IRNG;\n  constructor(_rng: IRNG) {\n    this.rng = _rng;\n    this.unif_rand = this.unif_rand.bind(this);\n    this.norm_rand = this.norm_rand.bind(this);\n    this.internal_norm_rand = this.internal_norm_rand.bind(this);\n  }\n\n  public norm_rand(): number;\n  public norm_rand(n: 0 | 1): number;\n  public norm_rand(n: number): number | number[];\n  public norm_rand(n: number = 1): number|number[]{\n    n = !n || n < 0 ? 1 : n;\n    return map(segFnCache()(n))(() => this.internal_norm_rand());\n  }\n\n  protected abstract internal_norm_rand(): number;\n\n  public unif_rand(): number;\n  public unif_rand(n: 0 | 1): number;\n  public unif_rand(n: number): number | number[];\n  public unif_rand(n: number = 1): number|number[] {\n     return this.rng.unif_rand(n);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/rng/normal/inormal-rng.ts","import { IRNG } from './irng';\nimport { KnuthTAOCP } from './knuth-taocp';\nimport { KnuthTAOCP2002 } from './knuth-taocp-2002';\nimport { LecuyerCMRG } from './lecuyer-cmrg';\nimport { MarsagliaMultiCarry } from './marsaglia-multicarry';\nimport { MersenneTwister } from './mersenne-twister';\nimport { \n    AhrensDieter, \n    BoxMuller, \n    BuggyKindermanRamage, \n    Inversion,\n    KindermanRamage\n} from './normal';\nimport { IRNGNormal } from './normal/inormal-rng';\nimport { SuperDuper } from './super-duper';\nimport { timeseed } from './timeseed';\nimport { WichmannHill } from './wichmann-hill';\n\nexport const rng = {\n  KnuthTAOCP,\n  KnuthTAOCP2002,\n  LecuyerCMRG,\n  MarsagliaMultiCarry,\n  MersenneTwister,\n  normal: {\n    AhrensDieter,\n    BoxMuller,\n    BuggyKindermanRamage, \n    Inversion,\n    KindermanRamage\n  },\n  SuperDuper,\n  timeseed,\n  WichmannHill,\n};\n\nexport { IRNG, IRNGNormal };\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport {\n  M_LN_2PI,\n  ML_ERR_return_NAN,\n  R_D__0,\n  R_D__1,\n  R_D_exp,\n  R_D_negInonint,\n  R_D_nonint_check\n} from '../common/_general';\nimport { bd0 } from '../deviance';\nimport { map } from '../r-func';\nimport { stirlerr } from '../stirling';\n\nconst { log, log1p, round: R_forceint } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst printer = debug('dbinom');\n\nexport function dbinom_raw(\n  x: number,\n  n: number,\n  p: number,\n  q: number,\n  give_log: boolean\n): number {\n  let lf: number;\n  let lc: number;\n\n  if (p === 0) return x === 0 ? R_D__1(give_log) : R_D__0(give_log);\n  if (q === 0) return x === n ? R_D__1(give_log) : R_D__0(give_log);\n\n  if (x === 0) {\n    if (n === 0) return R_D__1(give_log);\n    let lc = p < 0.1 ? -bd0(n, n * q) - n * p : n * log(q);\n    return R_D_exp(give_log, lc);\n  }\n\n  if (x === n) {\n    lc = q < 0.1 ? -bd0(n, n * p) - n * q : n * log(p);\n    return R_D_exp(give_log, lc);\n  }\n\n  if (x < 0 || x > n) return R_D__0(give_log);\n\n  /* n*p or n*q can underflow to zero if n and p or q are small.  This\n       used to occur in dbeta, and gives NaN as from R 2.3.0.  */\n  lc =\n    stirlerr(n) -\n    stirlerr(x) -\n    stirlerr(n - x) -\n    bd0(x, n * p) -\n    bd0(n - x, n * q);\n\n  /* f = (M_2PI*x*(n-x))/n; could overflow or underflow */\n  /* Upto R 2.7.1:\n     * lf = log(M_2PI) + log(x) + log(n-x) - log(n);\n     * -- following is much better for  x << n : */\n  lf = M_LN_2PI + log(x) + log1p(-x / n);\n\n  return R_D_exp(give_log, lc - 0.5 * lf);\n}\n\nexport function dbinom<T>(\n  xx: T,\n  n: number,\n  p: number,\n  logX: boolean = false\n): T {\n  return map(xx)(x => {\n    /* NaNs propagated correctly */\n    if (ISNAN(x) || ISNAN(n) || ISNAN(p)) return x + n + p;\n\n    if (p < 0 || p > 1 || R_D_negInonint(n)) return ML_ERR_return_NAN(printer);\n    R_D_nonint_check(logX, x, printer);\n    if (x < 0 || !R_FINITE(x)) return R_D__0(logX);\n\n    n = R_forceint(n);\n    x = R_forceint(x);\n\n    return dbinom_raw(x, n, p, 1 - p, logX);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/binomial/dbinom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport {\n  DBL_MAX_EXP,\n  ML_ERR_return_NAN,\n  R_D__0,\n  R_D__1,\n  R_D_exp,\n  R_DT_0,\n  R_DT_1,\n  R_P_bounds_01\n} from '../common/_general';\n\nimport { R_Log1_Exp } from '../exp/expm1';\nimport { dnorm4 as dnorm } from '../normal/dnorm';\nimport { pnorm5 as pnorm } from '../normal/pnorm';\nimport { dpois_raw } from '../poisson/dpois';\nimport { lgammafn } from './lgamma_fn';\n//import { logspace_add } from './logspace-add';\n\nconst {\n  LN2: M_LN2,\n  log1p,\n  expm1,\n  sqrt,\n  floor,\n  pow,\n  log,\n  exp,\n  max: fmax2,\n  abs: fabs\n} = Math;\nconst {\n  isNaN: ISNAN,\n  MIN_VALUE: DBL_MIN,\n  EPSILON: DBL_EPSILON,\n  isFinite: R_FINITE,\n  // NEGATIVE_INFINITY: ML_NEGINF,\n  POSITIVE_INFINITY: ML_POSINF\n} = Number;\n\nconst { isArray } = Array;\nconst sqr = (x: number) => x * x;\nconst scalefactor = sqr(sqr(sqr(4294967296.0)));\n\n/* If |x| > |k| * M_cutoff,  then  log[ exp(-x) * k^x ]\t =~=  -x */\nconst M_cutoff = M_LN2 * DBL_MAX_EXP / DBL_EPSILON; /*=3.196577e18*/\n\n/* Continued fraction for calculation of\n *    1/i + x/(i+d) + x^2/(i+2*d) + x^3/(i+3*d) + ... = sum_{k=0}^Inf x^k/(i+k*d)\n *\n * auxilary in log1pmx() and lgamma1p()\n */\nfunction logcf(\n  x: number,\n  i: number,\n  d: number,\n  eps: number /* ~ relative tolerance */\n) {\n  let c1 = 2 * d;\n  let c2 = i + d;\n  let c4 = c2 + d;\n  let a1 = c2;\n  let b1 = i * (c2 - i * x);\n  let b2 = d * d * x;\n  let a2 = c4 * c2 - b2;\n  /*\n  #if 0\n      assert (i > 0);\n      assert (d >= 0);\n  #endif\n  */\n  b2 = c4 * b1 - i * b2;\n\n  while (fabs(a2 * b1 - a1 * b2) > fabs(eps * b1 * b2)) {\n    let c3 = c2 * c2 * x;\n    c2 += d;\n    c4 += d;\n    a1 = c4 * a2 - c3 * a1;\n    b1 = c4 * b2 - c3 * b1;\n\n    c3 = c1 * c1 * x;\n    c1 += d;\n    c4 += d;\n    a2 = c4 * a1 - c3 * a2;\n    b2 = c4 * b1 - c3 * b2;\n\n    if (fabs(b2) > scalefactor) {\n      a1 /= scalefactor;\n      b1 /= scalefactor;\n      a2 /= scalefactor;\n      b2 /= scalefactor;\n    } else if (fabs(b2) < 1 / scalefactor) {\n      a1 *= scalefactor;\n      b1 *= scalefactor;\n      a2 *= scalefactor;\n      b2 *= scalefactor;\n    }\n  }\n\n  return a2 / b2;\n}\n\n/* Accurate calculation of log(1+x)-x, particularly for small x.  */\nfunction log1pmx(x: number) {\n  const minLog1Value = -0.79149064;\n\n  if (x > 1 || x < minLog1Value) return log1p(x) - x;\n  else {\n    /* -.791 <=  x <= 1  -- expand in  [x/(2+x)]^2 =: y :\n      * log(1+x) - x =  x/(2+x) * [ 2 * y * S(y) - x],  with\n      * ---------------------------------------------\n      * S(y) = 1/3 + y/5 + y^2/7 + ... = \\sum_{k=0}^\\infty  y^k / (2k + 3)\n     */\n    let r = x / (2 + x);\n    let y = r * r;\n    if (fabs(x) < 1e-2) {\n      let two = 2;\n      return (\n        r * ((((two / 9 * y + two / 7) * y + two / 5) * y + two / 3) * y - x)\n      );\n    } else {\n      let tol_logcf = 1e-14;\n      return r * (2 * y * logcf(y, 3, 2, tol_logcf) - x);\n    }\n  }\n}\n\n/* Compute  log(gamma(a+1))  accurately also for small a (0 < a < 0.5). */\nexport function lgamma1p(a: number) {\n  const eulers_const = 0.5772156649015328606065120900824024;\n\n  /* coeffs[i] holds (zeta(i+2)-1)/(i+2) , i = 0:(N-1), N = 40 : */\n  const N = 40;\n  const coeffs = [\n    0.3224670334241132182362075833230126 /* = (zeta(2)-1)/2 */,\n    0.6735230105319809513324605383715e-1 /* = (zeta(3)-1)/3 */,\n    0.2058080842778454787900092413529198e-1,\n    0.7385551028673985266273097291406834e-2,\n    0.2890510330741523285752988298486755e-2,\n    0.1192753911703260977113935692828109e-2,\n    0.5096695247430424223356548135815582e-3,\n    0.2231547584535793797614188036013401e-3,\n    0.994575127818085337145958900319017e-4,\n    0.4492623673813314170020750240635786e-4,\n    0.2050721277567069155316650397830591e-4,\n    0.9439488275268395903987425104415055e-5,\n    0.4374866789907487804181793223952411e-5,\n    0.2039215753801366236781900709670839e-5,\n    0.9551412130407419832857179772951265e-6,\n    0.4492469198764566043294290331193655e-6,\n    0.2120718480555466586923135901077628e-6,\n    0.1004322482396809960872083050053344e-6,\n    0.476981016936398056576019341724673e-7,\n    0.2271109460894316491031998116062124e-7,\n    0.1083865921489695409107491757968159e-7,\n    0.5183475041970046655121248647057669e-8,\n    0.2483674543802478317185008663991718e-8,\n    0.119214014058609120744254820277464e-8,\n    0.5731367241678862013330194857961011e-9,\n    0.2759522885124233145178149692816341e-9,\n    0.1330476437424448948149715720858008e-9,\n    0.6422964563838100022082448087644648e-10,\n    0.3104424774732227276239215783404066e-10,\n    0.1502138408075414217093301048780668e-10,\n    0.7275974480239079662504549924814047e-11,\n    0.3527742476575915083615072228655483e-11,\n    0.1711991790559617908601084114443031e-11,\n    0.8315385841420284819798357793954418e-12,\n    0.4042200525289440065536008957032895e-12,\n    0.1966475631096616490411045679010286e-12,\n    0.9573630387838555763782200936508615e-13,\n    0.4664076026428374224576492565974577e-13,\n    0.2273736960065972320633279596737272e-13,\n    0.1109139947083452201658320007192334e-13 /* = (zeta(40+1)-1)/(40+1) */\n  ];\n\n  const c = 0.2273736845824652515226821577978691e-12; /* zeta(N+2)-1 */\n  const tol_logcf = 1e-14;\n  let lgam;\n  let i;\n\n  if (fabs(a) >= 0.5) return lgammafn(a + 1);\n\n  /* Abramowitz & Stegun 6.1.33 : for |x| < 2,\n   * <==> log(gamma(1+x)) = -(log(1+x) - x) - gamma*x + x^2 * \\sum_{n=0}^\\infty c_n (-x)^n\n   * where c_n := (Zeta(n+2) - 1)/(n+2)  = coeffs[n]\n   *\n   * Here, another convergence acceleration trick is used to compute\n   * lgam(x) :=  sum_{n=0..Inf} c_n (-x)^n\n   */\n  lgam = c * logcf(-a / 2, N + 2, 1, tol_logcf);\n  for (i = N - 1; i >= 0; i--) lgam = coeffs[i] - a * lgam;\n\n  return (a * lgam - eulers_const) * a - log1pmx(a);\n} /* lgamma1p */\n\n/*\n * Compute the; log of a sum from logs of terms, i.e.,\n *\n *     log (sum_i  exp (logx[i]) ) =\n *     log (e ^M * sum_i  e ^ (logx[i] - M) ) =\n *     M + log( sum_i  e ^ (logx[i] - M)\n *\n * without causing overflows or throwing much accuracy.\n * /\n\nfunction logspace_sum(logx: number[], n: number): number {\n  if (n === 0) return ML_NEGINF; // = log( sum(<empty>) )\n  if (n === 1) return logx[0];\n  if (n === 2) return logspace_add(logx[0], logx[1]);\n  // else (n >= 3) :\n  let i;\n  // Mx := max_i log(x_i)\n  let Mx = logx[0];\n  for (i = 1; i < n; i++) if (Mx < logx[i]) Mx = logx[i];\n  let s = 0;\n  for (i = 0; i < n; i++) s += exp(logx[i] - Mx);\n  return Mx + log(s);\n};\n\n// log(1 - exp(x))  in more stable form than log1p(- R_D_qIv(x)) :\n/*export function R_Log1_Exp(x: number): number {\n  return (\n    x > -M_LN2 ? log(-expm1(x)) : log1p(-exp(x)));\n}*/\n/* dpois_wrap (x__1, lambda) := dpois(x__1 - 1, lambda);  where\n * dpois(k, L) := exp(-L) L^k / gamma(k+1)  {the usual Poisson probabilities}\n *\n * and  dpois*(.., give_log = TRUE) :=  log( dpois*(..) )\n*/\nconst pr_dpois_wrap = debug('dpois_wrap');\n\nfunction dpois_wrap(\n  x_plus_1: number,\n  lambda: number,\n  give_log: boolean\n): number {\n  pr_dpois_wrap(\n    'dpois_wrap(x+1=%d, lambda=%d, log=%s)',\n    x_plus_1,\n    lambda,\n    give_log\n  );\n\n  if (!R_FINITE(lambda)) {\n    return R_D__0(give_log);\n  }\n  if (x_plus_1 > 1) return dpois_raw(x_plus_1 - 1, lambda, give_log);\n  if (lambda > fabs(x_plus_1 - 1) * M_cutoff)\n    return R_D_exp(give_log, -lambda - lgammafn(x_plus_1));\n  else {\n    let d = dpois_raw(x_plus_1, lambda, give_log);\n    pr_dpois_wrap('  -> d=dpois_raw(..)=%d', d);\n    return give_log ? d + log(x_plus_1 / lambda) : d * (x_plus_1 / lambda);\n  }\n}\n\n/*\n * Abramowitz and Stegun 6.5.29 [right]\n */\nconst pr_pgamma_smallx = debug('pgamma_smallx');\n\nfunction pgamma_smallx(\n  x: number,\n  alph: number,\n  lowerTail: boolean,\n  logP: boolean\n): number {\n  let sum = 0;\n  let c = alph;\n  let n = 0;\n  let term;\n\n  pr_pgamma_smallx(' pg_smallx(x=%d, alph=%d): ', x, alph);\n\n  /*\n   * Relative to 6.5.29 all terms have been multiplied by alph\n   * and the first, thus being 1, is omitted.\n   */\n\n  do {\n    n++;\n    c *= -x / n;\n    term = c / (alph + n);\n    sum += term;\n  } while (fabs(term) > DBL_EPSILON * fabs(sum));\n\n  pr_pgamma_smallx('%d terms --> conv.sum=%d;', n, sum);\n  if (lowerTail) {\n    let f1 = logP ? log1p(sum) : 1 + sum;\n    let f2;\n    if (alph > 1) {\n      f2 = dpois_raw(alph, x, logP);\n      f2 = logP ? f2 + x : f2 * exp(x);\n    } else if (logP) f2 = alph * log(x) - lgamma1p(alph);\n    else f2 = pow(x, alph) / exp(lgamma1p(alph));\n\n    pr_pgamma_smallx(' (f1,f2)= (%d,%d)', f1, f2);\n    return logP ? f1 + f2 : f1 * f2;\n  } else {\n    let lf2 = alph * log(x) - lgamma1p(alph);\n    pr_pgamma_smallx(' 1:%d  2:%d', alph * log(x), lgamma1p(alph));\n    pr_pgamma_smallx(' sum=%d  log(1+sum)=%d\t lf2=%d', sum, log1p(sum), lf2);\n\n    if (logP) return R_Log1_Exp(log1p(sum) + lf2);\n    else {\n      let f1m1 = sum;\n      let f2m1 = expm1(lf2);\n      return -(f1m1 + f2m1 + f1m1 * f2m1);\n    }\n  }\n} /* pgamma_smallx() */\n\nfunction pd_upper_series(x: number, y: number, logP: boolean): number {\n  let term = x / y;\n  let sum = term;\n\n  do {\n    y++;\n    term *= x / y;\n    sum += term;\n  } while (term > sum * DBL_EPSILON);\n\n  /* sum =  \\sum_{n=1}^ oo  x^n     / (y*(y+1)*...*(y+n-1))\n   *\t   =  \\sum_{n=0}^ oo  x^(n+1) / (y*(y+1)*...*(y+n))\n   *\t   =  x/y * (1 + \\sum_{n=1}^oo\tx^n / ((y+1)*...*(y+n)))\n   *\t   ~  x/y +  o(x/y)   {which happens when alph -> Inf}\n   */\n  return logP ? log(sum) : sum;\n}\n\n/* Continued fraction for calculation of\n *    scaled upper-tail F_{gamma}\n *  ~=  (y / d) * [1 +  (1-y)/d +  O( ((1-y)/d)^2 ) ]\n */\nconst pr_pd_lower_cf = debug('pd_lower_cf');\n\nfunction pd_lower_cf(y: number, d: number): number {\n  let f = 0.0; /* -Wall */\n  let of;\n  let f0;\n  let i;\n  let c2;\n  let c3;\n  let c4;\n  let a1;\n  let b1;\n  let a2;\n  let b2;\n\n  const max_it = 200000;\n\n  pr_pd_lower_cf('pd_lower_cf(y=%d, d=%d)', y, d);\n\n  if (y === 0) return 0;\n\n  f0 = y / d;\n  /* Needed, e.g. for  pgamma(10^c(100,295), shape= 1.1, log=TRUE): */\n  if (fabs(y - 1) < fabs(d) * DBL_EPSILON) {\n    /* includes y < d = Inf */\n    pr_pd_lower_cf(' very small \"y\" -> returning (y/d)');\n    return f0;\n  }\n\n  if (f0 > 1) f0 = 1;\n  c2 = y;\n  c4 = d; /* original (y,d), *not* potentially scaled ones!*/\n\n  a1 = 0;\n  b1 = 1;\n  a2 = y;\n  b2 = d;\n\n  while (b2 > scalefactor) {\n    a1 /= scalefactor;\n    b1 /= scalefactor;\n    a2 /= scalefactor;\n    b2 /= scalefactor;\n  }\n\n  i = 0;\n  of = -1; /* far away */\n  while (i < max_it) {\n    i++;\n    c2--;\n    c3 = i * c2;\n    c4 += 2;\n    /* c2 = y - i,  c3 = i(y - i),  c4 = d + 2i,  for i odd */\n    a1 = c4 * a2 + c3 * a1;\n    b1 = c4 * b2 + c3 * b1;\n\n    i++;\n    c2--;\n    c3 = i * c2;\n    c4 += 2;\n    /* c2 = y - i,  c3 = i(y - i),  c4 = d + 2i,  for i even */\n    a2 = c4 * a1 + c3 * a2;\n    b2 = c4 * b1 + c3 * b2;\n\n    if (b2 !== 0) {\n      f = a2 / b2;\n      /* convergence check: relative; \"absolute\" for very small f : */\n      if (fabs(f - of) <= DBL_EPSILON * fmax2(f0, fabs(f))) {\n        pr_pd_lower_cf(' %d iter.\\n', i);\n        return f;\n      }\n      of = f;\n    }\n  }\n\n  pr_pd_lower_cf(\" ** NON-convergence in pgamma()'s pd_lower_cf() f= %d.\", f);\n  return f; /* should not happen ... */\n} /* pd_lower_cf() */\n\nconst pr_pd_lower_series = debug('pd_lower_series');\n\nfunction pd_lower_series(lambda: number, y: number): number {\n  let term = 1;\n  let sum = 0;\n\n  pr_pd_lower_series('pd_lower_series(lam=%d, y=%d) ...', lambda, y);\n\n  while (y >= 1 && term > sum * DBL_EPSILON) {\n    term *= y / lambda;\n    sum += term;\n    y--;\n  }\n  /* sum =  \\sum_{n=0}^ oo  y*(y-1)*...*(y - n) / lambda^(n+1)\n   *\t   =  y/lambda * (1 + \\sum_{n=1}^Inf  (y-1)*...*(y-n) / lambda^n)\n   *\t   ~  y/lambda + o(y/lambda)\n   */\n\n  pr_pd_lower_series(' done: term=%d, sum=%d, y= %d', term, sum, y);\n\n  if (y !== floor(y)) {\n    /*\n     * The series does not converge as the terms start getting\n     * bigger (besides flipping sign) for y < -lambda.\n     */\n    let f;\n\n    pr_pd_lower_series(' y not int: add another term ');\n\n    /* FIXME: in quite few cases, adding  term*f  has no effect (f too small)\n     *\t  and is unnecessary e.g. for pgamma(4e12, 121.1) */\n    f = pd_lower_cf(y, lambda + 1 - y);\n    pr_pd_lower_series('  (= %d) * term = %d to sum %d', f, term * f, sum);\n\n    sum += term * f;\n  }\n\n  return sum;\n} /* pd_lower_series() */\n\n/*\n * Compute the following ratio with higher accuracy that would be had\n * from doing it directly.\n *\n *\t\t dnorm (x, 0, 1, FALSE)\n *\t   ----------------------------------\n *\t   pnorm (x, 0, 1, lowerTail, FALSE)\n *\n * Abramowitz & Stegun 26.2.12\n */\nfunction dpnorm(\n  x: number,\n  lowerTail: boolean,\n  lp: number\n): number {\n  /*\n   * So as not to repeat a pnorm call, we expect\n   *\n   *\t lp == pnorm (x, 0, 1, lowerTail, TRUE)\n   *\n   * but use it only in the non-critical case where either x is small\n   * or p==exp(lp) is close to 1.\n   */\n\n  if (x < 0) {\n    x = -x;\n    lowerTail = !lowerTail;\n  }\n\n  if (x > 10 && !lowerTail) {\n    let term = 1 / x;\n    let sum = term;\n    let x2 = x * x;\n    let i = 1;\n    do {\n      term *= -i / x2;\n      sum += term;\n      i += 2;\n    } while (fabs(term) > DBL_EPSILON * sum);\n\n    return 1 / sum;\n  } else {\n    let d = dnorm(x, 0, 1, false);\n    return d / exp(lp);\n  }\n}\n\n/*\n * Asymptotic expansion to calculate the probability that Poisson variate\n * has value <= x.\n * Various assertions about this are made (without proof) at\n * http://members.aol.com/iandjmsmith/PoissonApprox.htm\n */\n\nconst pr_ppois_asymp = debug('ppois_asymp');\n\nfunction ppois_asymp(\n  x: number,\n  lambda: number,\n  lowerTail: boolean,\n  logP: boolean\n): number {\n  const coefs_a = [\n    -1e99 /* placeholder used for 1-indexing */,\n    2 / 3,\n    -4 / 135,\n    8 / 2835,\n    16 / 8505,\n    -8992 / 12629925,\n    -334144 / 492567075,\n    698752 / 1477701225\n  ];\n\n  const coefs_b = [\n    -1e99 /* placeholder */,\n    1 / 12,\n    1 / 288,\n    -139 / 51840,\n    -571 / 2488320,\n    163879 / 209018880,\n    5246819 / 75246796800,\n    -534703531 / 902961561600\n  ];\n\n  let elfb: number;\n  let elfb_term: number;\n  let res12: number;\n  let res1_term: number;\n  let res1_ig: number;\n  let res2_term: number;\n  let res2_ig: number;\n  let dfm: number;\n  let pt_: number;\n  let s2pt: number;\n  let f: number;\n  let np: number;\n  let i: number;\n\n  dfm = lambda - x;\n  /* If lambda is large, the distribution is highly concentrated\n     about lambda.  So representation error in x or lambda can lead\n     to arbitrarily large values of pt_ and hence divergence of the\n     coefficients of this approximation.\n  */\n  pt_ = -log1pmx(dfm / x);\n  s2pt = sqrt(2 * x * pt_);\n  if (dfm < 0) s2pt = -s2pt;\n\n  res12 = 0;\n  res1_ig = res1_term = sqrt(x);\n  res2_ig = res2_term = s2pt;\n  for (i = 1; i < 8; i++) {\n    res12 += res1_ig * coefs_a[i];\n    res12 += res2_ig * coefs_b[i];\n    res1_term *= pt_ / i;\n    res2_term *= 2 * pt_ / (2 * i + 1);\n    res1_ig = res1_ig / x + res1_term;\n    res2_ig = res2_ig / x + res2_term;\n  }\n\n  elfb = x;\n  elfb_term = 1;\n  for (i = 1; i < 8; i++) {\n    elfb += elfb_term * coefs_b[i];\n    elfb_term /= x;\n  }\n  if (!lowerTail) elfb = -elfb;\n\n  pr_ppois_asymp('res12 = %d   elfb=%d', elfb, res12);\n\n  f = res12 / elfb;\n\n  np = pnorm(s2pt, 0.0, 1.0, !lowerTail, logP);\n\n  if (logP) {\n    let n_d_over_p = dpnorm(s2pt, !lowerTail, np);\n    pr_ppois_asymp(\n      'pp*_asymp(): f=%d\t np=e^%d  nd/np=%d  f*nd/np=%d',\n      f,\n      np,\n      n_d_over_p,\n      f * n_d_over_p\n    );\n    return np + log1p(f * n_d_over_p);\n  } else {\n    let nd = dnorm(s2pt, 0, 1, logP);\n\n    pr_ppois_asymp(\n      'pp*_asymp(): f=%d\t np=%d  nd=%d  f*nd=%d',\n      f,\n      np,\n      nd,\n      f * nd\n    );\n    return np + f * nd;\n  }\n} /* ppois_asymp() */\n\nconst pr_pgamma_raw = debug('pgamma_raw');\n\nexport function pgamma_raw(\n  x: number,\n  alph: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): number {\n  /* Here, assume that  (x,alph) are not NA  &  alph > 0 . */\n\n  let res;\n\n  pr_pgamma_raw(\n    'pgamma_raw(x=%d, alph=%d, low=%s, log=%s)',\n    x,\n    alph,\n    lowerTail,\n    logP\n  );\n\n  let rc = R_P_bounds_01(lowerTail, logP, x, 0, ML_POSINF);\n  if (rc !== undefined) {\n    return rc;\n  }\n\n  if (x < 1) {\n    res = pgamma_smallx(x, alph, lowerTail, logP);\n  } else if (x <= alph - 1 && x < 0.8 * (alph + 50)) {\n    /* incl. large alph compared to x */\n    let sum = pd_upper_series(x, alph, logP); /* = x/alph + o(x/alph) */\n    let d = dpois_wrap(alph, x, logP);\n    pr_pgamma_raw(\n      ' alph \"large\": sum=pd_upper*()= %d, d=dpois_w(*)= %d',\n      sum,\n      d\n    );\n    if (!lowerTail) res = logP ? R_Log1_Exp(d + sum) : 1 - d * sum;\n    else res = logP ? sum + d : sum * d;\n  } else if (alph - 1 < x && alph < 0.8 * (x + 50)) {\n    /* incl. large x compared to alph */\n    let sum;\n    let d = dpois_wrap(alph, x, logP);\n    pr_pgamma_raw('  x \"large\": d=dpois_w(*)= %d ', d);\n\n    if (alph < 1) {\n      if (x * DBL_EPSILON > 1 - alph) sum = R_D__1(logP);\n      else {\n        let f = pd_lower_cf(alph, x - (alph - 1)) * x / alph;\n        /* = [alph/(x - alph+1) + o(alph/(x-alph+1))] * x/alph = 1 + o(1) */\n        sum = logP ? log(f) : f;\n      }\n    } else {\n      sum = pd_lower_series(x, alph - 1); /* = (alph-1)/x + o((alph-1)/x) */\n      sum = logP ? log1p(sum) : 1 + sum;\n    }\n\n    pr_pgamma_raw(', sum= %d', sum);\n    if (!lowerTail) res = logP ? sum + d : sum * d;\n    else res = logP ? R_Log1_Exp(d + sum) : 1 - d * sum;\n  } else {\n    /* x >= 1 and x fairly near alph. */\n\n    pr_pgamma_raw(' using ppois_asymp()');\n    res = ppois_asymp(alph - 1, x, !lowerTail, logP);\n  }\n\n  /*\n   * We lose a fair amount of accuracy to underflow in the cases\n   * where the final result is very close to DBL_MIN.\t In those\n   * cases, simply redo via log space.\n   */\n  if (!logP && res < DBL_MIN / DBL_EPSILON) {\n    /* with(.Machine, double.xmin / double.eps) #|-> 1.002084e-292 */\n\n    pr_pgamma_raw(' very small res=%.14g; -> recompute via log\\n', res);\n    return exp(pgamma_raw(x, alph, lowerTail, true));\n  } else return res;\n}\n\nconst printer_pgamma = debug('pgamma');\nexport function pgamma<T>(\n  q: T,\n  shape: number,\n  scale: number,\n  lowerTail: boolean,\n  logP: boolean\n): T {\n  const fa: number[] = isArray(q) ? q : ([q] as any);\n\n  const result = fa.map(x => {\n    if (ISNAN(x) || ISNAN(shape) || ISNAN(scale)) {\n      return x + shape + scale;\n    }\n    if (shape < 0 || scale <= 0) return ML_ERR_return_NAN(printer_pgamma);\n    x /= scale;\n\n    if (ISNAN(x))\n      /* eg. original x = scale = +Inf */\n      return x;\n    if (shape === 0)\n      /* limit case; useful e.g. in pnchisq() */\n      return x <= 0\n        ? R_DT_0(lowerTail, logP)\n        : R_DT_1(lowerTail, logP); /* <= assert  pgamma(0,0) ==> 0 */\n    return pgamma_raw(x, shape, lowerTail, logP);\n  });\n  return result.length === 1 ? result[0] : (result as any);\n}\n/* From: terra@gnome.org (Morten Welinder)\n * To: R-bugs@biostat.ku.dk\n * Cc: maechler@stat.math.ethz.ch\n * Subject: Re: [Rd] pgamma discontinuity (PR#7307)\n * Date: Tue, 11 Jan 2005 13:57:26 -0500 (EST)\n\n * this version of pgamma appears to be quite good and certainly a vast\n * improvement over current R code.  (I last looked at 2.0.1)  Apart from\n * type naming, this is what I have been using for Gnumeric 1.4.1.\n\n * This could be included into R as-is, but you might want to benefit from\n * making logcf, log1pmx, lgamma1p, and possibly logspace_add/logspace_sub\n * available to other parts of R.\n\n * MM: I've not (yet?) taken  logcf(), but the other four\n */\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/pgamma.ts","/*  AUTHOR\n*  Jacob Bogers, jkfbogers@gmail.com\n*  March 17, 2017\n* \n*  ORGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998\t    Ross Ihaka\n *  Copyright (C) 2000-2013 The R Core Team\n *  Copyright (C) 2003\t    The R Foundation\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *   #include <Rmath.h>\n *\n *   double pnorm5(double x, double mu, double sigma, int lower_tail,int log_p);\n *\t   {pnorm (..) is synonymous and preferred inside R}\n *\n *   void   pnorm_both(double x, double *cum, double *ccum,\n *\t\t       int i_tail, int log_p);\n *\n *  DESCRIPTION\n *\n *\tThe main computation evaluates near-minimax approximations derived\n *\tfrom those in \"Rational Chebyshev approximations for the error\n *\tfunction\" by W. J. Cody, Math. Comp., 1969, 631-637.  This\n *\ttransportable program uses rational functions that theoretically\n *\tapproximate the normal distribution function to at least 18\n *\tsignificant decimal digits.  The accuracy achieved depends on the\n *\tarithmetic system, the compiler, the intrinsic functions, and\n *\tproper selection of the machine-dependent constants.\n *\n *  REFERENCE\n *\n *\tCody, W. D. (1993).\n *\tALGORITHM 715: SPECFUN - A Portable FORTRAN Package of\n *\tSpecial Function Routines and Test Drivers\".\n *\tACM Transactions on Mathematical Software. 19, 22-32.\n *\n *  EXTENSIONS\n *\n *  The \"_both\" , lower, upper, and log_p  variants were added by\n *  Martin Maechler, Jan.2000;\n *  as well as log1p() and similar improvements later on.\n *\n *  James M. Rath contributed bug report PR#699 and patches correcting SIXTEN\n *  and if() clauses {with a bug: \"|| instead of &&\" -> PR #2883) more in line\n *  with the original Cody code.\n */\n\nimport * as debug from 'debug';\n\nimport {\n  M_1_SQRT_2PI,\n  M_SQRT_32,\n  ML_ERR_return_NAN,\n  R_D__0,\n  R_D__1,\n  R_DT_0,\n  R_DT_1\n} from '../common/_general';\n\nimport { map } from '../r-func';\n\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  EPSILON: DBL_EPSILON,\n  NaN: ML_NAN,\n  MIN_VALUE: DBL_MIN\n} = Number;\n\nconst { trunc, log, exp, abs: fabs, log1p } = Math;\n\n\nimport { NumberW } from '../common/toms708';\n\nconst SIXTEN = 16; /* Cutoff allowing exact \"*\" and \"/\" */\nconst printer = debug('pnorm5');\n\nfunction do_del(\n  ccum: NumberW,\n  cum: NumberW,\n  log_p: boolean,\n  X: number,\n  temp: number,\n  upper: boolean,\n  lower: boolean,\n  x: number\n): void {\n  let xsq = trunc(X * SIXTEN) / SIXTEN;\n  let del = (X - xsq) * (X + xsq);\n  if (log_p) {\n    cum.val = -xsq * xsq * 0.5 + -del * 0.5 + log(temp);\n    if ((lower && x > 0) || (upper && x <= 0))\n      ccum.val = log1p(-exp(-xsq * xsq * 0.5) * exp(-del * 0.5) * temp);\n  } else {\n    cum.val = exp(-xsq * xsq * 0.5) * exp(-del * 0.5) * temp;\n    ccum.val = 1.0 - cum.val;\n  }\n}\n\nexport function pnorm5<T>(\n  q: T,\n  mu: number = 0,\n  sigma: number = 1,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n\n  return map(q)( fx => {\n    let p = new NumberW(0);\n    let cp = new NumberW(0);\n\n    /* Note: The structure of these checks has been carefully thought through.\n     * For example, if x == mu and sigma == 0, we get the correct answer 1.\n     */\n\n    if (ISNAN(fx) || ISNAN(mu) || ISNAN(sigma)) return fx + mu + sigma;\n\n    if (!R_FINITE(fx) && mu === fx) return ML_NAN; /* x-mu is NaN */\n    if (sigma <= 0) {\n      if (sigma < 0) return ML_ERR_return_NAN(printer);\n      /* sigma = 0 : */\n      return fx < mu ? R_DT_0(lowerTail, logP) : R_DT_1(lowerTail, logP);\n    }\n    p.val = (fx - mu) / sigma;\n    if (!R_FINITE(p.val))\n      return fx < mu ? R_DT_0(lowerTail, logP) : R_DT_1(lowerTail, logP);\n    fx = p.val;\n\n    pnorm_both(fx, p, cp, !lowerTail, logP);\n\n    return lowerTail ? p.val : cp.val;\n  }) as any;\n}\n\nexport function pnorm_both(\n  x: number,\n  cum: NumberW,\n  ccum: NumberW,\n  i_tail: boolean,\n  log_p: boolean\n) {\n  /* i_tail in {0,1,2} means: \"lower\", \"upper\", or \"both\" :\n       if(lower) return  *cum := P[X <= x]\n       if(upper) return *ccum := P[X >  x] = 1 - P[X <= x]\n    */\n  const a = [\n    2.2352520354606839287,\n    161.02823106855587881,\n    1067.6894854603709582,\n    18154.981253343561249,\n    0.065682337918207449113\n  ];\n  const b = [\n    47.20258190468824187,\n    976.09855173777669322,\n    10260.932208618978205,\n    45507.789335026729956\n  ];\n  const c = [\n    0.39894151208813466764,\n    8.8831497943883759412,\n    93.506656132177855979,\n    597.27027639480026226,\n    2494.5375852903726711,\n    6848.1904505362823326,\n    11602.651437647350124,\n    9842.7148383839780218,\n    1.0765576773720192317e-8\n  ];\n  const d = [\n    22.266688044328115691,\n    235.38790178262499861,\n    1519.377599407554805,\n    6485.558298266760755,\n    18615.571640885098091,\n    34900.952721145977266,\n    38912.003286093271411,\n    19685.429676859990727\n  ];\n  const p = [\n    0.21589853405795699,\n    0.1274011611602473639,\n    0.022235277870649807,\n    0.001421619193227893466,\n    2.9112874951168792e-5,\n    0.02307344176494017303\n  ];\n  const q = [\n    1.28426009614491121,\n    0.468238212480865118,\n    0.0659881378689285515,\n    0.00378239633202758244,\n    7.29751555083966205e-5\n  ];\n\n  let xden;\n  let xnum;\n  let temp;\n  let eps;\n  let xsq;\n  let y;\n\n  let min = DBL_MIN;\n\n  let i = new Int32Array([0]);\n  let lower: boolean;\n  let upper: boolean;\n\n  if (ISNAN(x)) {\n    cum.val = ccum.val = x;\n    return;\n  }\n\n  /* Consider changing these : */\n  eps = DBL_EPSILON * 0.5;\n\n  /* i_tail in {0,1,2} =^= {lower, upper, both} */\n  lower = i_tail !== true;\n  upper = i_tail !== false;\n\n  y = fabs(x);\n  if (y <= 0.67448975) {\n    /* qnorm(3/4) = .6744.... -- earlier had 0.66291 */\n    if (y > eps) {\n      xsq = x * x;\n      xnum = a[4] * xsq;\n      xden = xsq;\n      for (i[0] = 0; i[0] < 3; ++i[0]) {\n        xnum = (xnum + a[i[0]]) * xsq;\n        xden = (xden + b[i[0]]) * xsq;\n      }\n    } else xnum = xden = 0.0;\n\n    temp = x * (xnum + a[3]) / (xden + b[3]);\n    if (lower) cum.val = 0.5 + temp;\n    if (upper) ccum.val = 0.5 - temp;\n    if (log_p) {\n      if (lower) cum.val = log(cum.val);\n      if (upper) ccum.val = log(ccum.val);\n    }\n  } else if (y <= M_SQRT_32) {\n    /* Evaluate pnorm for 0.674.. = qnorm(3/4) < |x| <= sqrt(32) ~= 5.657 */\n\n    xnum = c[8] * y;\n    xden = y;\n    for (i[0] = 0; i[0] < 7; ++i[0]) {\n      xnum = (xnum + c[i[0]]) * y;\n      xden = (xden + d[i[0]]) * y;\n    }\n    temp = (xnum + c[7]) / (xden + d[7]);\n\n    //function do_del(ccum: NumberW, cum: NumberW, log_p: boolean, X: number, temp: number, upper: number, lower: number, x: number):\n    /*\n        #define swap_tail\n            if (x > 0.) {// swap  ccum <--> cum \n                temp = *cum; if(lower) *cum = *ccum; *ccum = temp; \\\n            }\n        */\n    do_del(ccum, cum, log_p, y, temp, upper, lower, x);\n    //swap_tail;\n    if (x > 0) {\n      // swap  ccum <--> cum\n      temp = cum.val;\n      if (lower) {\n        cum.val = ccum.val;\n      }\n      ccum.val = temp;\n    }\n  } else if (\n    (log_p && y < 1e170) /* avoid underflow below */ ||\n    /*  ^^^^^ MM FIXME: can speedup for log_p and much larger |x| !\n         * Then, make use of  Abramowitz & Stegun, 26.2.13, something like\n    \n         xsq = x*x;\n    \n         if(xsq * DBL_EPSILON < 1.)\n            del = (1. - (1. - 5./(xsq+6.)) / (xsq+4.)) / (xsq+2.);\n         else\n            del = 0.;\n         *cum = -.5*xsq - M_LN_SQRT_2PI - log(x) + log1p(-del);\n         *ccum = log1p(-exp(*cum)); /.* ~ log(1) = 0 *./\n    \n          swap_tail;\n    \n         [Yes, but xsq might be infinite.]\n    \n        */\n    (lower && -37.5193 < x && x < 8.2924) ||\n    (upper && -8.2924 < x && x < 37.5193)\n  ) {\n    /* else\t  |x| > sqrt(32) = 5.657 :\n     * the next two case differentiations were really for lower=T, log=F\n     * Particularly\t *not*\tfor  log_p !\n    \n     * Cody had (-37.5193 < x  &&  x < 8.2924) ; R originally had y < 50\n     *\n     * Note that we do want symmetry(0), lower/upper -> hence use y\n     */\n    /* Evaluate pnorm for x in (-37.5, -5.657) union (5.657, 37.5) */\n    xsq = 1.0 / (x * x); /* (1./x)*(1./x) might be better */\n    xnum = p[5] * xsq;\n    xden = xsq;\n    for (i[0] = 0; i[0] < 4; ++i[0]) {\n      xnum = (xnum + p[i[0]]) * xsq;\n      xden = (xden + q[i[0]]) * xsq;\n    }\n    temp = xsq * (xnum + p[4]) / (xden + q[4]);\n    temp = (M_1_SQRT_2PI - temp) / y;\n    do_del(ccum, cum, log_p, x, temp, upper, lower, x);\n    //do_del(x);\n    //swap_tail;\n    if (x > 0) {\n      // swap  ccum <--> cum\n      temp = cum.val;\n      if (lower) {\n        cum.val = ccum.val;\n      }\n      ccum.val = temp;\n    }\n  } else {\n    /* large x such that probs are 0 or 1 */\n    if (x > 0) {\n      cum.val = R_D__1(log_p);\n      ccum.val = R_D__0(log_p);\n    } else {\n      cum.val = R_D__0(log_p);\n      ccum.val = R_D__1(log_p);\n    }\n  }\n\n  /* do not return \"denormalized\" -- we do in R */\n  if (log_p) {\n    if (cum.val > -min) cum.val = -0;\n    if (ccum.val > -min) {\n      ccum.val = -0;\n    }\n  } else {\n    if (cum.val < min) cum.val = 0;\n    if (ccum.val < min) ccum.val = 0;\n  }\n\n  return;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/normal/pnorm.ts","'use strict';\n\nexport const i2_32m1 = 2.328306437080797e-10;\n\nexport function fixup(x: number) {\n  /* ensure 0 and 1 are never returned */\n  if (x <= 0.0) return 0.5 * i2_32m1;\n  if (1.0 - x <= 0.0) return 1.0 - 0.5 * i2_32m1;\n  return x;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/fixup.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_D__0 } from '../common/_general';\nimport { dpois_raw } from '../poisson/dpois';\nimport { map } from '../r-func';\n\nconst { log } = Math;\nconst { isNaN: ISNAN } = Number;\nconst ML_POSINF = Infinity;\n\nconst printer = debug('dgamma');\n\nexport function dgamma<T>(\n  xx: T,\n  shape: number,\n  scale: number,\n  aslog: boolean = false\n): T {\n  return map(xx)(x => {\n    let pr: number;\n\n    if (ISNAN(x) || ISNAN(shape) || ISNAN(scale)) return x + shape + scale;\n    if (shape < 0 || scale <= 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n    if (x < 0) {\n      return R_D__0(aslog);\n    }\n    if (shape === 0) {\n      /* point mass at 0 */\n      return x === 0 ? ML_POSINF : R_D__0(aslog);\n    }\n    if (x === 0) {\n      if (shape < 1) return ML_POSINF;\n      if (shape > 1) {\n        return R_D__0(aslog);\n      }\n      /* else */\n      return aslog ? -log(scale) : 1 / scale;\n    }\n\n    if (shape < 1) {\n      pr = dpois_raw(shape, x / scale, aslog);\n      return aslog ? pr + log(shape / x) : pr * shape / x;\n    }\n    /* else  shape >= 1 */\n    pr = dpois_raw(shape - 1, x / scale, aslog);\n    return aslog ? pr - log(scale) : pr / scale;\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/dgamma.ts","/*\n *  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 4, 2017\n *\n *  ORIGINAL AUTHOR\n *  AUTHOR\n *    Catherine Loader, catherine@research.bell-labs.com.\n *    October 23, 2000.\n *\n *  Merge in to R:\n *\tCopyright (C) 2000-2015 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *\n * DESCRIPTION\n *\n *    dpois() checks argument validity and calls dpois_raw().\n *\n *    dpois_raw() computes the Poisson probability  lb^x exp(-lb) / x!.\n *      This does not check that x is an integer, since dgamma() may\n *      call this with a fractional x argument. Any necessary argument\n *      checks should be done in the calling function.\n *\n */\n\nimport * as debug from 'debug';\n\nimport {\n  ML_ERR_return_NAN,\n  R_D__0,\n  R_D__1,\n  R_D_exp,\n  R_D_fexp,\n  R_D_nonint_check\n} from '../common/_general';\n\nimport { bd0 } from '../deviance'; \nimport { lgammafn } from '../gamma/lgamma_fn';\nimport { map } from '../r-func';\nimport { stirlerr } from '../stirling';\n\nconst { round: R_forceint, log, PI } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE, MIN_VALUE: DBL_MIN } = Number;\nconst M_2PI = 2 * PI;\nconst printer = debug('dpois');\n\nexport function dpois_raw(\n  x: number,\n  lambda: number,\n  give_log: boolean\n): number {\n  /*       x >= 0 ; integer for dpois(), but not e.g. for pgamma()!\n        lambda >= 0\n    */\n  if (lambda === 0) return x === 0 ? R_D__1(give_log) : R_D__0(give_log);\n  if (!R_FINITE(lambda)) return R_D__0(give_log);\n  if (x < 0) return R_D__0(give_log);\n  if (x <= lambda * DBL_MIN) return R_D_exp(give_log, -lambda);\n  if (lambda < x * DBL_MIN)\n    return R_D_exp(give_log, -lambda + x * log(lambda) - lgammafn(x + 1));\n\n    return R_D_fexp(give_log, M_2PI * x, -stirlerr(x) - bd0(x, lambda));\n}\n\nexport function dpois(\n  _x: number | number[],\n  lambda: number,\n  give_log: boolean = false\n): number | number[] {\n  \n  return map(_x)(x => {\n    if (ISNAN(x) || ISNAN(lambda)) {\n      return x + lambda;\n    }\n\n    if (lambda < 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n    let rc = R_D_nonint_check(give_log, x, printer);\n    if (rc !== undefined) {\n      return rc;\n    }\n    if (x < 0 || !R_FINITE(x)) {\n      return R_D__0(give_log);\n    }\n    x = R_forceint(x);\n    return dpois_raw(x, lambda, give_log);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/poisson/dpois.ts","/*\n *  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  Januari 22, 2017\n * \n *  Original Author: R Core team\n *\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 2013-2016 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n * \n *  License for JS language implementation\n *  https://www.jacob-bogers/libRmath.js/Licenses/\n * \n *  License for R statistical package\n *  https://www.r-project.org/Licenses/\n * \n */\n\nimport * as debug from 'debug';\n\nimport {\n  fmod,\n  ME,\n  ML_ERROR\n} from '../common/_general';\n\nconst  { \n    abs: fabs, \n    PI: M_PI\n} = Math;\n\nconst { \n    NaN: ML_NAN,\n    isNaN: ISNAN,  \n    isFinite: R_FINITE  \n} = Number;\n\n/* HAVE_COSPI etc will not be defined in standalone-use: the\n   intention is to make the versions here available in that case.\n\n   The __cospi etc variants are from OS X (and perhaps other BSD-based systems).\n*/\n\n// cos(pi * x)  -- exact when x = k/2  for all integer k\nconst printer_cospi = debug('cospi');\n\nexport function cospi(x: number): number {\n  // NaNs propagated correctly\n  if (ISNAN(x)) return x;\n  if (!R_FINITE(x)) {\n    ML_ERROR(ME.ME_DOMAIN, '', printer_cospi);\n    return ML_NAN;\n  }\n\n  x = fmod(fabs(x), 2); // cos() symmetric; cos(pi(x + 2k)) == cos(pi x) for all integer k\n  if (fmod(x, 1) === 0.5) return 0;\n  if (x === 1) return -1;\n  if (x === 0) return 1;\n  // otherwise\n  return Math.cos(M_PI * x);\n}\n\n// tan(pi * x)  -- exact when x = k/2  for all integer k\nconst printer_tanpi = debug('tanpi');\nexport function tanpi(x: number): number {\n  if (ISNAN(x)) return x;\n  if (!R_FINITE(x)) {\n    ML_ERROR(ME.ME_DOMAIN, '', printer_tanpi);\n    return ML_NAN;\n  }\n  x = fmod(x, 1); // tan(pi(x + k)) == tan(pi x)  for all integer k\n  // map (-1,1) --> (-1/2, 1/2] :\n  if (x <= -0.5) {\n    x++;\n  } else if (x > 0.5) {\n    x--;\n  }\n  return x === 0 ? 0 : x === 0.5 ? ML_NAN : Math.tan(M_PI * x);\n}\n\nexport function atanpi(x: number) {\n  return Math.atan(x) / Math.PI;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/trigonometry/cospi.ts","import * as debug from 'debug';\n\nimport { fmod, ME, ML_ERROR } from '../common/_general';\n\nconst { PI: M_PI } = Math;\n\nconst { NaN: ML_NAN, isNaN: ISNAN, isFinite: R_FINITE } = Number;\n\n// sin(pi * x)  -- exact when x = k/2  for all integer k\nconst printer_sinpi = debug('sinpi');\nexport function sinpi(x: number): number {\n  if (ISNAN(x)) return x;\n  if (!R_FINITE(x)) {\n    ML_ERROR(ME.ME_DOMAIN, 'sinpi not finite', printer_sinpi);\n    return ML_NAN;\n  }\n  x = fmod(x, 2); // sin(pi(x + 2k)) == sin(pi x)  for all integer k\n  // map (-2,2) --> (-1,1] :\n  if (x <= -1) x += 2;\n  else if (x > 1) x -= 2;\n  if (x === 0 || x === 1) return 0;\n  if (x === 0.5) return 1;\n  if (x === -0.5) return -1;\n  // otherwise\n  return Math.sin(M_PI * x);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/trigonometry/sinpi.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport { dgamma as _dgamma } from './dgamma';\nimport { pgamma as _pgamma } from './pgamma';\nimport { qgamma as _qgamma } from './qgamma';\nimport { rgamma as _rgamma } from './rgamma';\n\n//aux\nimport { Inversion, IRNGNormal } from '../rng/normal';\n\n//special\nimport { multiplexer } from '../r-func';\nimport { gammafn } from './gamma_fn';\nimport { lgammafn } from './lgamma_fn';\nimport {\n  digamma,\n  pentagamma,\n  psigamma,\n  tetragamma,\n  trigamma\n} from './polygamma';\n\nexport const special = {\n  digamma,\n  gamma: gammafn,\n  lgamma: lgammafn,\n  pentagamma,\n  psigamma,\n  tetragamma,\n  trigamma\n};\n\nconst { abs } = Math;\n\nexport function Gamma(norm: IRNGNormal = new Inversion()) {\n  const printer_n = debug('gamma_normalize_params');\n\n  function gammaNormalizeParams(\n    rate?: number,\n    scale?: number\n  ): number | undefined {\n    //B: if scale and rate are undefined then _scale = 1\n    //C: if scale and rate are both defined and scale != 1/rate, return undefined\n    //D: if scale is defined and rate is not , use scale\n    //E: if rate is defined and scale is not then use 1/rate\n\n    //B\n    if (scale === undefined && rate === undefined) {\n      return 1;\n    }\n\n    //C\n    if (scale !== undefined && rate !== undefined) {\n      if (abs(scale * rate - 1) >= 1e-16) {\n        printer_n('Both scale:%d and rate:%d are defined but scale <> 1/rate');\n        return undefined;\n      }\n      return scale;\n    }\n\n    //D\n    if (scale !== undefined && rate === undefined) {\n      return scale;\n    }\n\n    //E\n    if (scale === undefined && rate !== undefined) {\n      return 1 / rate;\n    }\n\n    throw new Error('unreachable code, you cant be here!');\n  }\n\n  const printer_d = debug('dgamma');\n\n  function dgamma(\n    x: number | number[],\n    shape: number,\n    rate?: number,\n    scale?: number,\n    asLog = false\n  ) {\n    // scenarios\n    let _scale = gammaNormalizeParams(rate, scale);\n    if (_scale !== undefined) {\n      return _dgamma(x, shape, _scale, asLog);\n    }\n    printer_d('Cannot normalize to [scale]');\n    return multiplexer(x)(() => NaN);\n  }\n\n  const printer_p = debug('pgamma');\n  function pgamma(\n    q: number | number[],\n    shape: number,\n    rate?: number,\n    scale?: number,\n    lowerTail: boolean = true,\n    logP: boolean = false\n  ) {\n    // scenarios\n    let _scale = gammaNormalizeParams(rate, scale);\n    if (_scale !== undefined) {\n      return _pgamma(q, shape, _scale, lowerTail, logP);\n    }\n    printer_p('Cannot normalize to [scale]');\n    return multiplexer(q)(() => NaN);\n  }\n\n  const printer_q = debug('qgamma');\n\n  function qgamma(\n    q: number | number[],\n    shape: number,\n    rate?: number,\n    scale?: number,\n    lowerTail: boolean = true,\n    logP: boolean = false\n  ) {\n    // scenarios\n    let _scale = gammaNormalizeParams(rate, scale);\n    if (_scale !== undefined) {\n      return _qgamma(q, shape, _scale, lowerTail, logP);\n    }\n    printer_q('Cannot normalize to [scale]');\n    return multiplexer(q)(() => NaN);\n  }\n\n  const printer_r = debug('rgamma');\n  function rgamma(n: number, shape: number, rate?: number, scale?: number) {\n    let _scale = gammaNormalizeParams(rate, scale);\n    if (_scale !== undefined) {\n      return _rgamma(n, shape, _scale, norm);\n    }\n    printer_r('Cannot normalize to [scale]');\n  }\n\n  return Object.freeze({\n    dgamma,\n    pgamma,\n    qgamma,\n    rgamma\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/index.ts","\n/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nexport const  nsig_BESS = 16;\nexport const  ensig_BESS = 1e16;\nexport const  rtnsig_BESS = 1e-4;\nexport const  enmten_BESS = 8.9e-308;\nexport const  enten_BESS = 1e308;\n\nexport const  exparg_BESS = 709.;\nexport const  xlrg_BESS_IJ = 1e5;\nexport const  xlrg_BESS_Y = 1e8;\nexport const  thresh_BESS_Y = 16.;\n\nexport const  xmax_BESS_K = 705.342; /* maximal x for UNscaled answer */\n\n\n/* sqrt(DBL_MIN) =\t1.491668e-154 */\nexport const  sqxmin_BESS_K = 1.49e-154;\n\n/* x < eps_sinc\t <==>  sin(x)/x == 1 (particularly \"==>\");\n  Linux (around 2001-02) gives 2.14946906753213e-08\n  Solaris 2.5.1\t\t gives 2.14911933289084e-08\n  Javascript (V8) around 2018 gives 2.1491194e-8 => 0.9999999999999999,  \n*/\nexport const  M_eps_sinc = 2.149e-8;\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/bessel/bessel-constants.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n/* These are recursive, so we should do a stack check */\nimport * as debug from 'debug';\nimport { isOdd } from '../common/_general';\n\nconst { abs: fabs, log, exp, round } = Math;\nconst { isInteger, NEGATIVE_INFINITY: ML_NEGINF, isNaN: ISNAN } = Number;\n\nimport { internal_lbeta } from '../beta/lbeta';\nimport { lgammafn } from '../gamma/lgamma_fn';\nimport { lgammafn_sign } from '../gamma/lgammafn_sign';\nimport { multiplexer } from '../r-func';\nimport { numVector } from '../types';\n\n// used by \"qhyper\"\nfunction lfastchoose(n: number, k: number) {\n  return -log(n + 1) - internal_lbeta(n - k + 1, k + 1);\n}\n/* mathematically the same:\n   less stable typically, but useful if n-k+1 < 0 : */\n\nfunction lfastchoose2(n: number, k: number, sChoose?: number[]) {\n  let r: number;\n  r = lgammafn_sign(n - k + 1, sChoose);\n  return lgammafn(n + 1) - lgammafn(k + 1) - r;\n}\n\n\nexport function choose(_n: numVector, _k: numVector): numVector {\n  return multiplexer(_n, _k)((n, k) => internal_choose(n, k));\n}\n\nexport function lchoose(_n: numVector, _k: numVector): numVector {\n  return multiplexer(_n, _k)((n, k) => internal_lchoose(n, k));\n}\n\nconst printer_lchoose = debug('lchoose');\n\nexport function internal_lchoose(n: number, k: number): number {\n  let k0 = k;\n  k = Math.round(k);\n  /* NaNs propagated correctly */\n  if (ISNAN(n) || ISNAN(k)) return n + k;\n  if (fabs(k - k0) > 1e-7)\n    printer_lchoose('\"k\" (%d) must be integer, rounded to %d', k0, k);\n  if (k < 2) {\n    if (k < 0) return ML_NEGINF;\n    if (k === 0) return 0;\n    /* else: k == 1 */\n    return log(fabs(n));\n  }\n  /* else: k >= 2 */\n  if (n < 0) {\n    return internal_lchoose(-n + k - 1, k);\n  } else if (isInteger(n)) {\n    n = round(n);\n    if (n < k) return ML_NEGINF;\n    /* k <= n :*/\n    if (n - k < 2) return internal_lchoose(n, n - k); /* <- Symmetry */\n    /* else: n >= k+2 */\n    return lfastchoose(n, k);\n  }\n  /* else non-integer n >= 0 : */\n  if (n < k - 1) {\n    return lfastchoose2(n, k);\n  }\n  return lfastchoose(n, k);\n}\n\nconst k_small_max = 30;\n\n/* 30 is somewhat arbitrary: it is on the *safe* side:\n * both speed and precision are clearly improved for k < 30.\n*/\nconst printer_choose = debug('choose');\n\nexport function internal_choose(n: number, k: number): number {\n  let r: number;\n  let k0 = k;\n  k = round(k);\n  /* NaNs propagated correctly */\n  if (ISNAN(n) || ISNAN(k)) return n + k;\n  if (fabs(k - k0) > 1e-7)\n    printer_choose('k (%d) must be integer, rounded to %d', k0, k);\n  if (k < k_small_max) {\n    let j: number;\n    if (n - k < k && n >= 0 && isInteger(n)) k = n - k; /* <- Symmetry */\n    if (k < 0) return 0;\n    if (k === 0) return 1;\n    /* else: k >= 1 */\n    r = n;\n    for (j = 2; j <= k; j++) r *= (n - j + 1) / j;\n    return isInteger(n) ? round(r) : r;\n    /* might have got rounding errors */\n  }\n  /* else: k >= k_small_max */\n  if (n < 0) {\n    r = internal_choose(-n + k - 1, k);\n    if (isOdd(k)) r = -r;\n    return r;\n  } else if (isInteger(n)) {\n    n = round(n);\n    if (n < k) return 0;\n    if (n - k < k_small_max) return internal_choose(n, n - k); /* <- Symmetry */\n    return round(exp(lfastchoose(n, k)));\n  }\n  /* else non-integer n >= 0 : */\n  if (n < k - 1) {\n    let schoose: number[] = [0];\n    r = lfastchoose2(n, k, /* -> */ schoose);\n    return schoose[0] * exp(r);\n  }\n  return exp(lfastchoose(n, k));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/common/choose.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n\nexport function exp_rand(unif_rand: () => number): number {\n\n  const q: number[] = [\n    0.6931471805599453,\n    0.9333736875190459,\n    0.9888777961838675,\n    0.9984959252914960,\n    0.9998292811061389,\n    0.9999833164100727,\n    0.9999985691438767,\n    0.9999998906925558,\n    0.9999999924734159,\n    0.9999999995283275,\n    0.9999999999728814,\n    0.9999999999985598,\n    0.9999999999999289,\n    0.9999999999999968,\n    0.9999999999999999,\n    1.0000000000000000\n  ];\n\n  let a = 0.;\n  let u = unif_rand();    // precaution if u = 0 is ever returned \n  while (u <= 0. || u >= 1.) u = unif_rand();\n  while (true) {\n    u += u;\n    if (u > 1.)\n      break;\n    a += q[0];\n  }\n  u -= 1.;\n\n  if (u <= q[0])\n    return a + u;\n\n  let i = 0;\n  let ustar = unif_rand();\n  let umin = ustar;\n  do {\n    ustar = unif_rand();\n    if (umin > ustar)\n      umin = ustar;\n    i++;\n  } while (u > q[i]);\n  return a + umin * q[0];\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/exp/sexp.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport { chebyshev_eval } from '../chebyshev/chebyshev';\nimport { ME, ML_ERROR } from '../common/_general';\nimport { stirlerr } from '../stirling';\nimport { sinpi } from '../trigonometry';\nimport { lgammacor } from './lgammacor';\n\nimport * as debug from 'debug';\n\nconst printer = debug('gammafn');\n\nconst {\n  isNaN: ISNAN,\n  NaN: ML_NAN,\n  POSITIVE_INFINITY: ML_POSINF,\n  NEGATIVE_INFINITY: ML_NEGINF\n} = Number;\n\nconst { PI: M_PI, abs: fabs, round, trunc, exp, log } = Math;\n\nconst M_LN_SQRT_2PI = Math.log(Math.sqrt(2 * Math.PI));\n\nconst gamcs: number[] = [\n  +0.8571195590989331421920062399942e-2,\n  +0.4415381324841006757191315771652e-2,\n  +0.5685043681599363378632664588789e-1,\n  -0.4219835396418560501012500186624e-2,\n  +0.1326808181212460220584006796352e-2,\n  -0.1893024529798880432523947023886e-3,\n  +0.3606925327441245256578082217225e-4,\n  -0.6056761904460864218485548290365e-5,\n  +0.1055829546302283344731823509093e-5,\n  -0.1811967365542384048291855891166e-6,\n  +0.3117724964715322277790254593169e-7,\n  -0.5354219639019687140874081024347e-8,\n  +0.919327551985958894688778682594e-9,\n  -0.1577941280288339761767423273953e-9,\n  +0.2707980622934954543266540433089e-10,\n  -0.4646818653825730144081661058933e-11,\n  +0.7973350192007419656460767175359e-12,\n  -0.1368078209830916025799499172309e-12,\n  +0.2347319486563800657233471771688e-13,\n  -0.4027432614949066932766570534699e-14,\n  +0.6910051747372100912138336975257e-15,\n  -0.1185584500221992907052387126192e-15,\n  +0.2034148542496373955201026051932e-16,\n  -0.3490054341717405849274012949108e-17,\n  +0.5987993856485305567135051066026e-18,\n  -0.1027378057872228074490069778431e-18,\n  +0.1762702816060529824942759660748e-19,\n  -0.3024320653735306260958772112042e-20,\n  +0.5188914660218397839717833550506e-21,\n  -0.8902770842456576692449251601066e-22,\n  +0.1527474068493342602274596891306e-22,\n  -0.2620731256187362900257328332799e-23,\n  +0.4496464047830538670331046570666e-24,\n  -0.7714712731336877911703901525333e-25,\n  +0.1323635453126044036486572714666e-25,\n  -0.2270999412942928816702313813333e-26,\n  +0.3896418998003991449320816639999e-27,\n  -0.6685198115125953327792127999999e-28,\n  +0.1146998663140024384347613866666e-28,\n  -0.1967938586345134677295103999999e-29,\n  +0.3376448816585338090334890666666e-30,\n  -0.5793070335782135784625493333333e-31\n];\n\nconst { isArray } = Array;\n\nexport function gammafn<T>(x: T): T {\n  const fx: number[] = isArray(x) ? x : [x] as any;\n\n  const result = fx.map(fx => {\n    return _gammafn(fx);\n  });\n\n  return result.length === 1 ? result[0] : result as any;\n}\n\nfunction _gammafn(x: number): number {\n  let i: number;\n  let n: number;\n  let y: number;\n  let sinpiy: number;\n  let value: number;\n\n  /* #ifdef NOMORE_FOR_THREADS\n     static int ngam = 0;\n     static double xmin = 0, xmax = 0., xsml = 0., dxrel = 0.;\n \n     // Initialize machine dependent constants, the first time gamma() is called.\n     //FIXME for threads ! \n     if (ngam == 0) {\n         ngam = chebyshev_init(gamcs, 42, DBL_EPSILON / 20);//was .1*d1mach(3)\n         gammalims(&xmin, &xmax);//-> ./gammalims.c \n         xsml = exp(fmax2(log(DBL_MIN), -log(DBL_MAX)) + 0.01);\n         //   = exp(.01)*DBL_MIN = 2.247e-308 for IEEE \n         dxrel = sqrt(DBL_EPSILON);//was sqrt(d1mach(4)) \n     }\n     #else\n     */\n  // For IEEE double precision DBL_EPSILON = 2^-52 = 2.220446049250313e-16 :\n  // (xmin, xmax) are non-trivial, see ./gammalims.c\n  // xsml = exp(.01)*DBL_MIN\n  // dxrel = sqrt(DBL_EPSILON) = 2 ^ -26\n  //\n  const ngam = 22;\n  const xmin = -170.5674972726612;\n  const xmax = 171.61447887182298;\n  const xsml = 2.2474362225598545e-308;\n  const dxrel = 1.490116119384765696e-8;\n\n  if (ISNAN(x)) return x;\n\n  //If the argument is exactly zero or a negative integer\n  //then return NaN.\n  if (x === 0 || (x < 0 && x === round(x))) {\n    ML_ERROR(ME.ME_DOMAIN, 'gammafn', printer);\n    return ML_NAN;\n  }\n\n  y = fabs(x);\n\n  if (y <= 10) {\n    // Compute gamma(x) for -10 <= x <= 10\n    // Reduce the interval and find gamma(1 + y) for 0 <= y < 1\n    // first of all.\n\n    n = x >> 0; // make int32\n    if (x < 0)--n;\n    y = x - n; // n = floor(x)  ==>\ty in [ 0, 1 )\n    --n;\n    value = chebyshev_eval(y * 2 - 1, gamcs, ngam) + 0.9375;\n    if (n === 0) return value; // x = 1.dddd = 1+y\n\n    if (n < 0) {\n      // compute gamma(x) for -10 <= x < 1\n      // exact 0 or \"-n\" checked already above\n      // The answer is less than half precision\n      // because x too near a negative integer.\n      if (x < -0.5 && fabs(x - trunc(x - 0.5) / x) < dxrel) {\n        ML_ERROR(ME.ME_PRECISION, 'gammafn', printer);\n      }\n      // The argument is so close to 0 that the result would overflow.\n      if (y < xsml) {\n        ML_ERROR(ME.ME_RANGE, 'gammafn', printer);\n        if (x > 0) return ML_POSINF;\n        else return ML_NEGINF;\n      }\n\n      n = -n;\n\n      for (i = 0; i < n; i++) {\n        value /= x + i;\n      }\n      return value;\n    } else {\n      // gamma(x) for 2 <= x <= 10\n\n      for (i = 1; i <= n; i++) {\n        value *= y + i;\n      }\n      return value;\n    }\n  } else {\n    // gamma(x) for\t y = |x| > 10.\n\n    if (x > xmax) {\n      // Overflow\n      ML_ERROR(ME.ME_RANGE, 'gammafn', printer);\n      return ML_POSINF;\n    }\n\n    if (x < xmin) {\n      // Underflow\n      ML_ERROR(ME.ME_UNDERFLOW, 'gammafn', printer);\n      return 0;\n    }\n\n    if (y <= 50 && y === trunc(y)) {\n      // compute (n - 1)!\n      value = 1;\n      for (i = 2; i < y; i++) value *= i;\n    } else {\n      // normal case\n      value = exp(\n        (y - 0.5) * log(y) -\n        y +\n        M_LN_SQRT_2PI +\n        (2 * y === trunc(2) * y ? stirlerr(y) : lgammacor(y))\n      );\n    }\n    if (x > 0) return value;\n\n    if (fabs((x - trunc(x - 0.5)) / x) < dxrel) {\n      // The answer is less than half precision because\n      // the argument is too near a negative integer.\n\n      ML_ERROR(ME.ME_PRECISION, 'gammafn', printer);\n    }\n\n    sinpiy = sinpi(y);\n    if (sinpiy === 0) {\n      // Negative integer arg - overflow\n      ML_ERROR(ME.ME_RANGE, 'gammafn', printer);\n      return ML_POSINF;\n    }\n    return -M_PI / (y * sinpiy * value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/gamma_fn.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { exp_rand } from '../exp/sexp';\nimport { IRNGNormal } from '../rng/normal/inormal-rng';\n\nconst { expm1, abs: fabs, sqrt, log, exp } = Math;\nconst { isFinite: R_FINITE } = Number;\n\nexport function rgamma(\n  n: number = 1,\n  a: number = 1,\n  scale: number = 1, //this is not the rate!!\n  rng: IRNGNormal\n): number | number[] {\n  const result = new Array(n).fill(0).map(() => _rgamma(a, scale, rng));\n\n  return result.length === 1 ? result[0] : result;\n}\n\nconst printer_rgamma = debug('_rgamma');\n\nexport function _rgamma(\n  a: number = 1,\n  scale: number = 1,\n  rng: IRNGNormal\n): number {\n  /* Constants : */\n  const sqrt32 = 5.656854;\n  const exp_m1 = 0.36787944117144232159; /* exp(-1) = 1/e */\n\n  /* Coefficients q[k] - for q0 = sum(q[k]*a^(-k))\n     * Coefficients a[k] - for q = q0+(t*t/2)*sum(a[k]*v^k)\n     * Coefficients e[k] - for exp(q)-1 = sum(e[k]*q^k)\n     */\n  const q1 = 0.04166669;\n  const q2 = 0.02083148;\n  const q3 = 0.00801191;\n  const q4 = 0.00144121;\n  const q5 = -7.388e-5;\n  const q6 = 2.4511e-4;\n  const q7 = 2.424e-4;\n\n  const a1 = 0.3333333;\n  const a2 = -0.250003;\n  const a3 = 0.2000062;\n  const a4 = -0.1662921;\n  const a5 = 0.1423657;\n  const a6 = -0.1367177;\n  const a7 = 0.1233795;\n\n  /* State variables [FIXME for threading!] :*/\n\n  let aa = 0;\n  let aaa = 0;\n  let s = 0;\n  let s2 = 0;\n  let d = 0; /* no. 1 (step 1) */\n  let q0 = 0;\n  let b = 0;\n  let si = 0;\n  let c = 0; /* no. 2 (step 4) */\n\n  let e = 0;\n  let p = 0;\n  let q = 0;\n  let r = 0;\n  let t = 0;\n  let u = 0;\n  let v = 0;\n  let w = 0;\n  let x = 0;\n  let ret_val = 0;\n\n  if (!R_FINITE(a) || !R_FINITE(scale) || a < 0.0 || scale <= 0.0) {\n    if (scale === 0) return 0;\n    return ML_ERR_return_NAN(printer_rgamma);\n  }\n\n  if (a < 1) {\n    /* GS algorithm for parameters a < 1 */\n    if (a === 0) return 0;\n    e = 1.0 + exp_m1 * a;\n    while (true) {\n      p = e * (rng.unif_rand() as number);\n      if (p >= 1.0) {\n        x = -log((e - p) / a);\n        if (exp_rand(rng.unif_rand as any) >= (1.0 - a) * log(x)) break;\n      } else {\n        x = exp(log(p) / a);\n        if (exp_rand(rng.unif_rand as any) >= x) break;\n      }\n    }\n    return scale * x;\n  }\n\n  /* --- a >= 1 : GD algorithm --- */\n\n  /* Step 1: Recalculations of s2, s, d if a has changed */\n  if (a !== aa) {\n    aa = a;\n    s2 = a - 0.5;\n    s = sqrt(s2);\n    d = sqrt32 - s * 12.0;\n  }\n  /* Step 2: t = standard normal deviate,\n               x = (s,1/2) -normal deviate. */\n\n  /* immediate acceptance (i) */\n  t = rng.norm_rand() as number;\n  x = s + 0.5 * t;\n  ret_val = x * x;\n  if (t >= 0.0) return scale * ret_val;\n\n  /* Step 3: u = 0,1 - uniform sample. squeeze acceptance (s) */\n  u = rng.unif_rand() as number;\n  if (d * u <= t * t * t) return scale * ret_val;\n\n  /* Step 4: recalculations of q0, b, si, c if necessary */\n\n  if (a !== aaa) {\n    aaa = a;\n    r = 1.0 / a;\n    q0 =\n      ((((((q7 * r + q6) * r + q5) * r + q4) * r + q3) * r + q2) * r + q1) * r;\n\n    /* Approximation depending on size of parameter a */\n    /* The constants in the expressions for b, si and c */\n    /* were established by numerical experiments */\n\n    if (a <= 3.686) {\n      b = 0.463 + s + 0.178 * s2;\n      si = 1.235;\n      c = 0.195 / s - 0.079 + 0.16 * s;\n    } else if (a <= 13.022) {\n      b = 1.654 + 0.0076 * s2;\n      si = 1.68 / s + 0.275;\n      c = 0.062 / s + 0.024;\n    } else {\n      b = 1.77;\n      si = 0.75;\n      c = 0.1515 / s;\n    }\n  }\n  /* Step 5: no quotient test if x not positive */\n\n  if (x > 0.0) {\n    /* Step 6: calculation of v and quotient q */\n    v = t / (s + s);\n    if (fabs(v) <= 0.25)\n      q =\n        q0 +\n        0.5 *\n        t *\n        t *\n        ((((((a7 * v + a6) * v + a5) * v + a4) * v + a3) * v + a2) * v + a1) *\n        v;\n    else q = q0 - s * t + 0.25 * t * t + (s2 + s2) * log(1.0 + v);\n\n    /* Step 7: quotient acceptance (q) */\n    if (log(1.0 - u) <= q) return scale * ret_val;\n  }\n\n  while (true) {\n    /* Step 8: e = standard exponential deviate\n         *\tu =  0,1 -uniform deviate\n         *\tt = (b,si)-double exponential (laplace) sample */\n    e = exp_rand(rng.unif_rand as any);\n    u = rng.unif_rand() as number;\n    u = u + u - 1.0;\n    if (u < 0.0) t = b - si * e;\n    else t = b + si * e;\n    /* Step\t 9:  rejection if t < tau(1) = -0.71874483771719 */\n    if (t >= -0.71874483771719) {\n      /* Step 10:\t calculation of v and quotient q */\n      v = t / (s + s);\n      if (fabs(v) <= 0.25)\n        q =\n          q0 +\n          0.5 *\n          t *\n          t *\n          ((((((a7 * v + a6) * v + a5) * v + a4) * v + a3) * v + a2) * v +\n            a1) *\n          v;\n      else q = q0 - s * t + 0.25 * t * t + (s2 + s2) * log(1.0 + v);\n      /* Step 11:\t hat acceptance (h) */\n      /* (if q not positive go to step 8) */\n      if (q > 0.0) {\n        w = expm1(q);\n        /*  ^^^^^ original code had approximation with rel.err < 2e-7 */\n        /* if t is rejected sample again at step 8 */\n        if (c * fabs(u) <= w * exp(e - 0.5 * t * t)) break;\n      }\n    }\n  } /* repeat .. until  `t' is accepted */\n  x = s + 0.5 * t;\n  return scale * x * x;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/rgamma.ts","/*\n *  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  feb 25, 2017\n * \n *  ORIGINAL AUTHOR:\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000-2014 The R Core Team\n *  Copyright (C) 2003\t    The R Foundation\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n * \n *  License for JS language implementation\n *  https://www.jacob-bogers/libRmath.js/Licenses/\n * \n *  License for R statistical package\n *  https://www.r-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *\tdouble dnorm4(double x, double mu, double sigma, int give_log)\n *\t      {dnorm (..) is synonymous and preferred inside R}\n *\n *  DESCRIPTION\n *\n *\tCompute the density of the normal distribution.\n */\nimport * as debug from 'debug';\nimport {\n  DBL_MANT_DIG,\n  DBL_MIN_EXP,\n  ldexp,\n  M_1_SQRT_2PI,\n  M_LN2,\n  M_LN_SQRT_2PI,\n  ML_ERR_return_NAN,\n  R_D__0\n} from '../common/_general';\n\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  MAX_VALUE: DBL_MAX,\n  POSITIVE_INFINITY: ML_POSINF,\n  NaN: ML_NAN\n} = Number;\nconst { sqrt, exp, abs: fabs, round: R_forceint, log } = Math;\nconst printer = debug('dnorm4');\nconst { isArray } = Array;\n\nexport function dnorm4<T>(\n  x: T,\n  mu: number = 0,\n  sigma: number = 1,\n  give_log: boolean = false\n): T {\n  let fa: number[] = (() => (isArray(x) && x) || [x])() as any;\n\n  let result = fa.map(fx => {\n    if (ISNAN(fx) || ISNAN(mu) || ISNAN(sigma)) {\n      return fx + mu + sigma;\n    }\n\n    if (!R_FINITE(sigma)) {\n      return R_D__0(give_log);\n    }\n\n    if (!R_FINITE(fx) && mu === fx) {\n      return ML_NAN; /* x-mu is NaN */\n    }\n\n    if (sigma <= 0) {\n      if (sigma < 0) {\n        return ML_ERR_return_NAN(printer);\n      }\n      /* sigma == 0 */\n      return fx === mu ? ML_POSINF : R_D__0(give_log);\n    }\n    fx = (fx - mu) / sigma;\n\n    if (!R_FINITE(fx)) return R_D__0(give_log);\n\n    fx = fabs(fx);\n    if (fx >= 2 * sqrt(DBL_MAX)) return R_D__0(give_log);\n    if (give_log) {\n      return -(M_LN_SQRT_2PI + 0.5 * fx * fx + log(sigma));\n    }\n\n    if (fx < 5) return M_1_SQRT_2PI * exp(-0.5 * fx * fx) / sigma;\n\n    /* ELSE:\n\n     * x*x  may lose upto about two digits accuracy for \"large\" x\n     * Morten Welinder's proposal for PR#15620\n     * https://bugs.r-project.org/bugzilla/show_bug.cgi?id=15620\n\n     * -- 1 --  No hoop jumping when we underflow to zero anyway:\n\n     *  -x^2/2 <         log(2)*.Machine$double.min.exp  <==>\n     *     x   > sqrt(-2*log(2)*.Machine$double.min.exp) =IEEE= 37.64031\n     * but \"thanks\" to denormalized numbers, underflow happens a bit later,\n     *  effective.D.MIN.EXP <- with(.Machine, double.min.exp + double.ulp.digits)\n     * for IEEE, DBL_MIN_EXP is -1022 but \"effective\" is -1074\n     * ==> boundary = sqrt(-2*log(2)*(.Machine$double.min.exp + .Machine$double.ulp.digits))\n     *              =IEEE=  38.58601\n     * [on one x86_64 platform, effective boundary a bit lower: 38.56804]\n     */\n    if (fx > sqrt(-2 * M_LN2 * (DBL_MIN_EXP + 1 - DBL_MANT_DIG))) {\n      return 0;\n    }\n\n    /* Now, to get full accurary, split x into two parts,\n   /* Now, to get full accurary, split x into two parts,\n     *  x = x1+x2, such that |x2| <= 2^-16.\n     * Assuming that we are using IEEE doubles, that means that\n     * x1*x1 is error free for x<1024 (but we have x < 38.6 anyway).\n\n     * If we do not have IEEE this is still an improvement over the naive formula.\n     */\n    let x1 = ldexp(R_forceint(ldexp(fx, 16)), -16); //  R_forceint(x * 65536) / 65536 =\n    let x2 = fx - x1;\n    return (\n      M_1_SQRT_2PI / sigma * (exp(-0.5 * x1 * x1) * exp((-0.5 * x2 - x1) * x2))\n    );\n  });\n\n  return (result.length === 1 ? result[0] : result) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/normal/dnorm.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 26, 2017\n * \n *  ORGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000-2011 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *    #include <Rmath.h>\n *    double rpois(double lambda)\n *\n *  DESCRIPTION\n *\n *    Random variates from the Poisson distribution.\n *\n *  REFERENCE\n *\n *    Ahrens, J.H. and Dieter, U. (1982).\n *    Computer generation of Poisson deviates\n *    from modified normal distributions.\n *    ACM Trans. Math. Software 8, 163-179.\n */\n\nimport * as debug from 'debug';\n\nimport {\n  imax2,\n  imin2,\n  M_1_SQRT_2PI,\n  ML_ERR_return_NAN\n} from '../common/_general';\n\nimport { exp_rand } from '../exp/sexp';\nimport { map, seq } from '../r-func';\nimport { IRNGNormal } from '../rng/normal';\nimport { fsign } from '../signrank/fsign';\n\nconst { trunc, log, abs: fabs, pow, exp, floor, sqrt } = Math;\nconst { isFinite: R_FINITE } = Number;\nconst sequence = seq()();\n\nconst a0 = -0.5;\nconst a1 = 0.3333333;\nconst a2 = -0.2500068;\nconst a3 = 0.2000118;\nconst a4 = -0.1661269;\nconst a5 = 0.1421878;\nconst a6 = -0.1384794;\nconst a7 = 0.125006;\n\nconst one_7 = 0.1428571428571428571;\nconst one_12 = 0.0833333333333333333;\nconst one_24 = 0.0416666666666666667;\n\nexport function rpois(\n  N: number,\n  mu: number,\n  rng: IRNGNormal\n): number | number[] {\n  return map(sequence(N))(() => _rpois(mu, rng)) as any;\n}\n\nconst printer_rpois = debug('_rpois');\nfunction _rpois(mu: number, rng: IRNGNormal): number {\n  /* Factorial Table (0:9)! */\n  const fact = [1, 1, 2, 6, 24, 120, 720, 5040, 40320, 362880];\n\n  /* These are static --- persistent between calls for same mu : */\n  let l = 0;\n  let m = 0;\n  let pp = new Array(36);\n  let b1 = 0;\n  let b2 = 0;\n  let c = 0;\n  let c0 = 0;\n  let c1 = 0;\n  let c2 = 0;\n  let c3 = 0;\n  let p0 = 0;\n  let p = 0;\n  let q = 0;\n  let s = 0;\n  let d = 0;\n  let omega = 0;\n  let big_l = 0; /* integer \"w/o overflow\" */\n  let muprev = 0;\n  let muprev2 = 0; /*, muold\t = 0.*/\n\n  /* Local Vars  [initialize some for -Wall]: */\n  let del;\n  let difmuk = 0;\n  let E = 0;\n  let fk = 0;\n  let fx;\n  let fy;\n  let g;\n  let px;\n  let py;\n  let t = 0;\n  let u = 0;\n  let v;\n  let x;\n  let pois = -1;\n  let k;\n  let kflag = 0;\n  let big_mu;\n  let new_big_mu = false;\n\n  if (!R_FINITE(mu) || mu < 0) {\n    return ML_ERR_return_NAN(printer_rpois);\n  }\n  if (mu <= 0) return 0;\n\n  big_mu = mu >= 10;\n  if (big_mu) {\n    new_big_mu = false;\n  }\n\n  if (!(big_mu && mu === muprev)) {\n    /* maybe compute new persistent par.s */\n\n    if (big_mu) {\n      new_big_mu = true;\n      /* Case A. (recalculation of s,d,l\tbecause mu has changed):\n             * The poisson probabilities pk exceed the discrete normal\n             * probabilities fk whenever k >= m(mu).\n             */\n      muprev = mu;\n      s = sqrt(mu);\n      d = 6 * mu * mu;\n      big_l = floor(mu - 1.1484);\n      /* = an upper bound to m(mu) for all mu >= 10.*/\n    } else {\n      /* Small mu ( < 10) -- not using normal approx. */\n\n      /* Case B. (start new table and calculate p0 if necessary) */\n\n      /*muprev = 0.;-* such that next time, mu != muprev ..*/\n      if (mu !== muprev) {\n        muprev = mu;\n        m = imax2(1, trunc(mu));\n        l = 0; /* pp[] is already ok up to pp[l] */\n        q = p0 = p = exp(-mu);\n      }\n\n      while (true) {\n        /* Step U. uniform sample for inversion method */\n        u = rng.unif_rand() as number;\n        if (u <= p0) return 0;\n\n        /* Step T. table comparison until the end pp[l] of the\n                   pp-table of cumulative poisson probabilities\n                   (0.458 > ~= pp[9](= 0.45792971447) for mu=10 ) */\n        if (l !== 0) {\n          for (k = u <= 0.458 ? 1 : imin2(l, m); k <= l; k++)\n            if (u <= pp[k]) return k;\n          if (l === 35)\n            /* u > pp[35] */\n            continue;\n        }\n        /* Step C. creation of new poisson\n                   probabilities p[l..] and their cumulatives q =: pp[k] */\n        l++;\n        for (k = l; k <= 35; k++) {\n          p *= mu / k;\n          q += p;\n          pp[k] = q;\n          if (u <= q) {\n            l = k;\n            return k;\n          }\n        }\n        l = 35;\n      } /* end(repeat) */\n    } /* mu < 10 */\n  } /* end {initialize persistent vars} */\n\n  /* Only if mu >= 10 : ----------------------- */\n\n  /* Step N. normal sample */\n  g =\n    mu + s * (rng.norm_rand() as number); /* norm_rand() ~ N(0,1), standard normal */\n\n  if (g >= 0) {\n    pois = floor(g);\n    /* Step I. immediate acceptance if pois is large enough */\n    if (pois >= big_l) return pois;\n    /* Step S. squeeze acceptance */\n    fk = pois;\n    difmuk = mu - fk;\n    u = rng.unif_rand() as number; /* ~ U(0,1) - sample */\n    if (d * u >= difmuk * difmuk * difmuk) return pois;\n  }\n\n  /* Step P. preparations for steps Q and H.\n       (recalculations of parameters if necessary) */\n\n  if (new_big_mu || mu !== muprev2) {\n    /* Careful! muprev2 is not always == muprev\n           because one might have exited in step I or S\n           */\n    muprev2 = mu;\n    omega = M_1_SQRT_2PI / s;\n    /* The quantities b1, b2, c3, c2, c1, c0 are for the Hermite\n         * approximations to the discrete normal probabilities fk. */\n\n    b1 = one_24 / mu;\n    b2 = 0.3 * b1 * b1;\n    c3 = one_7 * b1 * b2;\n    c2 = b2 - 15 * c3;\n    c1 = b1 - 6 * b2 + 45 * c3;\n    c0 = 1 - b1 + 3 * b2 - 15 * c3;\n    c = 0.1069 / mu; /* guarantees majorization by the 'hat'-function. */\n  }\n\n  let gotoStepF = false;\n  let once = true;\n  while (true) {\n    if (once) {\n      once = false;\n      if (g >= 0) {\n        /* 'Subroutine' F is called (kflag=0 for correct return) */\n        kflag = 0;\n        //goto Step_F;\n        gotoStepF = true;\n      }\n    }\n    if (!gotoStepF) {\n      /* Step E. Exponential Sample */\n\n      E = exp_rand(rng.unif_rand as any); /* ~ Exp(1) (standard exponential) */\n\n      /*  sample t from the laplace 'hat'\n                (if t <= -0.6744 then pk < fk for all mu >= 10.) */\n      u = 2 * (rng.unif_rand() as number) - 1;\n      t = 1.8 + fsign(E, u >= 0);\n    }\n    if (t > -0.6744 || gotoStepF) {\n      if (!gotoStepF) {\n        pois = floor(mu + s * t);\n        fk = pois;\n        difmuk = mu - fk;\n\n        /* 'subroutine' F is called (kflag=1 for correct return) */\n        kflag = 1;\n      }\n      gotoStepF = false;\n      //Step_F: /* 'subroutine' F : calculation of px,py,fx,fy. */\n\n      if (pois < 10) {\n        /* use factorials from table fact[] */\n        px = -mu;\n        py = pow(mu, pois) / fact[trunc(pois)];\n      } else {\n        /* Case pois >= 10 uses polynomial approximation\n                   a0-a7 for accuracy when advisable */\n        del = one_12 / fk;\n        del = del * (1 - 4.8 * del * del);\n        v = difmuk / fk;\n        if (fabs(v) <= 0.25)\n          px =\n            fk *\n              v *\n              v *\n              (((((((a7 * v + a6) * v + a5) * v + a4) * v + a3) * v + a2) * v +\n                a1) *\n                v +\n                a0) -\n            del; /* |v| > 1/4 */\n        else px = fk * log(1 + v) - difmuk - del;\n        py = M_1_SQRT_2PI / sqrt(fk);\n      }\n      x = (0.5 - difmuk) / s;\n      x *= x; /* x^2 */\n      fx = -0.5 * x;\n      fy = omega * (((c3 * x + c2) * x + c1) * x + c0);\n      if (kflag > 0) {\n        /* Step H. Hat acceptance (E is repeated on rejection) */\n        if (c * fabs(u) <= py * exp(px + E) - fy * exp(fx + E)) {\n          break;\n        }\n      } else if (fy - u * fy <= py * exp(px - fx)) {\n        /* Step Q. Quotient acceptance (rare case) */\n        break;\n      }\n    } /* t > -.67.. */\n  }\n  return pois;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/poisson/rpois.ts","export { cospi } from './cospi';\nexport { sinpi } from './sinpi';\nexport { tanpi, atanpi } from './tanpi';\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/trigonometry/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n//special\nimport { beta } from './beta';\nimport { lbeta } from './lbeta';\n\n//distros\n//dbeta\nimport { dbeta as _dbeta } from './dbeta';\nimport { dnbeta as _dnbeta } from './dnbeta';\n\n//pbeta\nimport { pbeta as _pbeta } from './pbeta';\nimport { pnbeta as _pnbeta } from './pnbeta';\n\n//qbeta\nimport { qbeta as _qbeta } from './qbeta';\nimport { qnbeta as _qnbeta } from './qnbeta';\n\n//rbeta\nimport { rchisq } from '../chi-2/rchisq';\nimport { rnchisq } from '../chi-2/rnchisq';\nimport { multiplexer } from '../r-func';\nimport { Inversion, IRNGNormal } from '../rng/normal';\nimport { boolVector, numVector } from '../types';\nimport { rbeta as _rbeta } from './rbeta';\nexport const special = {\n  beta,\n  lbeta\n};\n\nexport function Beta(rng: IRNGNormal = new Inversion()) {\n  function dbeta(\n    x: numVector,\n    shape1: numVector,\n    shape2: numVector,\n    ncp?: numVector,\n    log?: boolVector\n  ): numVector {\n    // I added the === 0 here, because dnbeta will go back to dbeta if 0 (c source code)\n    if (ncp === undefined || ncp === 0) {\n      return _dbeta(x, shape1, shape2, log || false);\n    } else {\n      return _dnbeta(x, shape1, shape2, ncp || 0, log || false);\n    }\n  }\n\n  function pbeta<T>(\n    q: T,\n    shape1: number,\n    shape2: number,\n    ncp?: number,\n    lowerTail: boolean = true,\n    logP: boolean = false\n  ): T {\n    if (ncp === undefined || ncp === 0) {\n      return _pbeta(q, shape1, shape2, lowerTail, logP);\n    } else {\n      return _pnbeta(q, shape1, shape2, ncp, lowerTail, logP);\n    }\n  }\n\n  function qbeta<T>(\n    p: T,\n    shape1: number,\n    shape2: number,\n    ncp?: number,\n    lowerTail: boolean = true,\n    logP: boolean = false\n  ): T {\n    if (ncp === undefined) {\n      return _qbeta(p, shape1, shape2, lowerTail, logP);\n    } else {\n      return _qnbeta(p, shape1, shape2, ncp, lowerTail, logP);\n    }\n  }\n\n  function rbeta(\n    n: number,\n    shape1: number,\n    shape2: number,\n    ncp = 0 // NOTE: normally the default is undefined, here it is '0'.\n  ): number | number[] {\n    if (ncp === 0) {\n      return _rbeta(n, shape1, shape2, rng);\n    } else {\n      let ax = rnchisq(n, 2 * shape1, ncp, rng);\n      let bx = rchisq(n, 2 * shape2, rng);\n      let result = multiplexer(ax, bx)((a, b) => a / (a + b));\n      return result.length === 1 ? result[0] : result;\n    }\n  }\n\n  return Object.freeze({\n    dbeta,\n    pbeta,\n    qbeta,\n    rbeta\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/beta/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ME, ML_ERR_return_NAN, ML_ERROR, R_P_bounds_01 } from '../common/_general';\n\nimport { lgammafn } from '../gamma/lgamma_fn';\n\nimport { NumberW, Toms708 } from '../common/toms708';\n\nconst { log1p, floor, max: fmax2, sqrt, log, exp } = Math;\nconst { isNaN: ISNAN } = Number;\n\nconst printer = debug('pnbeta_raw');\n\nfunction pnbeta_raw(\n  x: number,\n  o_x: number,\n  a: number,\n  b: number,\n  ncp: number\n): number {\n  /* o_x  == 1 - x  but maybe more accurate */\n\n  /* change errmax and itrmax if desired;\n     * original (AS 226, R84) had  (errmax; itrmax) = (1e-6; 100) */\n  const errmax = 1.0e-9;\n  const itrmax = 10000; /* 100 is not enough for pf(ncp=200)\n                     see PR#11277 */\n  // double\n  let a0;\n  let lbeta;\n  let c;\n  let errbd;\n  let x0;\n  let temp = new NumberW(0);\n  let tmp_c = new NumberW(0);\n  // int\n  let ierr = new NumberW(0);\n\n  // long double\n  let ans;\n  let ax;\n  let gx;\n  let q;\n  let sumq;\n\n  if (ncp < 0 || a <= 0 || b <= 0) {\n    return ML_ERR_return_NAN(printer);\n  }\n\n  if (x < 0 || o_x > 1 || (x === 0 && o_x === 1)) return 0;\n  if (x > 1 || o_x < 0 || (x === 1 && o_x === 0)) return 1;\n\n  c = ncp / 2;\n\n  /* initialize the series */\n\n  x0 = floor(fmax2(c - 7 * sqrt(c), 0));\n  a0 = a + x0;\n  lbeta = lgammafn(a0) + lgammafn(b) - lgammafn(a0 + b);\n  /* temp = pbeta_raw(x, a0, b, TRUE, FALSE), but using (x, o_x): */\n  Toms708.bratio(a0, b, x, o_x, temp, tmp_c, ierr);\n\n  gx = exp(\n    a0 * log(x) + b * (x < 0.5 ? log1p(-x) : log(o_x)) - lbeta - log(a0)\n  );\n  if (a0 > a) q = exp(-c + x0 * log(c) - lgammafn(x0 + 1));\n  else q = exp(-c);\n\n  sumq = 1 - q;\n  ans = ax = q * temp.val;\n\n  /* recurse over subsequent terms until convergence is achieved */\n  let j = floor(x0); // x0 could be billions, and is in package EnvStats\n  do {\n    j++;\n    temp.val -= gx;\n    gx *= x * (a + b + j - 1) / (a + j);\n    q *= c / j;\n    sumq -= q;\n    ax = temp.val * q;\n    ans += ax;\n    errbd = (temp.val - gx) * sumq;\n  } while (errbd > errmax && j < itrmax + x0);\n\n  if (errbd > errmax)  ML_ERROR(ME.ME_PRECISION, 'pnbeta', printer);\n  if (j >= itrmax + x0)  ML_ERROR(ME.ME_NOCONV, 'pnbeta', printer);\n\n  return ans;\n}\n\nconst printer_pnbeta2 = debug('pnbeta2');\nexport function pnbeta2(\n  x: number,\n  o_x: number,\n  a: number,\n  b: number,\n  ncp: number /* o_x  == 1 - x  but maybe more accurate */,\n  lower_tail: boolean,\n  log_p: boolean\n) {\n  let ans = pnbeta_raw(x, o_x, a, b, ncp);\n\n  /* return R_DT_val(ans), but we want to warn about cancellation here */\n  if (lower_tail) {\n    return log_p ? log(ans) : ans;\n  } else {\n    if (ans > 1 - 1e-10) ML_ERROR(ME.ME_PRECISION, 'pnbeta', printer_pnbeta2);\n    if (ans > 1.0) ans = 1.0; /* Precaution */\n    /* include standalone case */\n    return log_p ? log1p(-ans) : 1 - ans;\n  }\n}\n\nexport function pnbeta<T>(\n  _x: T,\n  a: number,\n  b: number,\n  ncp: number,\n  lower_tail: boolean,\n  log_p: boolean\n): T {\n\n  const fa: number[] = Array.isArray(_x) ? _x : [_x] as any;\n\n  const result = fa.map(x => {\n    if (ISNAN(x) || ISNAN(a) || ISNAN(b) || ISNAN(ncp)) return x + a + b + ncp;\n\n    let rc = R_P_bounds_01(lower_tail, log_p, x, 0, 1);\n    if (rc !== undefined) {\n      return rc;\n    }\n    return pnbeta2(x, 1 - x, a, b, ncp, lower_tail, log_p);\n  });\n\n  return result.length === 1 ? result[0] : result as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/beta/pnbeta.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_pow_di } from '../common/_general';\n\nimport { map, seq } from '../r-func';\nimport { IRNG } from '../rng/irng';\nimport { qbinom } from './qbinom';\n\nconst { log, abs: fabs, abs, sqrt, min: fmin2, trunc, round } = Math;\nconst { MAX_SAFE_INTEGER: INT_MAX, isFinite: R_FINITE } = Number;\nconst sequence = seq()();\n\nconst printer_rbinom = debug('_rbinom');\n\nexport function rbinom(\n  N: number,\n  nin: number,\n  pp: number,\n  rng: IRNG\n): number | number[] {\n  return map(sequence(N))(() => _rbinom(nin, pp, rng)) as any;\n}\n\nfunction _rbinom(nin: number, pp: number, rng: IRNG): number {\n  \n // double\n  let c = 0;\n  let fm = 0;\n  let npq = 0;\n  let p1 = 0;\n  let p2 = 0;\n  let p3 = 0;\n  let p4 = 0;\n  let qn = 0;\n  let xl = 0;\n  let xll = 0;\n  let xlr = 0;\n  let xm = 0;\n  let xr = 0;\n  let psave = -1.0;\n  \n  //int\n  let nsave = -1;\n  let m = 0;\n\n//double\n  let f;\n  let f1;\n  let f2;\n  let u;\n  let v: number;\n  let w;\n  let w2;\n  let x;\n  let x1;\n  let x2;\n  let z;\n  let z2;\n  let p;\n  let q;\n  let np;\n  let g;\n  let r;\n  let al;\n  let alv;\n  let amaxp;\n  let ffm;\n  let ynorm;\n\n  //int\n  let i;\n  let ix = 0;\n  let k;\n  let n;\n\n  if (!R_FINITE(nin)) return ML_ERR_return_NAN(printer_rbinom);\n  r = round(nin);\n  if (r !== nin) return ML_ERR_return_NAN(printer_rbinom);\n  if (\n    !R_FINITE(pp) ||\n    /* n=0, p=0, p=1 are not errors <TSL>*/\n    r < 0 ||\n    pp < 0 ||\n    pp > 1\n  ) {\n    return ML_ERR_return_NAN(printer_rbinom);\n  }\n  if (r === 0 || pp === 0) return 0;\n  if (pp === 1) return r;\n\n  if (r >= INT_MAX) {\n    /* evade integer overflow,\n            and r == INT_MAX gave only even values */\n    printer_rbinom('Evade overflow:%d > MAX_SAFE_INTEGER', r);\n    return qbinom(\n      rng.unif_rand() as number, //between 0 and 1\n      r,\n      pp,\n      /*lower_tail*/ false,\n      /*log_p*/ false\n    );\n  }\n  /* else */\n  n = trunc(r);\n\n  p = fmin2(pp, 1 - pp);\n  q = 1 - p;\n  np = n * p;\n  r = p / q;\n  g = r * (n + 1);\n\n  /* Setup, perform only when parameters change [using static (globals): */\n\n  /* FIXING: Want this thread safe\n       -- use as little (thread globals) as possible\n    */\n  let gotoL_np_small = false;\n  if (pp !== psave || n !== nsave) {\n    psave = pp;\n    nsave = n;\n    if (np < 30.0) {\n      /* inverse cdf logic for mean less than 30 */\n      qn = R_pow_di(q, n);\n      gotoL_np_small = true;\n      //goto L_np_small;\n    } else {\n      ffm = np + p;\n      m = trunc(ffm);\n      fm = m;\n      npq = np * q;\n      p1 = trunc(2.195 * sqrt(npq) - 4.6 * q) + 0.5;\n      xm = fm + 0.5;\n      xl = xm - p1;\n      xr = xm + p1;\n      c = 0.134 + 20.5 / (15.3 + fm);\n      al = (ffm - xl) / (ffm - xl * p);\n      xll = al * (1.0 + 0.5 * al);\n      al = (xr - ffm) / (xr * q);\n      xlr = al * (1.0 + 0.5 * al);\n      p2 = p1 * (1.0 + c + c);\n      p3 = p2 + c / xll;\n      p4 = p3 + c / xlr;\n    }\n  } else if (n === nsave) {\n    if (np < 30.0) gotoL_np_small = true;\n    //goto L_np_small;\n  }\n\n  /*-------------------------- np = n*p >= 30 : ------------------- */\n  let gotoFinis = false;\n  while (true && !gotoL_np_small) {\n    u = (rng.unif_rand() as number) * p4;\n    v = (rng.unif_rand() as number);\n    /* triangular region */\n    if (u <= p1) {\n      ix = trunc(xm - p1 * v + u);\n      gotoFinis = true;\n      break;\n      //goto finis;\n    }\n    /* parallelogram region */\n    if (u <= p2) {\n      x = xl + (u - p1) / c;\n      v = v * c + 1.0 - fabs(xm - x) / p1;\n      if (v > 1.0 || v <= 0) continue;\n      ix = trunc(x);\n    } else {\n      if (u > p3) {\n        /* right tail */\n        ix = trunc(xr - log(v) / xlr);\n        if (ix > n) continue;\n        v = v * (u - p3) * xlr;\n      } else {\n        /* left tail */\n        ix = trunc(xl + log(v) / xll);\n        if (ix < 0) continue;\n        v = v * (u - p2) * xll;\n      }\n    }\n    /* determine appropriate way to perform accept/reject test */\n    k = abs(ix - m);\n    if (k <= 20 || k >= npq / 2 - 1) {\n      /* explicit evaluation */\n      f = 1.0;\n      if (m < ix) {\n        for (i = m + 1; i <= ix; i++) f *= g / i - r;\n      } else if (m !== ix) {\n        for (i = ix + 1; i <= m; i++) f /= g / i - r;\n      }\n      if (v <= f) {\n        gotoFinis = true;\n        break;\n        //goto finis;\n      }\n    } else {\n      /* squeezing using upper and lower bounds on log(f(x)) */\n      amaxp = k / npq * ((k * (k / 3 + 0.625) + 0.1666666666666) / npq + 0.5);\n      ynorm = -k * k / (2.0 * npq);\n      alv = log(v);\n      if (alv < ynorm - amaxp) {\n        gotoFinis = true;\n        break;\n        //goto finis;\n      }\n      if (alv <= ynorm + amaxp) {\n        /* stirling's formula to machine accuracy */\n        /* for the final acceptance/rejection test */\n        x1 = ix + 1;\n        f1 = fm + 1.0;\n        z = n + 1 - fm;\n        w = n - ix + 1.0;\n        z2 = z * z;\n        x2 = x1 * x1;\n        f2 = f1 * f1;\n        w2 = w * w;\n        if (\n          alv <=\n          xm * log(f1 / x1) +\n            (n - m + 0.5) * log(z / w) +\n            (ix - m) * log(w * p / (x1 * q)) +\n            (13860.0 - (462.0 - (132.0 - (99.0 - 140.0 / f2) / f2) / f2) / f2) /\n              f1 /\n              166320.0 +\n            (13860.0 - (462.0 - (132.0 - (99.0 - 140.0 / z2) / z2) / z2) / z2) /\n              z /\n              166320.0 +\n            (13860.0 - (462.0 - (132.0 - (99.0 - 140.0 / x2) / x2) / x2) / x2) /\n              x1 /\n              166320.0 +\n            (13860.0 - (462.0 - (132.0 - (99.0 - 140.0 / w2) / w2) / w2) / w2) /\n              w /\n              166320\n        ) {\n          gotoFinis = true; // finis;\n          break;\n        }\n      }\n    }\n  }\n  if (!gotoFinis) {\n    //L_np_small:\n    /*---------------------- np = n*p < 30 : ------------------------- */\n\n    while (true) {\n      ix = 0;\n      f = qn;\n      u = rng.unif_rand();\n      while (true) {\n        if (u < f) {\n          //goto finis;\n          gotoFinis = true;\n          break;\n        }\n        if (ix > 110) break;\n        u -= f;\n        ix++;\n        f *= g / ix - r;\n      }\n      if (gotoFinis) {\n        break;\n      }\n    }\n  }\n  //finis:\n  if (psave > 0.5) {\n    ix = n - ix;\n  }\n  return ix;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/binomial/rbinom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN } from '../common/_general';\n\nconst { abs: fabs } = Math;\n\nconst printer = debug('chebyshev_eval');\n\nexport function chebyshev_init(\n  dos: number[],\n  nos: number,\n  eta: number\n): number {\n  let retCode: number = 0;\n  //let ii: number;\n  let err: number;\n\n  if (nos < 1) return 0;\n\n  err = 0.0;\n\n  for (let ii = 1; ii <= nos; ii++) {\n    retCode = nos - ii;\n    err += fabs(dos[retCode]);\n    if (err > eta) {\n      return retCode;\n    }\n  }\n  return retCode;\n}\n\nexport function chebyshev_eval(x: number, a: number[], n: number): number {\n  let b0: number;\n  let b1: number;\n  let b2: number;\n  let twox: number;\n  let i: number;\n\n  if (n < 1 || n > 1000) {\n    return ML_ERR_return_NAN(printer);\n  }\n\n  if (x < -1.1 || x > 1.1) {\n    return ML_ERR_return_NAN(printer);\n  }\n\n  twox = x * 2;\n  b2 = b1 = 0;\n  b0 = 0;\n  for (i = 1; i <= n; i++) {\n    b2 = b1;\n    b1 = b0;\n    b0 = twox * b1 - b2 + a[n - i];\n  }\n  return (b0 - b2) * 0.5;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/chebyshev/chebyshev.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport {\n    pgamma\n} from '../gamma/pgamma';\n\nexport function pchisq<T>(x: T, df: number, lowerTail: boolean= true, logP: boolean= false) {\n    return pgamma(x, df / 2., 2., lowerTail, logP);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/chi-2/pchisq.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport {\n  M_LN_SQRT_2PI,\n  ME,\n  ML_ERR_return_NAN,\n  ML_ERROR,\n  R_D__1,\n  R_D_exp,\n  R_DT_0,\n  R_DT_1,\n  R_DT_val\n} from '../common/_general';\n\nimport { R_Log1_Exp } from '../exp/expm1';\nimport { lgammafn } from '../gamma/lgamma_fn';\nimport { logspace_add } from '../gamma/logspace-add';\nimport { map } from '../r-func';\nimport { pchisq } from './pchisq';\n\nconst {\n  sqrt,\n  abs: fabs,\n  exp,\n  log,\n  min: fmin2,\n  max: fmax2,\n  LN2: M_LN2,\n  LN10: M_LN10\n} = Math;\n\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  EPSILON: DBL_EPSILON,\n  NEGATIVE_INFINITY: ML_NEGINF\n} = Number;\n\nexport const DBL_MAX_EXP = Math.log2(Number.MAX_VALUE);\nexport const DBL_MIN_EXP = Math.log2(Number.MIN_VALUE);\n\nconst _dbl_min_exp = M_LN2 * DBL_MIN_EXP;\n/*= -708.3964 for IEEE double precision */\nconst { expm1, log1p } = Math;\nconst printer = debug('pnchisq');\n\nexport function pnchisq<T>(\n  xx: T,\n  df: number,\n  ncp = 0,\n  lower_tail = true,\n  log_p = false\n): T {\n  return map(xx)(x => {\n    let ans;\n\n    if (ISNAN(x) || ISNAN(df) || ISNAN(ncp)) {\n      return NaN;\n    }\n    if (!R_FINITE(df) || !R_FINITE(ncp)) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    if (df < 0 || ncp < 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    ans = pnchisq_raw(\n      x,\n      df,\n      ncp,\n      1e-12,\n      8 * DBL_EPSILON,\n      1000000,\n      lower_tail,\n      log_p\n    );\n    if (ncp >= 80) {\n      if (lower_tail) {\n        ans = fmin2(ans, R_D__1(log_p)); /* e.g., pchisq(555, 1.01, ncp = 80) */\n      } else {\n        /* !lower_tail */\n        /* since we computed the other tail cancellation is likely */\n        if (ans < (log_p ? -10 * M_LN10 : 1e-10))\n          ML_ERROR(ME.ME_PRECISION, 'pnchisq', printer);\n        if (!log_p) ans = fmax2(ans, 0.0); /* Precaution PR#7099 */\n      }\n    }\n    if (!log_p || ans < -1e-8) {\n      return ans;\n    }\n\n    // log_p  &&  ans > -1e-8\n    // prob. = exp(ans) is near one: we can do better using the other tail\n    printer('   pnchisq_raw(*, log_p): ans=%d => 2nd call, other tail', ans);\n\n    // FIXME: (sum,sum2) will be the same (=> return them as well and reuse here ?)\n    ans = pnchisq_raw(\n      x,\n      df,\n      ncp,\n      1e-12,\n      8 * DBL_EPSILON,\n      1000000,\n      !lower_tail,\n      false\n    );\n    return log1p(-ans);\n  }) as any;\n}\n\nexport function pnchisq_raw(\n  x: number,\n  f: number,\n  theta: number /* = ncp */,\n  errmax: number,\n  reltol: number,\n  itrmax: number,\n  lower_tail: boolean,\n  log_p: boolean\n): number {\n  //double\n  let lam;\n  let x2;\n  let f2;\n  let term;\n  let bound;\n  let f_x_2n;\n  let f_2n;\n  let l_lam = -1;\n  let l_x = -1; /* initialized for -Wall */\n  //Rboolean\n  let lamSml: boolean;\n  let tSml: boolean;\n  let is_r: boolean;\n  let is_b: boolean;\n  let is_it: boolean;\n  \n  //LDOUBLE\n  let ans: number;\n  let u: number;\n  let v: number;\n  let t: number;\n  let lt: number;\n  let lu = -1;\n\n  if (x <= 0) {\n    if (x === 0 && f === 0) {\n      const _L = -0.5 * theta;\n      const result =\n         lower_tail ?\n         R_D_exp(log_p, _L)\n        : (log_p ? R_Log1_Exp(_L) \n            : -expm1(_L)\n          )\n        ;\n      printer('result1:%d', result);\n      return result;  \n    }\n    /* x < 0  or {x==0, f > 0} */\n    return R_DT_0(lower_tail, log_p);\n  }\n  if (!R_FINITE(x)) return R_DT_1(lower_tail, log_p);\n\n  /* This is principally for use from qnchisq */\n\n  if (theta < 80) {\n    /* use 110 for Inf, as ppois(110, 80/2, lower.tail=FALSE) is 2e-20 */\n    //double\n    let ans;\n    //int\n    let i;\n    // Have  pgamma(x,s) < x^s / Gamma(s+1) (< and ~= for small x)\n    // === = > pchisq(x, f) = pgamma(x, f/2, 2) = pgamma(x/2, f/2)\n    //                  <  (x/2)^(f/2) / Gamma(f/2+1) < eps\n    // <==>  f/2 * log(x/2) - log(Gamma(f/2+1)) < log(eps) ( ~= -708.3964 )\n    // <==>        log(x/2) < 2/f*(log(Gamma(f/2+1)) + log(eps))\n    // <==> log(x) < log(2) + 2/f*(log(Gamma(f/2+1)) + log(eps))\n    if (\n      lower_tail &&\n      f > 0 &&\n      log(x) < M_LN2 + 2 / f * (lgammafn(f / 2 + 1) + _dbl_min_exp)\n    ) {\n      // all  pchisq(x, f+2*i, lower_tail, FALSE), i=0,...,110 would underflow to 0.\n      // === = > work in log scale\n      let lambda = 0.5 * theta;\n      let sum = ML_NEGINF;\n      let sum2 = ML_NEGINF;\n      let pr = -lambda;\n      /* we need to renormalize here: the result could be very close to 1 */\n      for (i = 0; i < 110; pr += log(lambda) - log(++i)) {\n        sum2 = logspace_add(sum2, pr);\n        sum = logspace_add(sum, pr + pchisq(x, f + 2 * i, lower_tail, true));\n        if (sum2 >= -1e-15) {/*<=> EXP(sum2) >= 1-1e-15 */ \n          break;\n        }\n      }\n      ans = sum - sum2;\n      printer(\n        'pnchisq(x=%d, f=%d, th.=%d); th. < 80, logspace: i=%d, ans=(sum=%d)-(sum2=%d)',\n        x,\n        f,\n        theta,\n        i,\n        sum,\n        sum2\n      );\n\n      return log_p ? ans : exp(ans);\n    } else {\n      let lambda = 0.5 * theta;\n      let sum = 0;\n      let sum2 = 0;\n      let pr = exp(-lambda); // does this need a feature test?\n      /* we need to renormalize here: the result could be very close to 1 */\n      for (i = 0; i < 110; pr *= lambda / ++i) {\n        // pr === =  exp(-lambda) lambda^i / i!  ===   dpois(i, lambda)\n        sum2 += pr;\n        // pchisq(*, i, *) is  strictly decreasing to 0 for lower_tail=TRUE\n        //                 and strictly increasing to 1 for lower_tail=FALSE\n        sum += pr * pchisq(x, f + 2 * i, lower_tail, false);\n        if (sum2 >= 1 - 1e-15) break;\n      }\n      ans = sum / sum2;\n\n      printer(\n        'pnchisq(x=%d, f=%d, theta=%d); theta < 80: i=%d, sum=%d, sum2=%d',\n        x,\n        f,\n        theta,\n        i,\n        sum,\n        sum2\n      );\n\n      return log_p ? log(ans) : ans;\n    }\n  } // if(theta < 80)\n\n  // else: theta ===  ncp >= 80 --------------------------------------------\n\n  printer('pnchisq(x=%d, f=%d, theta=%d >= 80): ', x, f, theta);\n\n  // Series expansion ------- FIXME: log_p=TRUE, lower_tail=FALSE only applied at end\n\n  lam = 0.5 * theta;\n  lamSml = -lam < _dbl_min_exp;\n  if (lamSml) {\n    /* MATHLIB_ERROR(\n           \"non centrality parameter (= %g) too large for current algorithm\",\n           theta) */\n    u = 0;\n    lu = -lam; /* ===  ln(u) */\n    l_lam = log(lam);\n  } else {\n    u = exp(-lam);\n  }\n\n  /* evaluate the first term */\n  v = u;\n  x2 = 0.5 * x;\n  f2 = 0.5 * f;\n  f_x_2n = f - x;\n\n  printer('-- v=exp(-th/2)=%d, x/2= %d, f/2= %d', v, x2, f2);\n\n  if (\n    f2 * DBL_EPSILON > 0.125 && /* very large f and x ~= f: probably needs */\n    fabs((t = x2 - f2))  < /* another algorithm anyway */\n     sqrt(DBL_EPSILON) * f2\n  ) {\n    /* evade cancellation error */\n    /* t = exp((1 - t)*(2 - t/(f2 + 1))) / sqrt(2*M_PI*(f2 + 1));*/\n    lt = (1 - t) * (2 - t / (f2 + 1)) - M_LN_SQRT_2PI - 0.5 * log(f2 + 1);\n\n    printer(' (case I) === > ');\n  } else {\n    /* Usual case 2: careful not to overflow .. : */\n    lt = f2 * log(x2) - x2 - lgammafn(f2 + 1);\n  }\n\n  printer(' lt= %d', lt);\n\n  tSml = lt < _dbl_min_exp;\n  if (tSml) {\n    printer(' is very small');\n\n    if (x > f + theta + 5 * sqrt(2 * (f + 2 * theta))) {\n      /* x > E[X] + 5* sigma(X) */\n      return R_DT_1(\n        lower_tail,\n        log_p\n      ); /* FIXME: could be more accurate than 0. */\n    } /* else */\n    l_x = log(x);\n    ans = term = 0;\n    t = 0;\n  } else {\n    t = exp(lt);\n    printer(', t=exp(lt)= %d', t);\n    term = v * t;\n    ans = term;\n  }\n\n  let n; //cant put it inside the for below((\n  for (n = 1, f_2n = f + 2, f_x_2n += 2 ;; n++, f_2n += 2, f_x_2n += 2 ) {\n    printer(' _OL_: n=%d', n);\n    /* f_2n    === = f + 2*n\n         * f_x_2n  === = f - x + 2*n   > 0  <==> (f+2n)  >   x */\n    if (f_x_2n > 0) {\n      /* find the error bound and check for convergence */\n\n      bound = t * x / f_x_2n;\n\n      printer(' L10: n=%d; term= %d; bound= %d', n, term, bound);\n\n      is_r = is_it = false;\n      /* convergence only if BOTH absolute and relative error < 'bnd' */\n      if (\n        ((is_b = bound <= errmax) && (is_r = term <= reltol * ans)) ||\n        (is_it = n > itrmax)\n      ) {\n        printer(\n          'BREAK n=%d %s; bound= %d %s, rel.err= %d %s',\n          n,\n          is_it ? '> itrmax' : '',\n          bound,\n          is_b ? '<= errmax' : '',\n          term / ans,\n          is_r ? '<= reltol' : ''\n        );\n        break; /* out completely */\n      }\n    }\n\n    /* evaluate the next term of the */\n    /* expansion and then the partial sum */\n\n    if (lamSml) {\n      lu += l_lam - log(n); /* u = u* lam / n */\n      if (lu >= _dbl_min_exp) {\n        /* no underflow anymore === > change regime */\n\n        printer(' n=%d; nomore underflow in u = exp(lu) === > change', n);\n\n        v = u = exp(lu); /* the first non-0 'u' */\n        lamSml = false;\n      }\n    } else {\n      u *= lam / n;\n      v += u;\n    }\n    if (tSml) {\n      lt += l_x - log(f_2n); /* t <- t * (x / f2n) */\n      if (lt >= _dbl_min_exp) {\n        /* no underflow anymore === > change regime */\n\n        printer('  n=%d; nomore underflow in t = exp(lt) === > change', n);\n\n        t = exp(lt); /* the first non-0 't' */\n        tSml = false;\n      }\n    } else {\n      t *= x / f_2n;\n    }\n    if (!lamSml && !tSml) {\n      term = v * t;\n      ans += term;\n    }\n  } /* for(n ...) */\n\n  if (is_it) {\n    printer('pnchisq(x=%d, ..): not converged in %d iter.', x, itrmax);\n  }\n\n  printer(' ===  L_End: n=%d; term= %d; bound=%d', n, term, bound);\n\n  return R_DT_val(lower_tail, log_p, ans);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/chi-2/pnchisq.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 18, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *\tThe quantile function of the chi-squared distribution.\n */\n\nimport { qgamma } from '../gamma/qgamma';\n\n\nexport function qchisq<T>(\n  p: T,\n  df: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  return qgamma(p, 0.5 * df, 2.0, lowerTail, logP);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/chi-2/qchisq.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN } from '../common/_general';\n\nimport { rgamma } from '../gamma/rgamma';\nimport { rpois } from '../poisson/rpois';\nimport { IRNGNormal } from '../rng/normal/inormal-rng';\nimport { rchisq } from './rchisq';\n\nconst printer = debug('rnchisq');\nconst { isFinite: R_FINITE } = Number;\n\nexport function rnchisq(\n  n: number,\n  df: number,\n  lambda: number,\n  rng: IRNGNormal\n): number | number[] {\n\n  const result = new Array(n).fill(0).map(() => {\n\n    if (!R_FINITE(df) || !R_FINITE(lambda) || df < 0 || lambda < 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n    if (lambda === 0) {\n      return df === 0 ? 0 : (rgamma(1, df / 2, 2, rng) as number);\n    } else {\n      let r = rpois(1, lambda / 2, rng) as number;\n      if (r > 0) r = rchisq(1, 2 * r, rng) as number;\n      if (df > 0) r += rgamma(1, df / 2, 2, rng) as number;\n      return r;\n    }\n  });\n  return result.length === 1 ? result[0] : result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/chi-2/rnchisq.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { chebyshev_eval } from '../chebyshev/chebyshev';\nimport { ME, ML_ERR_return_NAN, ML_ERROR } from '../common/_general';\n\nconst printer = debug('lgammacor');\n\nconst algmcs: number[] = [\n    +.1666389480451863247205729650822e+0,\n    -.1384948176067563840732986059135e-4,\n    +.9810825646924729426157171547487e-8,\n    -.1809129475572494194263306266719e-10,\n    +.6221098041892605227126015543416e-13,\n    -.3399615005417721944303330599666e-15,\n    +.2683181998482698748957538846666e-17,\n    -.2868042435334643284144622399999e-19,\n    +.3962837061046434803679306666666e-21,\n    -.6831888753985766870111999999999e-23,\n    +.1429227355942498147573333333333e-24,\n    -.3547598158101070547199999999999e-26,\n    +.1025680058010470912000000000000e-27,\n    -.3401102254316748799999999999999e-29,\n    +.1276642195630062933333333333333e-30\n];\n\nconst nalgm = 5;\nconst xbig = 94906265.62425156;\nconst xmax = 3.745194030963158e306;\n\nexport function lgammacor(x: number) {\n\n    let tmp: number;\n\n    // For IEEE double precision DBL_EPSILON = 2^-52 = 2.220446049250313e-16 :\n    //   xbig = 2 ^ 26.5\n    //   xmax = DBL_MAX / 48 =  2^1020 / 3 \n\n    if (x < 10)\n        return ML_ERR_return_NAN(printer);\n    else if (x >= xmax) {\n        ML_ERROR(ME.ME_UNDERFLOW, 'lgammacor', printer);\n        // allow to underflow below \n    }\n    else if (x < xbig) {\n        tmp = 10 / x;\n        return chebyshev_eval(tmp * tmp * 2 - 1, algmcs, nalgm) / x;\n    }\n    return 1 / (x * 12);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/lgammacor.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 23, 2017\n * \n *  ORGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *    #include \"Rnorm.h\"\n *    double rnorm(double mu, double sigma);\n *\n *  DESCRIPTION\n *\n *    Random variates from the normal distribution.\n *\n */\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { multiplexer, seq as crSeq } from '../r-func';\nimport { IRNGNormal } from '../rng/normal';\n\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst printer = debug('rnorm');\nconst seq = crSeq()();\n\nexport function rnorm(\n  n: number = 1,\n  mu: number = 0,\n  sigma: number = 1,\n  rng: IRNGNormal\n): number | number[] {\n\n  let result = multiplexer(seq(n))(() => {\n    if (ISNAN(mu) || !R_FINITE(sigma) || sigma < 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n    if (sigma === 0 || !R_FINITE(mu)) {\n      return mu; /* includes mu = +/- Inf with finite sigma */\n    }\n    return mu + sigma * (rng.norm_rand() as number);\n  });\n\n  return result.length === 1 ? result[0] : result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/normal/rnorm.ts","export { stirlerr } from './stirlerror';\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/stirling/index.ts","/*\n *  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 4, 2017\n * \n *  ORIGINAL AUTHOR:\n *  AUTHOR\n *    Catherine Loader, catherine@research.bell-labs.com.\n *    October 23, 2000.\n *\n *  Merge in to R:\n *\tCopyright (C) 2000-2015 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *\n * DESCRIPTION\n *\n *    The t density is evaluated as\n *         sqrt(n/2) / ((n+1)/2) * Gamma((n+3)/2) / Gamma((n+2)/2).\n *             * (1+x^2/n)^(-n/2)\n *             / sqrt( 2 pi (1+x^2/n) )\n *\n *    This form leads to a stable computation for all\n *    values of n, including n -> 0 and n -> infinity.\n */\nimport * as debug from 'debug';\n\nimport {\n  M_1_SQRT_2PI,\n  M_LN_SQRT_2PI,\n  ML_ERR_return_NAN,\n  R_D__0\n} from '../common/_general';\n\nimport { bd0 } from '../deviance/bd0';\nimport { dnorm4 as dnorm } from '../normal/dnorm';\nimport { map } from '../r-func';\nimport { stirlerr } from '../stirling/stirlerror';\n\nconst { log1p, abs: fabs, exp, log, sqrt } = Math;\nconst { isNaN: ISNAN, EPSILON: DBL_EPSILON, isFinite: R_FINITE } = Number;\n\nconst printer_dt = debug('dt');\nexport function dt<T>(\n  xx: T,\n  n: number,\n  giveLog: boolean = false\n): T {\n  \n  return map(xx)(x => {\n    if (ISNAN(x) || ISNAN(n)) {\n      return x + n;\n    }\n    if (n <= 0) {\n      return ML_ERR_return_NAN(printer_dt);\n    }\n    if (!R_FINITE(x)) {\n      return R_D__0(giveLog);\n    }\n    if (!R_FINITE(n)) {\n      return dnorm(x, 0, 1, giveLog);\n    }\n\n    let u: number;\n    let t = -bd0(n / 2, (n + 1) / 2) + stirlerr((n + 1) / 2) - stirlerr(n / 2);\n    let x2n = x * x / n;\n    // in  [0, Inf]\n    let ax = 0; // <- -Wpedantic\n    let l_x2n; // := log(sqrt(1 + x2n)) = log(1 + x2n)/2\n    let lrg_x2n: boolean = x2n > 1 / DBL_EPSILON;\n    if (lrg_x2n) {\n      // large x^2/n :\n      ax = fabs(x);\n      l_x2n = log(ax) - log(n) / 2; // = log(x2n)/2 = 1/2 * log(x^2 / n)\n      u = //  log(1 + x2n) * n/2 =  n * log(1 + x2n)/2 =\n        n * l_x2n;\n    } else if (x2n > 0.2) {\n      l_x2n = log(1 + x2n) / 2;\n      u = n * l_x2n;\n    } else {\n      l_x2n = log1p(x2n) / 2;\n      u = -bd0(n / 2, (n + x * x) / 2) + x * x / 2;\n    }\n\n    //old: return  R_D_fexp(M_2PI*(1+x2n), t-u);\n\n    // R_D_fexp(f,x) :=  (give_log ? -0.5*log(f)+(x) : exp(x)/sqrt(f))\n    // f = 2pi*(1+x2n)\n    //  ==> 0.5*log(f) = log(2pi)/2 + log(1+x2n)/2 = log(2pi)/2 + l_x2n\n    //\t     1/sqrt(f) = 1/sqrt(2pi * (1+ x^2 / n))\n    //\t\t       = 1/sqrt(2pi)/(|x|/sqrt(n)*sqrt(1+1/x2n))\n    //\t\t       = M_1_SQRT_2PI * sqrt(n)/ (|x|*sqrt(1+1/x2n))\n    if (giveLog) return t - u - (M_LN_SQRT_2PI + l_x2n);\n\n    // else :  if(lrg_x2n) : sqrt(1 + 1/x2n) ='= sqrt(1) = 1\n    let I_sqrt_ = lrg_x2n ? sqrt(n) / ax : exp(-l_x2n);\n    return exp(t - u) * M_1_SQRT_2PI * I_sqrt_;\n  }) as any;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/student-t/dt.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 14, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998-2015 The R Core Team\n *  based on AS243 (C) 1989 Royal Statistical Society\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n */\n\n/*  Algorithm AS 243  Lenth,R.V. (1989). Appl. Statist., Vol.38, 185-189.\n *  ----------------\n *  Cumulative probability at t of the non-central t-distribution\n *  with df degrees of freedom (may be fractional) and non-centrality\n *  parameter delta.\n *\n *  NOTE\n *\n *    Requires the following auxiliary routines:\n *\n *\tlgammafn(x)\t- log gamma function\n *\tpbeta(x, a, b)\t- incomplete beta function\n *\tpnorm(x)\t- normal distribution function\n *\n *  CONSTANTS\n *\n *    M_SQRT_2dPI  = 1/ {gamma(1.5) * sqrt(2)} = sqrt(2 / pi)\n *    M_LN_SQRT_PI = ln(sqrt(pi)) = ln(pi)/2\n */\n\n/*----------- DEBUGGING -------------\n *\n *\tmake CFLAGS='-DDEBUG_pnt -g'\n\n * -- Feb.3, 1999; M.Maechler:\n    - For 't > ncp > 20' (or so)\tthe result is completely WRONG!  <== no longer true\n    - but for ncp > 100\n */\n\nimport * as debug from 'debug';\nimport { pbeta } from '../beta/pbeta';\nimport {\n  //DBL_MIN_EXP,\n  M_LN_SQRT_PI,\n  M_SQRT_2dPI,\n  ME,\n  ML_ERR_return_NAN,\n  ML_ERROR,\n  R_DT_0,\n  R_DT_1,\n  R_DT_val\n} from '../common/_general';\nimport { lgammafn } from '../gamma/lgamma_fn';\nimport { pnorm5 as pnorm } from '../normal/pnorm';\nimport { map } from '../r-func';\nimport { pt } from './pt';\n\nconst { isFinite: R_FINITE, EPSILON: DBL_EPSILON } = Number;\nconst { sqrt, exp, pow, log, expm1, abs: fabs, min: fmin2 } = Math;\nconst printer_pnt = debug('pnt');\nconst DBL_MIN_EXP = -1021;\nconst M_LN2 = 0.693147180559945309417;\n\nexport function pnt<T>(\n  tt: T,\n  df: number,\n  ncp: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  return map(tt)(t =>\n    _pnt(t, df, ncp, lowerTail, logP /*, normal*/)\n  ) as any;\n}\n\nfunction _pnt(\n  _t: number,\n  df: number,\n  ncp: number,\n  lower_tail: boolean = true,\n  log_p: boolean = false\n): number {\n  //double\n  let errbd: number;\n  let rxb: number;\n  let x: number;\n\n  // long double\n  let geven: number;\n  let godd: number;\n  let p: number;\n  let q: number;\n\n  let s: number;\n\n  let tnc: number = 0;\n  let xeven: number;\n  let xodd: number;\n  // int\n\n  /* note - itrmax and errmax may be changed to suit one's needs. */\n\n  const itrmax = 1000;\n  const errmax = 1e-12;\n\n  if (df <= 0.0) {\n    return ML_ERR_return_NAN(printer_pnt);\n  }\n\n  if (ncp === 0.0) {\n    return pt(_t, df, lower_tail, log_p);\n  }\n\n  if (!R_FINITE(_t)) {\n    return _t < 0 ? R_DT_0(lower_tail, log_p) : R_DT_1(lower_tail, log_p);\n  }\n\n  const negdel = _t < 0;\n  const tt = fabs(_t);\n  const del = _t >= 0 ? ncp : -ncp;\n\n  /* \n      We deal quickly with left tail if extreme,\n        since pt(q, df, ncp) <= pt(0, df, ncp) = \\Phi(-ncp) \n    */\n  if (_t < 0 && ncp > 40 && (!log_p || !lower_tail)) {\n    printer_pnt('if x <=0 and solution for edge ncp > 40');\n    return R_DT_0(lower_tail, log_p);\n  }\n\n  if (df > 4e5 || del * del > 2 * M_LN2 * -DBL_MIN_EXP) {\n    printer_pnt(\n      'Abramowitz & Stegun 26.7.10 ncp:%d, del:%d, ncp2:%d, del2:%d, D:%d',\n      ncp,\n      del,\n      ncp * ncp,\n      del * del,\n      2 * M_LN2 * -DBL_MIN_EXP\n    );\n\n    // in JS its del >= 38.604  then 0.5*exp(-0.5(del*del)) === 0\n    // use Number.MIN_VALUE = 5e-324 to calculate\n    /*\n       -- 2nd part: if del > 37.62, then p=0 below\n          FIXME: test should depend on `df', `tt' AND `del' ! \n    */\n    /* \n      Approx. from\t Abramowitz & Stegun 26.7.10 (p.949) \n    */\n    const _s = 1 / (4 * df);\n\n    return pnorm(\n      tt * (1 - _s),\n      del,\n      sqrt(1 + tt * tt * 2 * _s),\n      lower_tail !== negdel,\n      log_p\n    );\n  }\n\n  /* initialize twin series */\n  /* Guenther, J. (1978). Statist. Computn. Simuln. vol.6, 199. */\n\n  x = _t * _t; // always positive?\n  rxb = df / (x + df); /* := (1 - x) {x below} -- but more accurately */\n  x = x / (x + df); /* in [0,1) */\n\n  printer_pnt(\n    'pnt(t=%d, df=%d, ncp=%d, rxb=%d) ==> x= %d',\n    _t,\n    df,\n    ncp,\n    rxb,\n    x\n  );\n\n  // x will be always >= 0\n  // because df >0\n  // edge case is x==0, then we skip this\n  if (x > 0) {\n    printer_pnt('x > 0 branch');\n    /* <==>  t != 0 */\n    const lambda = del * del;\n    p = 0.5 * exp(-0.5 * lambda);\n\n    printer_pnt('p=%d', p);\n\n    if (p === 0) {\n      /* underflow! */\n      printer_pnt('p=%d, underflow protection', p);\n      /*========== really use an other algorithm for this case !!! */\n      ML_ERROR(ME.ME_UNDERFLOW, 'pnt', printer_pnt);\n      ML_ERROR(ME.ME_RANGE, 'pnt', printer_pnt); /* |ncp| too large */\n      return R_DT_0(lower_tail, log_p);\n    }\n\n    printer_pnt(\n      'it  1e5*(godd,   geven)|          p           q           s' +\n        /* 1.3 1..4..7.9 1..4..7.9|1..4..7.901 1..4..7.901 1..4..7.901 */\n        '        pnt(*)     errbd'\n    );\n    /* 1..4..7..0..34 1..4..7.9*/\n\n    q = M_SQRT_2dPI * p * del;\n    s = 0.5 - p;\n    /* s = 0.5 - p = 0.5*(1 - exp(-.5 L)) =  -0.5*expm1(-.5 L)) */\n    if (s < 1e-7) s = -0.5 * expm1(-0.5 * lambda);\n    let a = 0.5;\n    let b = 0.5 * df;\n    /* rxb = (1 - x) ^ b   [ ~= 1 - b*x for tiny x --> see 'xeven' below]\n         *       where '(1 - x)' =: rxb {accurately!} above */\n    rxb = pow(rxb, b);\n    const albeta = M_LN_SQRT_PI + lgammafn(b) - lgammafn(0.5 + b);\n    xodd = pbeta(x, a, b, /*lower*/ true, /*log_p*/ false);\n    printer_pnt('return from pbeta:%d', xodd);\n    godd = 2 * rxb * exp(a * log(x) - albeta);\n    tnc = b * x;\n    xeven = tnc < DBL_EPSILON ? tnc : 1 - rxb;\n    geven = tnc * rxb;\n    tnc = p * xodd + q * xeven;\n\n    let gotoFinis = false;\n\n    /* repeat until convergence or iteration limit */\n    for (let it = 1; it <= itrmax; it++) {\n      a += 1;\n      xodd -= godd;\n      xeven -= geven;\n      godd *= x * (a + b - 1) / a;\n      geven *= x * (a + b - 0.5) / (a + 0.5);\n      p *= lambda / (2 * it);\n      q *= lambda / (2 * it + 1);\n      tnc += p * xodd + q * xeven;\n      s -= p;\n      /* R 2.4.0 added test for rounding error here. */\n\n      if (s < -1e-10) {\n        /* happens e.g. for (t,df,ncp)=(40,10,38.5), after 799 it.*/\n        ML_ERROR(ME.ME_PRECISION, 'pnt', printer_pnt);\n        printer_pnt('goto:true, s = %d < 0 !!! ---> non-convergence!!', s);\n        gotoFinis = true;\n        break;\n      }\n      if (s <= 0) {\n        printer_pnt('goto:true, s:%d < 0 && it:%d>1', s, it);\n        gotoFinis = true;\n        break;\n      }\n      errbd = 2 * s * (xodd - godd);\n\n      printer_pnt(\n        '%d %d %d|%d %d %d %d %d',\n        it,\n        1e5 * godd,\n        1e5 * geven,\n        p,\n        q,\n        s,\n        tnc,\n        errbd\n      );\n\n      if (fabs(errbd) < errmax) {\n        printer_pnt('goto:true, errbd:%d < errmax:%d', errbd, errmax);\n        gotoFinis = true; /*convergence*/\n        break;\n      }\n      gotoFinis = false;\n    } //for (it = 1; it <= itrmax; it++)\n    /* non-convergence:*/\n    if (!gotoFinis) {\n      ML_ERROR(ME.ME_NOCONV, 'pnt', printer_pnt);\n    }\n  }\n  //finis: goto label\n  tnc += pnorm(-del, 0, 1, /*lower*/ true, /*log_p*/ false);\n\n  lower_tail = lower_tail !== negdel; /* xor */\n  /*\n    negdel = (t < 0)\n    lt nd  | nlt\n    T  T   |  F\n    T  F   |  T\n    F  T   |  T\n    T  T      F\n\n  */\n  if (tnc > 1 - 1e-10 && lower_tail) {\n    ML_ERROR(ME.ME_PRECISION, 'pnt{final}', printer_pnt);\n  }\n  const rc = R_DT_val(lower_tail, log_p, fmin2(tnc, 1) /* Precaution */);\n  printer_pnt(\n    'rc:%d, tnc:%d, log_p:%s, lower_tail:%s',\n    rc,\n    tnc,\n    log_p,\n    lower_tail\n  );\n\n  return rc;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/student-t/pnt.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 16, 2017\n *\n *  ORIGINAL AUTHOR\n *  R : A Computer Language for Statistical Data Analysis\n *  Copyright (C) 1995, 1996  Robert Gentleman and Ross Ihaka\n *  Copyright (C) 2000-2007   The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n */\n\nimport * as debug from 'debug';\n\nimport { internal_lbeta } from '../beta/lbeta';\nimport { pbeta } from '../beta/pbeta';\nimport {\n  M_LN2,\n  ML_ERR_return_NAN,\n  R_D_Cval,\n  R_DT_0,\n  R_DT_1\n} from '../common/_general';\nimport { pnorm5 as pnorm } from '../normal/pnorm';\nimport { map } from '../r-func';\n\nconst { log1p, sqrt, log, abs: fabs, exp } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\n\nconst printer = debug('pt');\n\nexport function pt<T>(\n  xx: T,\n  n: number,\n  lowerTail: boolean = true,\n  log_p: boolean = false\n): T {\n  /* return  P[ T <= x ]\twhere\n     * T ~ t_{n}  (t distrib. with n degrees of freedom).\n    \n     *\t--> ./pnt.c for NON-central\n     */\n  return map(xx)(x => {\n    let val;\n    let nx;\n\n    let lower_tail = lowerTail;\n\n    if (ISNAN(x) || ISNAN(n)) return x + n;\n\n    if (n <= 0.0) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    if (!R_FINITE(x)) {\n      return x < 0 ? R_DT_0(lower_tail, log_p) : R_DT_1(lower_tail, log_p);\n    }\n\n    if (!R_FINITE(n)) {\n      return pnorm(x, 0.0, 1.0, lower_tail, log_p);\n    }\n\n    if (n > 4e5) {\n      /*-- Fixme(?): test should depend on `n' AND `x' ! */\n      /* Approx. from\t Abramowitz & Stegun 26.7.8 (p.949) */\n      val = 1 / (4 * n);\n      return pnorm(\n        x * (1 - val) / sqrt(1 + x * x * 2 * val),\n        0.0,\n        1.0,\n        lower_tail,\n        log_p\n      );\n    }\n\n    nx = 1 + x / n * x;\n    /* FIXME: This test is probably losing rather than gaining precision,\n     * now that pbeta(*, log_p = TRUE) is much better.\n     * Note however that a version of this test *is* needed for x*x > D_MAX */\n    if (nx > 1e100) {\n      /* <==>  x*x > 1e100 * n  */\n      /* Danger of underflow. So use Abramowitz & Stegun 26.5.4\n           pbeta(z, a, b) ~ z^a(1-z)^b / aB(a,b) ~ z^a / aB(a,b),\n           with z = 1/nx,  a = n/2,  b= 1/2 :\n        */\n      let lval;\n      lval =\n        -0.5 * n * (2 * log(fabs(x)) - log(n)) -\n        internal_lbeta(0.5 * n, 0.5) -\n        log(0.5 * n);\n      val = log_p ? lval : exp(lval);\n    } else {\n      val =\n        n > x * x\n          ? pbeta(x * x / (n + x * x), 0.5, n / 2, /*lower_tail*/ false, log_p)\n          : pbeta(1 / nx, n / 2, 0.5, /*lower_tail*/ true, log_p);\n    }\n\n    /* Use \"1 - v\"  if\tlower_tail  and\t x > 0 (but not both):*/\n    if (x <= 0) {\n      lower_tail = !lower_tail;\n    }\n\n    if (log_p) {\n      if (lower_tail) {\n        return log1p(-0.5 * exp(val));\n      } else {\n        return val - M_LN2; /* = log(.5* pbeta(....)) */\n      }\n    } else {\n      val /= 2;\n      return R_D_Cval(lower_tail, val);\n    }\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/student-t/pt.ts","export class WilcoxonCache {\n  \n  //private _map = new Map<number, Map<number, Map<number, number>>>();\n  private _map2 = {};\n  constructor() {\n\n  }\n\n  public get(i: number, j: number, k: number): number | undefined {\n    /*const jMap = this._map.get(i);\n    if (jMap) {\n      const kMap = jMap.get(j);\n      if (kMap) {\n        return kMap.get(k);\n      }\n    }\n    return undefined;*/\n    const jstruct = this._map2[i];\n    if (jstruct !== undefined){\n      const kstruct = jstruct[j];\n      if (kstruct !==  undefined ){\n        return kstruct[k];\n      }\n    }\n    return undefined;\n  }\n\n  public set(i: number, j: number, k: number, value: number ){\n    /*\n    USING old fashioned way of simple objects to mimic key-value mapping\n    DONT USE: new Map(), it will cause performance problems\n    \n    let jMap = this._map.get(i);\n    if (!jMap) {\n      jMap = new Map();  \n      this._map.set(i, jMap);\n    }\n    let kMap = jMap.get(j);\n    if (!kMap) {\n        kMap = new Map();\n        jMap.set(j, kMap);\n    }\n    kMap.set(k, value);*/\n    let jstruct = this._map2[i];\n    if (jstruct === undefined){\n      jstruct = {};\n      this._map2[i] = jstruct;\n    }\n    let kstruct = jstruct[j];\n    if (kstruct === undefined){\n      kstruct = {};\n      jstruct[j] = kstruct;\n    }\n    kstruct[k] = value;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/wilcoxon/WilcoxonCache.ts","/*\n *  AUTHOR\n * \n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n *  ORIGINAL AUTHOR\n  Mathlib : A C Library of Special Functions\n  Copyright (C) 1999-2014  The R Core Team\n\n  This program is free software; you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation; either version 2 of the License, or (at\n  your option) any later version.\n\n  This program is distributed in the hope that it will be useful, but\n  WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\tSee the GNU\n  General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program; if not, a copy is available at\n  https://www.R-project.org/Licenses/\n\n  SYNOPSIS\n\n    #include <Rmath.h>\n    double dwilcox(double x, double m, double n, int give_log)\n    double pwilcox(double x, double m, double n, int lower_tail, int log_p)\n    double qwilcox(double x, double m, double n, int lower_tail, int log_p);\n    double rwilcox(double m, double n)\n\n  DESCRIPTION\n\n    dwilcox\tThe density of the Wilcoxon distribution.\n    pwilcox\tThe distribution function of the Wilcoxon distribution.\n    qwilcox\tThe quantile function of the Wilcoxon distribution.\n    rwilcox\tRandom variates from the Wilcoxon distribution.\n\n */\n\n/* \nThis counts the number of choices with \nstatistic = k \n*/\nconst { trunc } = Math;\n\nimport { WilcoxonCache } from './WilcoxonCache';\n\nexport function cwilcox(\n  k: number,\n  m: number,\n  n: number,\n  w: WilcoxonCache\n): number {\n  let i;\n  let j;\n\n  const u = m * n;\n  const c = trunc(u / 2);\n\n  if (k < 0 || k > u) {\n    return 0;\n  }\n\n  if (k > c) {\n    k = u - k; /* hence  k <= floor(u / 2) */\n  }\n\n  if (m < n) {\n    i = m;\n    j = n;\n  } else {\n    i = n;\n    j = m;\n  } /* hence  i <= j */\n\n  /*if (j === 0) {\n    // and hence i == 0 \n    console.log(`5. cwilcox: exit with k:${k}`);\n    return k === 0 ? 1 : 0;\n  }*/\n\n  /*\n     We can simplify things if k is small.  Consider the Mann-Whitney \n         definition, and sort y.  Then if the statistic is k, no more \n         than k of the y's can be <= any x[i], and since they are sorted \n         these can only be in the first k.  So the count is the same as\n         if there were just k y's. \n  */\n\n  if (j > 0 && k < j) {\n    return cwilcox(k, i, k, w);\n  }\n\n  /*if (w[i][j] === undefined) {\n      w[i][j] = new Array<number>(c + 1).fill(-1); //  (double *) calloc((size_t) c + 1, sizeof(double));\n      //#ifdef MATHLIB_STANDALONE\n      //if (!w[i][j]) MATHLIB_ERROR(_(\"wilcox allocation error %d\"), 3);\n      //#endif\n      //NOTE: replaced by \"fill\" for (l = 0; l <= c; l++) w[i][j][l] = -1;\n    }*/\n\n  if (w.get(i, j, k) === undefined) {\n    if (j === 0) {\n      w.set(i, j, k, k === 0 ? 1 : 0);\n    } else {\n      const c1 = cwilcox(k - j, i - 1, j, w);\n      const c2 =  cwilcox(k, i, j - 1, w);\n      w.set(i, j, k, c1 + c2);\n    }\n  }\n  const result = w.get(i, j, k);\n  if (result === undefined){\n    throw new Error ('WilcoxonCache not set');\n  }\n  return result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/wilcoxon/cwilcox.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ME, ML_ERROR } from '../../common/_general';\nimport { multiplexer } from '../../r-func';\nimport { cospi } from '../../trigonometry/cospi';\nimport { sinpi } from '../../trigonometry/sinpi';\nimport { numVector } from '../../types';\nimport { internal_bessel_y } from '../besselY';\nimport { J_bessel } from './Jbessel';\n\nconst { isNaN: ISNAN }  = Number;\nconst { floor, trunc } = Math;\n\nconst printer = debug('bessel_j');\n\nexport function bessel_j(_x: numVector, _alpha: numVector): numVector {\n   return multiplexer(_x, _alpha)((x, alpha) => internal_bessel_j(x, alpha));\n}\n\nexport function internal_bessel_j(x: number, alpha: number): number  {\n    //int\n    let nb; \n    //double\n    let na; // , *bj;\n  \n    /* NaNs propagated correctly */\n    if (ISNAN(x) || ISNAN(alpha)) return x + alpha;\n    if (x < 0) {\n      ML_ERROR(ME.ME_RANGE, 'bessel_j', printer);\n        return NaN;\n    }\n    na = floor(alpha);\n    if (alpha < 0) {\n      /* Using Abramowitz & Stegun  9.1.2\n       * this may not be quite optimal (CPU and accuracy wise) */\n      return(((alpha - na === 0.5) ? 0 : internal_bessel_j(x, -alpha) * cospi(alpha)) +\n        ((alpha === na) ? 0 : internal_bessel_y(x, -alpha) * sinpi(alpha)));\n    }\n    else if (alpha > 1e7) {\n      printer(\n        'besselJ(x, nu): nu=%d too large for bessel_j() algorithm',\n        alpha);\n      return NaN;\n    }\n  \n    nb = 1 + trunc(na); /* nb-1 <= alpha < nb */\n    alpha -= (nb - 1); // ==> alpha' in [0, 1)\n    const rc = J_bessel(x, alpha, nb);\n  \n    if (rc.ncalc !== nb) {/* error input */\n      if (rc.ncalc < 0)\n        printer('bessel_j(%d): ncalc (=%d) != nb (=%d); alpha=%d. Arg. out of range?',\n          x, rc.ncalc, rc.nb, alpha);\n      else\n        printer('bessel_j(%d,nu=%d): precision lost in result',\n          x, alpha + nb - 1);\n    }\n    x = rc.x; // bj[nb - 1];\n    return x;\n  }\n  \n  \n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/bessel/besselJ/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ME, ML_ERROR } from '../../common/_general';\nimport { multiplexer } from '../../r-func';\nimport { boolVector, numVector } from '../../types';\nimport { K_bessel } from './Kbessel';\n\nconst { isNaN: ISNAN } = Number;\nconst { floor } = Math;\nconst printer = debug('bessel_k');\n\nexport function bessel_k(_x: numVector, _alpha: numVector, _expo: boolVector): numVector {\n  return multiplexer(_x, _alpha, _expo)((x, alpha, expo) => internal_bessel_k(x, alpha, expo));\n}\n\nexport function internal_bessel_k(x: number, alpha: number, expo: boolean = false): number {\n  let nb;\n  let ize;\n\n\n  /* NaNs propagated correctly */\n  if (ISNAN(x) || ISNAN(alpha)) return x + alpha;\n\n  if (x < 0) {\n    ML_ERROR(ME.ME_RANGE, 'bessel_k', printer);\n    return NaN;\n  }\n  ize = expo ? 2 : 1;\n  if (alpha < 0)\n    alpha = -alpha;\n  nb = 1 + floor(alpha); /* nb-1 <= |alpha| < nb */\n  alpha -= (nb - 1);\n\n\n\n\n  const rc = K_bessel(x, alpha, nb, ize);\n  if (rc.ncalc !== rc.nb) {/* error input */\n    if (rc.ncalc < 0)\n      printer('bessel_k(%d): ncalc (=%d) != nb (=%d); alpha=%d. Arg. out of range?\\n',\n        rc.x, rc.ncalc, rc.nb, alpha);\n    else\n      printer('bessel_k(%d,nu=%d): precision lost in result\\n',\n        rc.x, alpha + rc.nb - 1);\n  }\n  x = rc.x; // bk[nb - 1];\n  return x;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/bessel/besselK/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ME, ML_ERROR } from '../../common/_general';\nimport { multiplexer } from '../../r-func';\nimport { cospi } from '../../trigonometry/cospi';\nimport { sinpi } from '../../trigonometry/sinpi';\nimport { numVector } from '../../types';\nimport { internal_bessel_j } from '../besselJ';\nimport { Y_bessel } from './Ybessel';\n\nconst { floor } = Math;\nconst { isNaN:ISNAN, POSITIVE_INFINITY: ML_POSINF } = Number;\n\nconst printer = debug('bessel_y');\n\n\nexport function bessel_y(_x: numVector, _alpha: numVector): numVector {\n  return multiplexer(_x, _alpha)((x, alpha) => internal_bessel_y(x, alpha));\n}\n\nexport function internal_bessel_y(x: number, alpha: number): number {\n  //double\n  \n  /* NaNs propagated correctly */\n  if (ISNAN(x) || ISNAN(alpha)) return x + alpha;\n\n  if (x < 0) {\n    ML_ERROR(ME.ME_RANGE, 'bessel_y', printer);\n    return NaN;\n  }\n  const na = floor(alpha);\n  if (alpha < 0) {\n    /* Using Abramowitz & Stegun  9.1.2\n     * this may not be quite optimal (CPU and accuracy wise) */\n    return (((alpha - na === 0.5) ? 0 : internal_bessel_y(x, -alpha) * cospi(alpha)) -\n      ((alpha === na) ? 0 : internal_bessel_j(x, -alpha) * sinpi(alpha)));\n  }\n  else if (alpha > 1e7) {\n    printer('besselY(x, nu): nu=%d too large for bessel_y() algorithm',\n      alpha);\n    return NaN;\n  }\n  const nb = 1 + na; /* nb-1 <= alpha < nb */\n  alpha -= (nb - 1);\n\n\n  const rc = Y_bessel(x, alpha, nb);\n  if (rc.ncalc !== nb) {/* error input */\n    if (rc.ncalc === -1) {\n      return ML_POSINF;\n    }\n    else if (rc.ncalc < -1)\n      printer('bessel_y(%d): ncalc (=%d) != nb (=%d); alpha=%d. Arg. out of range?\\n',\n        rc.x, rc.ncalc, nb, alpha);\n    else /* ncalc >= 0 */\n      printer('bessel_y(%d,nu=%d): precision lost in result\\n',\n        rc.x, alpha + nb - 1);\n  }\n  x = rc.x;\n  return x;\n}\n  \n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/bessel/besselY/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport {\n  ML_ERR_return_NAN,\n  R_D__0,\n  R_D_exp,\n  R_D_val\n} from '../common/_general';\n\nimport { boolVector, numVector } from '../types';\n\nimport { dbinom_raw } from '../binomial/dbinom';\nimport { multiplexer } from '../r-func';\nimport { internal_lbeta } from './lbeta';\n\nconst { log , log1p } = Math;\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  POSITIVE_INFINITY: ML_POSINF\n} = Number;\n\nconst printer = debug('dbeta');\n\nexport function dbeta(_x: numVector, _a: numVector, _b: numVector, _asLog: boolVector): numVector {\n  \n  return multiplexer(_x, _a, _b, _asLog)((x, a, b, asLog) => {\n    \n    if (ISNAN(x) || ISNAN(a) || ISNAN(b)) return x + a + b;\n\n    if (a < 0 || b < 0) return ML_ERR_return_NAN(printer);\n    if (x < 0 || x > 1) return R_D__0(asLog);\n\n    // limit cases for (a,b), leading to point masses\n\n    if (a === 0 || b === 0 || !R_FINITE(a) || !R_FINITE(b)) {\n      if (a === 0 && b === 0) {\n        // point mass 1/2 at each of {0,1} :\n        if (x === 0 || x === 1) return ML_POSINF;\n        else return R_D__0(asLog);\n      }\n      if (a === 0 || a / b === 0) {\n        // point mass 1 at 0\n        if (x === 0) return ML_POSINF;\n        else return R_D__0(asLog);\n      }\n      if (b === 0 || b / a === 0) {\n        // point mass 1 at 1\n        if (x === 1) return ML_POSINF;\n        else return R_D__0(asLog);\n      }\n      // else, remaining case:  a = b = Inf : point mass 1 at 1/2\n      if (x === 0.5) return ML_POSINF;\n      else return R_D__0(asLog);\n    }\n\n    if (x === 0) {\n      if (a > 1) return R_D__0(asLog);\n      if (a < 1) return ML_POSINF;\n      /* a == 1 : */ return R_D_val(asLog, b);\n    }\n    if (x === 1) {\n      if (b > 1) return R_D__0(asLog);\n      if (b < 1) return ML_POSINF;\n      /* b == 1 : */ return R_D_val(asLog, a);\n    }\n\n    let lval: number;\n    if (a <= 2 || b <= 2)\n      lval = (a - 1) * log(x) + (b - 1) * log1p(-x) - internal_lbeta(a, b);\n    else {\n      lval = log(a + b - 1) + dbinom_raw(a - 1, a + b - 2, x, 1 - x, true);\n    }\n    return R_D_exp(asLog, lval);\n  });\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/beta/dbeta.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport {\n  ML_ERR_return_NAN,\n  R_D__0,\n  R_D_exp\n} from '../common/_general';\nimport { dpois_raw } from '../poisson/dpois';\nimport { multiplexer } from '../r-func';\nimport { boolVector, numVector } from '../types';\nimport { dbeta } from './dbeta';\n\n\nconst { log:ln, sqrt, ceil } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst printer = debug('dnbeta');\n\n//also used by f-distriution\nexport function dnbeta(\n  _x: numVector,\n  _shape1: numVector,\n  _shape2: numVector,\n  _ncp: numVector,\n  _asLog: boolVector): numVector {\n\n  return multiplexer(_x, _shape1, _shape2, _ncp, _asLog)(\n    function(x: number, shape1, shape2, ncp, asLog){\n      return _dnbeta(x, shape1, shape2, ncp, asLog);\n    }) ;\n}\n\nfunction _dnbeta(\n  x: number,\n  a: number,\n  b: number,\n  ncp: number,\n  give_log: boolean\n): number {\n  const eps = 1e-15;\n  //int\n  let kMax;\n  //double\n  let k;\n  let ncp2;\n  let dx2;\n  let d;\n  let D;\n  let term;\n  //long double\n  let sum;\n  let p_k;\n  let q;\n\n  if (ISNAN(x) || ISNAN(a) || ISNAN(b) || ISNAN(ncp)) return x + a + b + ncp;\n  if (ncp < 0 || a <= 0 || b <= 0) {\n    return ML_ERR_return_NAN(printer);\n  }\n\n  if (!R_FINITE(a) || !R_FINITE(b) || !R_FINITE(ncp)) {\n    return ML_ERR_return_NAN(printer);\n  }\n\n  if (x < 0 || x > 1) {\n    return R_D__0(give_log);\n  }\n  if (ncp === 0) {\n    return dbeta(x, a, b, give_log) as number;\n  }\n  /* New algorithm, starting with *largest* term : */\n  ncp2 = 0.5 * ncp;\n  dx2 = ncp2 * x;\n  d = (dx2 - a - 1) / 2;\n  D = d * d + dx2 * (a + b) - a;\n  if (D <= 0) {\n    kMax = 0;\n  } else {\n    D = ceil(d + sqrt(D));\n    kMax = D > 0 ? D : 0;\n  }\n\n  /* The starting \"middle term\" --- first look at it's log scale: */\n  term = dbeta(x, a + kMax, b, /* log = */ true);\n  p_k = dpois_raw(kMax, ncp2, true);\n  if (x === 0 || !R_FINITE(term) || !R_FINITE(p_k)) {\n    /* if term = +Inf */\n    return R_D_exp(give_log, p_k + term);\n  }\n\n  /* Now if s_k := p_k * t_k  {here = exp(p_k + term)} would underflow,\n     * we should rather scale everything and re-scale at the end:*/\n\n  p_k += term; /* = log(p_k) + log(t_k) == log(s_k) -- used at end to rescale */\n  /* mid = 1 = the rescaled value, instead of  mid = exp(p_k); */\n\n  /* Now sum from the inside out */\n  sum = term = 1 /* = mid term */;\n  /* middle to the left */\n  k = kMax;\n  while (k > 0 && term > sum * eps) {\n    k--;\n    q = /* 1 / r_k = */ (k + 1) * (k + a) / (k + a + b) / dx2;\n    term *= q;\n    sum += term;\n  }\n  /* middle to the right */\n  term = 1;\n  k = kMax;\n  do {\n    q = /* r_{old k} = */ dx2 * (k + a + b) / (k + a) / (k + 1);\n    k++;\n    term *= q;\n    sum += term;\n  } while (term > sum * eps);\n\n  return R_D_exp(give_log, p_k + ln(sum));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/beta/dnbeta.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport {\n  DBL_MANT_DIG,\n  DBL_MIN_EXP,\n  M_LN2,\n  ME,\n  ML_ERR_return_NAN,\n  ML_ERROR,\n  R_D_half,\n  R_DT_0,\n  R_DT_1,\n  R_pow_di\n} from '../common/_general';\n\nimport {\n  R_DT_CIv,\n  R_DT_Clog,\n  R_DT_log,\n  R_DT_qIv,\n  R_Log1_Exp\n} from '../exp/expm1';\n\nimport { lbeta } from '../beta/lbeta';\nimport { pbeta_raw } from '../beta/pbeta';\n\nconst {\n  expm1,\n  log1p,\n  sqrt,\n  min: fmin2,\n  exp,\n  abs: fabs,\n  log,\n  pow,\n  max: fmax2\n} = Math;\n\nconst {\n  isNaN: ISNAN,\n  MIN_VALUE: DBL_MIN,\n  EPSILON: DBL_EPSILON,\n  POSITIVE_INFINITY: ML_POSINF,\n  NEGATIVE_INFINITY: ML_NEGINF,\n  isFinite: R_FINITE,\n  NaN: ML_NAN\n} = Number;\n\n\n\n\n\n\nconst USE_LOG_X_CUTOFF = -5;\n//                       --- based on some testing; had = -10\n\nconst n_NEWTON_FREE = 4;\n//                   --- based on some testing; had = 10\n\nconst MLOGICAL_NA = -1;\n// an \"NA_LOGICAL\" substitute for Mathlib {only used here, for now}\n\n//attribute_hidden\n/*export function qbeta_raw(alpha: number, double p, double q, int lower_tail, int log_p,\n        int swap_01, double log_q_cut, int n_N, double * qb): number { return 0 };\n*/\n\nconst printer_qbeta = debug('qbeta');\nexport function qbeta<T>(\n  pp: T,\n  shape1: number,\n  shape2: number,\n  lower_tail: boolean,\n  log_p: boolean\n): T {\n  /* test for admissibility of parameters */\n\n  const fa: number[] = Array.isArray(pp) ? pp : ([pp] as any);\n\n  const result = fa.map(p => {\n    if (ISNAN(shape1) || ISNAN(shape2) || ISNAN(p)) return shape1 + shape2 + p;\n\n    if (shape1 < 0 || shape2 < 0) {\n      return ML_ERR_return_NAN(printer_qbeta);\n    }\n    // allowing p==0 and q==0  <==> treat as one- or two-point mass\n\n    let qbet = [0, 0]; // = { qbeta(), 1 - qbeta() }\n\n    qbeta_raw(\n      p,\n      shape1,\n      shape2,\n      lower_tail,\n      log_p,\n      MLOGICAL_NA,\n      USE_LOG_X_CUTOFF,\n      n_NEWTON_FREE,\n      qbet\n    );\n    return qbet[0];\n  });\n  return result.length === 1 ? result[0] : (result as any);\n}\n\n// CARE: assumes subnormal numbers, i.e., no underflow at DBL_MIN:\nconst DBL_very_MIN = DBL_MIN / 4;\nconst DBL_log_v_MIN = M_LN2 * (DBL_MIN_EXP - 2);\n// Too extreme: inaccuracy in pbeta(); e.g for  qbeta(0.95, 1e-9, 20):\n// -> in pbeta() --> bgrat(..... b*z === 0 underflow, hence inaccurate pbeta()\n/* DBL_very_MIN  = 0x0.0000001p-1022, // = 2^-1050 = 2^(-1022 - 28) */\n/* DBL_log_v_MIN = -1050. * M_LN2, // = log(DBL_very_MIN) */\n// the most extreme -- not ok, as pbeta() then behaves strangely,\n// e.g., for  qbeta(0.95, 1e-8, 20):\n/* DBL_very_MIN  = 0x0.0000000000001p-1022, // = 2^-1074 = 2^(-1022 -52) */\n/* DBL_log_v_MIN = -1074. * M_LN2, // = log(DBL_very_MIN) */\n\nconst DBL_1__eps = 1 - DBL_EPSILON; // or rather (1 - DBL_EPSILON/2) (??)\n\n/* set the exponent of acu to -2r-2 for r digits of accuracy */\n/*---- NEW ---- -- still fails for p = 1e11, q=.5*/\n\nconst fpu = 3e-308;\n/* acu_min:  Minimal value for accuracy 'acu' which will depend on (a,p);\n         acu_min >= fpu ! */\nconst acu_min = 1e-300;\nconst p_lo = fpu;\nconst p_hi = 1 - 2.22e-16;\n\nconst const1 = 2.30753;\nconst const2 = 0.27061;\nconst const3 = 0.99229;\nconst const4 = 0.04481;\n\nfunction return_q_0(give_log_q: boolean, qb: number[]): void {\n  if (give_log_q) {\n    qb[0] = ML_NEGINF;\n    qb[1] = 0;\n  } else {\n    qb[0] = 0;\n    qb[1] = 1;\n  }\n  return;\n}\n\nfunction return_q_1(give_log_q: boolean, qb: number[]): void {\n  if (give_log_q) {\n    qb[0] = 0;\n    qb[1] = ML_NEGINF;\n  } else {\n    qb[0] = 1;\n    qb[1] = 0;\n  }\n  return;\n}\n\nfunction return_q_half(give_log_q: boolean, qb: number[]): void {\n  if (give_log_q) {\n    qb[0] = qb[1] = -M_LN2;\n  } else {\n    qb[0] = qb[1] = 0.5;\n  }\n  return;\n}\n\n\nconst printer_qbeta_raw = debug('qbeta_raw');\nconst R_ifDEBUG_printf = printer_qbeta_raw;\n// Returns both qbeta() and its \"mirror\" 1-qbeta(). Useful notably when qbeta() ~= 1\nexport function qbeta_raw(\n  alpha: number,\n  p: number,\n  q: number,\n  lower_tail: boolean,\n  log_p: boolean,\n  swap_01: number, // {TRUE, NA, FALSE}: if NA, algorithm decides swap_tail\n  log_q_cut: number /* if === Inf: return log(qbeta(..));\n                   otherwise, if finite: the bound for\n                   switching to log(x)-scale; see use_log_x */,\n  n_N: number, // number of \"unconstrained\" Newton steps before switching to constrained\n  qb: number[] // = qb[0:1] = { qbeta(), 1 - qbeta() }\n): void {\n  let swap_choose = swap_01 === MLOGICAL_NA;\n  let swap_tail;\n  let log_;\n  let give_log_q = log_q_cut === ML_POSINF;\n  let use_log_x = give_log_q; // or u < log_q_cut  below\n  let warned = false;\n  let add_N_step = true;\n  let i_pb;\n  let i_inn;\n  let a;\n  let la;\n  let logbeta;\n  let g;\n  let h;\n  let pp;\n  let p_;\n  let qq;\n  let r;\n  let s;\n  let t;\n  let w;\n  let y = -1;\n  let u: number = 0;\n  let xinbta: number = 0;\n  let u_n: number = 0;\n\n  // Assuming p >= 0, q >= 0  here ...\n\n  // Deal with boundary cases here:\n  if (alpha === R_DT_0(lower_tail, log_p)) {\n    return return_q_0(give_log_q, qb);\n  }\n  if (alpha === R_DT_1(lower_tail, log_p)) {\n    return return_q_1(give_log_q, qb);\n  }\n\n  // check alpha {*before* transformation which may all accuracy}:\n  if ((log_p && alpha > 0) || (!log_p && (alpha < 0 || alpha > 1))) {\n    // alpha is outside\n    printer_qbeta_raw(\n      'qbeta(alpha=%d, %d, %d, .., log_p=%d): %s%s',\n      alpha,\n      p,\n      q,\n      log_p,\n      'alpha not in ',\n      log_p ? '[-Inf, 0]' : '[0,1]'\n    );\n    // ML_ERR_return_NAN :\n    ML_ERROR(ME.ME_DOMAIN, '', printer_qbeta_raw);\n    qb[0] = qb[1] = ML_NAN;\n    return;\n  }\n\n  //  p==0, q==0, p = Inf, q = Inf  <==> treat as one- or two-point mass\n  if (p === 0 || q === 0 || !R_FINITE(p) || !R_FINITE(q)) {\n    // We know 0 < T(alpha) < 1 : pbeta() is constant and trivial in {0, 1/2, 1}\n    printer_qbeta_raw(\n      'qbeta(%d, %d, %d, lower_t=%d, log_p=%d): (p,q)-boundary: trivial',\n      alpha,\n      p,\n      q,\n      lower_tail,\n      log_p\n    );\n    if (p === 0 && q === 0) {\n      // point mass 1/2 at each of {0,1} :\n      if (alpha < R_D_half(log_p)) {\n        return_q_0(give_log_q, qb);\n      }\n      if (alpha > R_D_half(log_p)) {\n        return_q_1(give_log_q, qb);\n      }\n      // else:  alpha === \"1/2\"\n      return_q_half(give_log_q, qb);\n    } else if (p === 0 || p / q === 0) {\n      // point mass 1 at 0 - \"flipped around\"\n      return_q_0;\n    } else if (q === 0 || q / p === 0) {\n      // point mass 1 at 0 - \"flipped around\"\n      return_q_1;\n    }\n    // else:  p = q = Inf : point mass 1 at 1/2\n    return_q_half;\n  }\n\n  /* initialize */\n  p_ = R_DT_qIv(lower_tail, log_p, alpha); /* lower_tail prob (in any case) */\n  // Conceptually,  0 < p_ < 1  (but can be 0 or 1 because of cancellation!)\n  logbeta = lbeta(p, q);\n\n  swap_tail = swap_choose ? p_ > 0.5 : swap_01;\n  // change tail; default (swap_01 = NA): afterwards 0 < a <= 1/2\n  if (swap_tail) {\n    /* change tail, swap  p <-> q :*/\n    a = R_DT_CIv(lower_tail, log_p, alpha); // = 1 - p_ < 1/2\n    /* la := log(a), but without numerical cancellation: */\n    la = R_DT_Clog(lower_tail, log_p, alpha);\n    pp = q;\n    qq = p;\n  } else {\n    a = p_;\n    la = R_DT_log(lower_tail, log_p, alpha);\n    pp = p;\n    qq = q;\n  }\n\n  /* calculate the initial approximation */\n\n  /* Desired accuracy for Newton iterations (below) should depend on  (a,p)\n     * This is from Remark .. on AS 109, adapted.\n     * However, it's not clear if this is \"optimal\" for IEEE double prec.\n\n     * acu = fmax2(acu_min, pow(10., -25. - 5./(pp * pp) - 1./(a * a)));\n\n     * NEW: 'acu' accuracy NOT for squared adjustment, but simple;\n     * ---- i.e.,  \"new acu\" = sqrt(old acu)\n    */\n  let acu = fmax2(acu_min, pow(10, -13 - 2.5 / (pp * pp) - 0.5 / (a * a)));\n  // try to catch  \"extreme left tail\" early\n  let tx = 0;\n  let u0 = (la + log(pp) + logbeta) / pp; // = log(x_0)\n  let log_eps_c = M_LN2 * (1 - DBL_MANT_DIG); // = log(DBL_EPSILON) = -36.04..\n  r = pp * (1 - qq) / (pp + 1);\n\n  t = 0.2;\n  // FIXME: Factor 0.2 is a bit arbitrary;  '1' is clearly much too much.\n\n  printer_qbeta_raw(\n    'qbeta(%d, %d, %d, lower_t=%d, log_p=%d):%s   swap_tail=%d, la=%d, u0=%d (bnd: %d (%d)) ',\n    alpha,\n    p,\n    q,\n    lower_tail,\n    log_p,\n    log_p && (p_ === 0 || p_ === 1) ? (p_ === 0 ? ' p_=0' : ' p_=1') : '',\n    swap_tail,\n    la,\n    u0,\n    (t * log_eps_c - log(fabs(pp * (1 - qq) * (2 - qq) / (2 * (pp + 2))))) / 2,\n    t * log_eps_c - log(fabs(r))\n  );\n\n  let goto_L_Newton = false;\n  let goto_L_return = false;\n  let goto_L_converged = false;\n\n  if (\n    M_LN2 * DBL_MIN_EXP < u0 && // cannot allow exp(u0) = 0 ==> exp(u1) = exp(u0) = 0\n    u0 < -0.01 && // (must: u0 < 0, but too close to 0 <==> x = exp(u0) = 0.99..)\n    // qq <= 2 && // <--- \"arbitrary\"\n    // u0 <  t*log_eps_c - log(fabs(r)) &&\n    u0 <\n      (t * log_eps_c - log(fabs(pp * (1 - qq) * (2 - qq) / (2 * (pp + 2))))) / 2\n  ) {\n    // TODO: maybe jump here from below, when initial u \"fails\" ?\n    // L_tail_u:\n    // MM's one-step correction (cheaper than 1 Newton!)\n    r = r * exp(u0); // = r*x0\n    if (r > -1) {\n      u = u0 - log1p(r) / pp;\n      printer_qbeta_raw('u1-u0=%d --> choosing u = u1', u - u0);\n    } else {\n      u = u0;\n      printer_qbeta_raw('cannot cheaply improve u0');\n    }\n    tx = xinbta = exp(u);\n    use_log_x = true; // or (u < log_q_cut)  ??\n    //goto L_Newton;\n    goto_L_Newton = true;\n  }\n\n  if (!goto_L_Newton) {\n    // y := y_\\alpha in AS 64 := Hastings(1955) approximation of qnorm(1 - a) :\n    r = sqrt(-2 * la);\n    y = r - (const1 + const2 * r) / (1 + (const3 + const4 * r) * r);\n\n    if (pp > 1 && qq > 1) {\n      // use  Carter(1947), see AS 109, remark '5.'\n      r = (y * y - 3) / 6;\n      s = 1 / (pp + pp - 1);\n      t = 1 / (qq + qq - 1);\n      h = 2 / (s + t);\n      w = y * sqrt(h + r) / h - (t - s) * (r + 5.0 / 6.0 - 2.0 / (3 * h));\n      printer_qbeta_raw('p,q > 1 => w=%d', w);\n      if (w > 300) {\n        // exp(w+w) is huge or overflows\n        t = w + w + log(qq) - log(pp); // = argument of log1pexp(.)\n        u = // log(xinbta) = - log1p(qq/pp * exp(w+w)) = -log(1 + exp(t))\n          t <= 18 ? -log1p(exp(t)) : -t - exp(-t);\n        xinbta = exp(u);\n      } else {\n        xinbta = pp / (pp + qq * exp(w + w));\n        u = -log1p(qq / pp * exp(w + w)); // log(xinbta)\n      }\n    } else {\n      // use the original AS 64 proposal, Scheff-Tukey (1944) and Wilson-Hilferty\n      r = qq + qq;\n      /* A slightly more stable version of  t := \\chi^2_{alpha} of AS 64\n             * t = 1. / (9. * qq); t = r * R_pow_di(1. - t + y * sqrt(t), 3);  */\n      t = 1 / (3 * sqrt(qq));\n      t = r * R_pow_di(1 + t * (-t + y), 3); // = \\chi^2_{alpha} of AS 64\n      s = 4 * pp + r - 2; // 4p + 2q - 2 = numerator of new t = (...) / chi^2\n      R_ifDEBUG_printf('min(p,q) <= 1: t=%g', t);\n      if (t === 0 || (t < 0 && s >= t)) {\n        // cannot use chisq approx\n        // x0 = 1 - { (1-a)*q*B(p,q) } ^{1/q}    {AS 65}\n        // xinbta = 1. - exp((log(1-a)+ log(qq) + logbeta) / qq);\n        let l1ma; /* := log(1-a), directly from alpha (as 'la' above):\n             * FIXME: not worth it? log1p(-a) always the same ?? */\n        if (swap_tail) l1ma = R_DT_log(lower_tail, log_p, alpha);\n        else l1ma = R_DT_Clog(lower_tail, log_p, alpha);\n        R_ifDEBUG_printf(\n          ' t <= 0 : log1p(-a)=%.15g, better l1ma=%.15g\\n',\n          log1p(-a),\n          l1ma\n        );\n        let xx = (l1ma + log(qq) + logbeta) / qq;\n        if (xx <= 0) {\n          xinbta = -expm1(xx);\n          u = R_Log1_Exp(xx); // =  log(xinbta) = log(1 - exp(...A...))\n        } else {\n          // xx > 0 ==> 1 - e^xx < 0 .. is nonsense\n          R_ifDEBUG_printf(' xx=%g > 0: xinbta:= 1-e^xx < 0\\n', xx);\n          xinbta = 0;\n          u = ML_NEGINF; /// FIXME can do better?\n        }\n      } else {\n        t = s / t;\n        R_ifDEBUG_printf(' t > 0 or s < t < 0:  new t = %g ( > 1 ?)\\n', t);\n        if (t <= 1) {\n          // cannot use chisq, either\n          u = (la + log(pp) + logbeta) / pp;\n          xinbta = exp(u);\n        } else {\n          // (1+x0)/(1-x0) = t,  solved for x0 :\n          xinbta = 1 - 2 / (t + 1);\n          u = log1p(-2 / (t + 1));\n        }\n      }\n    }\n\n    // Problem: If initial u is completely wrong, we make a wrong decision here\n    if (\n      swap_choose &&\n      ((swap_tail && u >= -exp(log_q_cut)) || // ==> \"swap back\"\n        (!swap_tail && u >= -exp(4 * log_q_cut) && pp / qq < 1000))\n    ) {\n      // ==> \"swap now\" (much less easily)\n      // \"revert swap\" -- and use_log_x\n      swap_tail = !swap_tail;\n      R_ifDEBUG_printf(' u = %g (e^u = xinbta = %.16g) ==> ', u, xinbta);\n      if (swap_tail) {\n        a = R_DT_CIv(lower_tail, log_p, alpha); // needed ?\n        la = R_DT_Clog(lower_tail, log_p, alpha);\n        pp = q;\n        qq = p;\n      } else {\n        a = p_;\n        la = R_DT_log(lower_tail, log_p, alpha);\n        pp = p;\n        qq = q;\n      }\n      R_ifDEBUG_printf(\n        '\"%s\\'; la = %g\\n',\n        swap_tail ? 'swap now' : 'swap back',\n        la\n      );\n      // we could redo computations above, but this should be stable\n      u = R_Log1_Exp(u);\n      xinbta = exp(u);\n\n      /* Careful: \"swap now\"  should not fail if\n               1) the above initial xinbta is \"completely wrong\"\n               2) The correction step can go outside (u_n > 0 ==>  e^u > 1 is illegal)\n               e.g., for\n                qbeta(0.2066, 0.143891, 0.05)\n            */\n    }\n\n    if (!use_log_x) use_log_x = u < log_q_cut; //(per default) <==> xinbta = e^u < 4.54e-5\n    let bad_u = !R_FINITE(u);\n    let bad_init = bad_u || xinbta > p_hi;\n\n    R_ifDEBUG_printf(\n      ' -> u = %g, e^u = xinbta = %.16g, (Newton acu=%g%s)\\n',\n      u,\n      xinbta,\n      acu,\n      bad_u ? ', ** bad u **' : use_log_x ? ', on u = log(x) scale' : ''\n    );\n\n    u_n = 1; // -Wall\n    tx = xinbta; // keeping \"original initial x\" (for now)\n\n    if (bad_u || u < log_q_cut) {\n      /* e.g.\n            qbeta(0.21, .001, 0.05)\n            try \"left border\" quickly, i.e.,\n            try at smallest positive number: */\n      w = pbeta_raw(DBL_very_MIN, pp, qq, true, log_p);\n      if (w > (log_p ? la : a)) {\n        R_ifDEBUG_printf(\n          ' quantile is left of smallest positive number; \"convergence\"\\n'\n        );\n        if (log_p || fabs(w - a) < fabs(0 - a)) {\n          // DBL_very_MIN is better than 0\n          tx = DBL_very_MIN;\n          u_n = DBL_log_v_MIN; // = log(DBL_very_MIN)\n        } else {\n          tx = 0;\n          u_n = ML_NEGINF;\n        }\n        use_log_x = log_p;\n        add_N_step = false;\n        goto_L_return = true;\n        //goto L_return;\n      } else {\n        R_ifDEBUG_printf(\n          ' pbeta(smallest pos.) = %g <= %g  --> continuing\\n',\n          w,\n          log_p ? la : a\n        );\n        if (u < DBL_log_v_MIN) {\n          u = DBL_log_v_MIN; // = log(DBL_very_MIN)\n          xinbta = DBL_very_MIN;\n        }\n      }\n    }\n\n    /* Sometimes the approximation is negative (and === 0 is also not \"ok\") */\n    if (bad_init && !(use_log_x && tx > 0)) {\n      if (u === ML_NEGINF) {\n        R_ifDEBUG_printf('  u = -Inf;');\n        u = M_LN2 * DBL_MIN_EXP;\n        xinbta = DBL_MIN;\n      } else {\n        R_ifDEBUG_printf(' bad_init: u=%g, xinbta=%g;', u, xinbta);\n        xinbta =\n          xinbta > 1.1 // i.e. \"way off\"\n            ? 0.5 // otherwise, keep the respective boundary:\n            : xinbta < p_lo ? exp(u) : p_hi;\n        if (bad_u) u = log(xinbta);\n        // otherwise: not changing \"potentially better\" u than the above\n      }\n      R_ifDEBUG_printf(' -> (partly)new u=%g, xinbta=%g\\n', u, xinbta);\n    }\n  }\n  //L_Newton:\n  /* --------------------------------------------------------------------\n\n     * Solve for x by a modified Newton-Raphson method, using pbeta_raw()\n     */\n  if (!goto_L_return) {\n    r = 1 - pp;\n    t = 1 - qq;\n    let wprev = 0;\n    let prev = 1;\n    let adj = 1; // -Wall\n\n    if (use_log_x) {\n      // find  log(xinbta) -- work in  u := log(x) scale\n      // if(bad_init && tx > 0) xinbta = tx;// may have been better\n\n      for (i_pb = 0; i_pb < 1000; i_pb++) {\n        // using log_p === TRUE  unconditionally here\n        // FIXME: if exp(u) = xinbta underflows to 0, like different formula pbeta_log(u, *)\n        y = pbeta_raw(xinbta, pp, qq, /*lower_tail = */ true, true);\n\n        /* w := Newton step size for   L(u) = log F(e^u)  =!= 0;   u := log(x)\n                 *   =  (L(.) - la) / L'(.);  L'(u)= (F'(e^u) * e^u ) / F(e^u)\n                 *   =  (L(.) - la)*F(.) / {F'(e^u) * e^u } =\n                 *   =  (L(.) - la) * e^L(.) * e^{-log F'(e^u) - u}\n                 *   =  ( y   - la) * e^{ y - u -log F'(e^u)}\n                and  -log F'(x)= -log f(x) =  + logbeta + (1-p) log(x) + (1-q) log(1-x)\n                           = logbeta + (1-p) u + (1-q) log(1-e^u)\n                 */\n        w =\n          y === ML_NEGINF // y = -Inf  well possible: we are on log scale!\n            ? 0\n            : (y - la) * exp(y - u + logbeta + r * u + t * R_Log1_Exp(u));\n        if (!R_FINITE(w)) break;\n        if (i_pb >= n_N && w * wprev <= 0) prev = fmax2(fabs(adj), fpu);\n        R_ifDEBUG_printf(\n          'N(i=%2d): u=%#20.16g, pb(e^u)=%#12.6g, w=%#15.9g, %s prev=%11g,',\n          i_pb,\n          u,\n          y,\n          w,\n          w * wprev <= 0 ? 'new' : 'old',\n          prev\n        );\n        g = 1;\n        for (i_inn = 0; i_inn < 1000; i_inn++) {\n          adj = g * w;\n          // take full Newton steps at the beginning; only then safe guard:\n          if (i_pb < n_N || fabs(adj) < prev) {\n            u_n = u - adj; // u_{n+1} = u_n - g*w\n            if (u_n <= 0) {\n              // <==> 0 <  xinbta := e^u  <= 1\n              if (prev <= acu || fabs(w) <= acu) {\n                /* R_ifDEBUG_printf(\" -adj=%g, %s <= acu  ==> convergence\\n\", */\n                /*\t -adj, (prev <= acu) ? \"prev\" : \"|w|\"); */\n                R_ifDEBUG_printf(\n                  ' it{in}=%d, -adj=%g, %s <= acu  ==> convergence\\n',\n                  i_inn,\n                  -adj,\n                  prev <= acu ? 'prev' : '|w|'\n                );\n                goto_L_converged = true;\n                break;\n                //goto L_converged;\n              }\n              // if (u_n != ML_NEGINF && u_n != 1)\n              break;\n            }\n          }\n          g /= 3;\n        } //for(i_inn)\n        if (goto_L_converged) {\n          break;\n        }\n        // (cancellation in (u_n -u) => may differ from adj:\n        let D = fmin2(fabs(adj), fabs(u_n - u));\n        /* R_ifDEBUG_printf(\" delta(u)=%g\\n\", u_n - u); */\n        R_ifDEBUG_printf(\n          ' it{in}=%d, delta(u)=%9.3g, D/|.|=%.3g\\n',\n          i_inn,\n          u_n - u,\n          D / fabs(u_n + u)\n        );\n        if (D <= 4e-16 * fabs(u_n + u)) {\n          goto_L_converged = true;\n          break;\n        }\n        u = u_n;\n        xinbta = exp(u);\n        wprev = w;\n      } // for(i )\n    } else {\n      for (i_pb = 0; i_pb < 1000; i_pb++) {\n        y = pbeta_raw(xinbta, pp, qq, /*lower_tail = */ true, log_p);\n        // delta{y} :   d_y = y - (log_p ? la : a);\n\n        if (!R_FINITE(y) && !(log_p && y === ML_NEGINF)) {\n          // y = -Inf  is ok if(log_p)\n          // ML_ERR_return_NAN :\n          ML_ERROR(ME.ME_DOMAIN, '', printer_qbeta_raw);\n          qb[0] = qb[1] = ML_NAN;\n          return;\n        }\n\n        /* w := Newton step size  (F(.) - a) / F'(.)  or,\n                 * --   log: (lF - la) / (F' / F) = exp(lF) * (lF - la) / F'\n                 */\n        w = log_p\n          ? (y - la) * exp(y + logbeta + r * log(xinbta) + t * log1p(-xinbta))\n          : (y - a) * exp(logbeta + r * log(xinbta) + t * log1p(-xinbta));\n        if (i_pb >= n_N && w * wprev <= 0) prev = fmax2(fabs(adj), fpu);\n        R_ifDEBUG_printf(\n          'N(i=%2d): x0=%d, pb(x0)=%d, w=%d, %s prev=%d,',\n          i_pb,\n          xinbta,\n          y,\n          w,\n          w * wprev <= 0 ? 'new' : 'old',\n          prev\n        );\n        g = 1;\n        for (i_inn = 0; i_inn < 1000; i_inn++) {\n          adj = g * w;\n          // take full Newton steps at the beginning; only then safe guard:\n          if (i_pb < n_N || fabs(adj) < prev) {\n            tx = xinbta - adj; // x_{n+1} = x_n - g*w\n            if (0 <= tx && tx <= 1) {\n              if (prev <= acu || fabs(w) <= acu) {\n                R_ifDEBUG_printf(\n                  ' it{in}=%d, delta(x)=%g, %s <= acu  ==> convergence\\n',\n                  i_inn,\n                  -adj,\n                  prev <= acu ? 'prev' : '|w|'\n                );\n                goto_L_converged = true;\n                break;\n              }\n              if (tx !== 0 && tx !== 1) break;\n            }\n          }\n          g /= 3;\n        } //for(i_inn)\n        if (goto_L_converged) {\n          break;\n        }\n        R_ifDEBUG_printf(' it{in}=%d, delta(x)=%g\\n', i_inn, tx - xinbta);\n        if (fabs(tx - xinbta) <= 4e-16 * (tx + xinbta)) {\n          // \"<=\" : (.) === 0\n          goto_L_converged = true;\n          break;\n        }\n        xinbta = tx;\n        if (tx === 0)\n          // \"we have lost\"\n          break;\n        wprev = w;\n      } //for\n    } //if\n\n    /*-- NOT converged: Iteration count --*/\n    if (!goto_L_converged) {\n      warned = true;\n      ML_ERROR(ME.ME_PRECISION, 'qbeta', printer_qbeta_raw);\n    }\n\n    //L_converged:\n    log_ = log_p || use_log_x; // only for printing\n    R_ifDEBUG_printf(\n      ' %s: Final delta(y) = %g%s\\n',\n      warned ? '_NO_ convergence' : 'converged',\n      y - (log_ ? la : a),\n      log_ ? ' (log_)' : ''\n    );\n    if ((log_ && y === ML_NEGINF) || (!log_ && y === 0)) {\n      // stuck at left, try if smallest positive number is \"better\"\n      w = pbeta_raw(DBL_very_MIN, pp, qq, true, log_);\n      if (log_ || fabs(w - a) <= fabs(y - a)) {\n        tx = DBL_very_MIN;\n        u_n = DBL_log_v_MIN; // = log(DBL_very_MIN)\n      }\n      add_N_step = false; // not trying to do better anymore\n    } else if (!warned && (log_ ? fabs(y - la) > 3 : fabs(y - a) > 1e-4)) {\n      if (\n        !(\n          log_ &&\n          y === ML_NEGINF &&\n          // e.g. qbeta(-1e-10, .2, .03, log=TRUE) cannot get accurate ==> do NOT warn\n          pbeta_raw(\n            DBL_1__eps, // = 1 - eps\n            pp,\n            qq,\n            true,\n            true\n          ) >\n            la + 2\n        )\n      )\n        printer_qbeta_raw(\n          // low accuracy for more platform independent output:\n          'qbeta(a, *) =: x0 with |pbeta(x0,* %s) - alpha| = %d is not accurate',\n          log_ ? ', log_' : '',\n          fabs(y - (log_ ? la : a))\n        );\n    }\n  }\n  //L_return:\n  if (give_log_q) {\n    // ==> use_log_x , too\n    if (!use_log_x)\n      // (see if claim above is true)\n      printer_qbeta_raw(\n        'qbeta() L_return, u_n=%d;  give_log_q=TRUE but use_log_x=FALSE -- please report!',\n        u_n\n      );\n    let r = R_Log1_Exp(u_n);\n    if (swap_tail) {\n      qb[0] = r;\n      qb[1] = u_n;\n    } else {\n      qb[0] = u_n;\n      qb[1] = r;\n    }\n  } else {\n    if (use_log_x) {\n      if (add_N_step) {\n        /* add one last Newton step on original x scale, e.g., for\n                   qbeta(2^-98, 0.125, 2^-96) */\n        xinbta = exp(u_n);\n        y = pbeta_raw(xinbta, pp, qq, /*lower_tail = */ true, log_p);\n        w = log_p\n          ? (y - la) * exp(y + logbeta + r * log(xinbta) + t * log1p(-xinbta))\n          : (y - a) * exp(logbeta + r * log(xinbta) + t * log1p(-xinbta));\n        tx = xinbta - w;\n        R_ifDEBUG_printf(\n          'Final Newton correction(non-log scale): xinbta=%.16g, y=%g, w=%g. => new tx=%.16g\\n',\n          xinbta,\n          y,\n          w,\n          tx\n        );\n      } else {\n        if (swap_tail) {\n          qb[0] = -expm1(u_n);\n          qb[1] = exp(u_n);\n        } else {\n          qb[0] = exp(u_n);\n          qb[1] = -expm1(u_n);\n        }\n        return;\n      }\n    }\n    if (swap_tail) {\n      qb[0] = 1 - tx;\n      qb[1] = tx;\n    } else {\n      qb[0] = tx;\n      qb[1] = 1 - tx;\n    }\n  }\n  return;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/beta/qbeta.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_Q_P01_boundaries } from '../common/_general';\n\nimport { R_DT_qIv } from '../exp/expm1';\nimport { map } from '../r-func';\nimport { pnbeta } from './pnbeta';\n\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  MIN_VALUE: DBL_MIN,\n  EPSILON: DBL_EPSILON\n} = Number;\n\nconst { min: fmin2 } = Math;\n\nconst printer_qnbeta = debug('qnbeta');\n\nexport function qnbeta<T>(\n  _p: T,\n  a: number,\n  b: number,\n  ncp: number,\n  lower_tail: boolean,\n  log_p: boolean\n): T {\n  const accu = 1e-15;\n  const Eps = 1e-14; /* must be > accu */\n\n  return map(_p)(p => {\n    let ux;\n    let lx;\n    let nx;\n    let pp;\n\n    if (ISNAN(p) || ISNAN(a) || ISNAN(b) || ISNAN(ncp)) return p + a + b + ncp;\n\n    if (!R_FINITE(a)) return ML_ERR_return_NAN(printer_qnbeta);\n\n    if (ncp < 0 || a <= 0 || b <= 0) return ML_ERR_return_NAN(printer_qnbeta);\n\n    let rc = R_Q_P01_boundaries(lower_tail, log_p, p, 0, 1);\n    if (rc !== undefined) {\n      return rc;\n    }\n    p = R_DT_qIv(lower_tail, log_p, p);\n\n    /* Invert pnbeta(.) :\n     * 1. finding an upper and lower bound */\n    if (p > 1 - DBL_EPSILON) return 1.0;\n    pp = fmin2(1 - DBL_EPSILON, p * (1 + Eps));\n    for (\n      ux = 0.5;\n      ux < 1 - DBL_EPSILON && pnbeta(ux, a, b, ncp, true, false) < pp;\n      ux = 0.5 * (1 + ux)\n    );\n    pp = p * (1 - Eps);\n    for (\n      lx = 0.5;\n      lx > DBL_MIN && pnbeta(lx, a, b, ncp, true, false) > pp;\n      lx *= 0.5\n    );\n\n    /* 2. interval (lx,ux)  halving : */\n    do {\n      nx = 0.5 * (lx + ux);\n      if (pnbeta(nx, a, b, ncp, true, false) > p) ux = nx;\n      else lx = nx;\n    } while ((ux - lx) / nx > accu);\n\n    return 0.5 * (ux + lx);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/beta/qnbeta.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_DT_0, R_DT_1 } from '../common/_general';\n\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst { floor, log } = Math;\n\nimport { pbeta } from '../beta/pbeta';\nimport { NumberW, Toms708 } from '../common/toms708';\n\nconst printer = debug('pnbinom');\n\nexport function pnbinom<T>(\n  xx: T,\n  size: number,\n  prob: number,\n  lowerTail: boolean,\n  logP: boolean\n): T {\n  const fx: number[] = Array.isArray(xx) ? xx : ([xx] as any);\n\n  const result = fx.map(x => {\n    if (ISNAN(x) || ISNAN(size) || ISNAN(prob)) return x + size + prob;\n    if (!R_FINITE(size) || !R_FINITE(prob)) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    if (size < 0 || prob <= 0 || prob > 1) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    /* limiting case: point mass at zero */\n    if (size === 0)\n      return x >= 0 ? R_DT_1(lowerTail, logP) : R_DT_0(lowerTail, logP);\n\n    if (x < 0) return R_DT_0(lowerTail, logP);\n    if (!R_FINITE(x)) return R_DT_1(lowerTail, logP);\n    x = floor(x + 1e-7);\n    return pbeta(prob, size, x + 1, lowerTail, logP);\n  });\n\n  return result.length === 1 ? result[0] : (result as any);\n}\n\nconst printer_pnbinom_mu = debug('printer_pnbinom_mu');\n\nexport function pnbinom_mu<T>(\n  xx: T,\n  size: number,\n  mu: number,\n  lowerTail: boolean,\n  logP: boolean\n): T {\n  const fx: number[] = Array.isArray(xx) ? xx : ([xx] as any);\n  const result = fx.map(x => {\n    if (ISNAN(x) || ISNAN(size) || ISNAN(mu)) return x + size + mu;\n    if (!R_FINITE(size) || !R_FINITE(mu)) return ML_ERR_return_NAN(printer_pnbinom_mu);\n\n    if (size < 0 || mu < 0) return ML_ERR_return_NAN(printer_pnbinom_mu);\n\n    /* limiting case: point mass at zero */\n    if (size === 0)\n      return x >= 0 ? R_DT_1(lowerTail, logP) : R_DT_0(lowerTail, logP);\n\n    if (x < 0) return R_DT_0(lowerTail, logP);\n    if (!R_FINITE(x)) return R_DT_1(lowerTail, logP);\n    x = floor(x + 1e-7);\n    /* return\n     * pbeta(pr, size, x + 1, lowerTail, logP);  pr = size/(size + mu), 1-pr = mu/(size+mu)\n     *\n     *= pbeta_raw(pr, size, x + 1, lowerTail, logP)\n     *            x.  pin   qin\n     *=  bratio (pin,  qin, x., 1-x., &w, &wc, &ierr, logP),  and return w or wc ..\n     *=  bratio (size, x+1, pr, 1-pr, &w, &wc, &ierr, logP) */\n    {\n      let ierr = new NumberW(0);\n      let w = new NumberW(0);\n      let wc = new NumberW(0);\n      Toms708.bratio(\n        size,\n        x + 1,\n        size / (size + mu),\n        mu / (size + mu),\n        w,\n        wc,\n        ierr\n      );\n      if (ierr)\n        printer('pnbinom_mu() -> bratio() gave error code %d', ierr.val);\n      if (logP) {\n        w.val = log(w.val);\n        wc.val = log(wc.val);\n      }\n      return lowerTail ? w.val : wc.val;\n    }\n  });\n  return result.length === 1 ? result[0] : (result as any);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/binomial-negative/pnbinom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { pbeta } from '../beta/pbeta';\nimport {\n  ML_ERR_return_NAN,\n  R_DT_0,\n  R_DT_1,\n  R_nonint\n} from '../common/_general';\nimport { map } from '../r-func';\n\nconst printer = debug('pbinom');\nconst { floor, round: R_forceint } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\n\nexport function pbinom<T>(\n  xx: T,\n  n: number,\n  p: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  return map(xx)(x => {\n    if (ISNAN(x) || ISNAN(n) || ISNAN(p)) return NaN;\n    if (!R_FINITE(n) || !R_FINITE(p)) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    let lower_tail = lowerTail;\n    let log_p = logP;\n\n    if (R_nonint(n)) {\n      printer('non-integer n = %d', n);\n      return ML_ERR_return_NAN(printer);\n    }\n    n = R_forceint(n);\n    /* \n     PR#8560: n=0 is a valid value \n  */\n    if (n < 0 || p < 0 || p > 1) return ML_ERR_return_NAN(printer);\n\n    if (x < 0) return R_DT_0(lower_tail, log_p);\n    x = floor(x + 1e-7);\n    if (n <= x) return R_DT_1(lower_tail, log_p);\n    printer('calling pbeta:(q=%d,a=%d,b=%d, l.t=%s, log=%s', p, x + 1, n - x, !lower_tail, log_p);\n    return pbeta(p, x + 1, n - x, !lower_tail, log_p);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/binomial/pbinom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_Q_P01_boundaries } from '../common/_general';\n\nconst { max: fmax2, min: fmin2, floor, sqrt } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE, EPSILON: DBL_EPSILON } = Number;\n\nimport { NumberW } from '../common/toms708';\nimport { R_DT_qIv } from '../exp/expm1';\nimport { qnorm } from '../normal/qnorm';\nimport { map } from '../r-func';\nimport { pbinom } from './pbinom';\n\nconst printer_do_search = debug('do_search');\n\nfunction do_search(\n  y: number,\n  z: NumberW,\n  p: number,\n  n: number,\n  pr: number,\n  incr: number\n): number {\n  if (z.val >= p) {\n    /* search to the left */\n\n    printer_do_search(\n      'new z=%o >= p = %d  --> search to left (y--) ..',\n      z,\n      p\n    );\n\n    while (true) {\n      let newz: number;\n      if (\n        y === 0 ||\n        (newz = pbinom(y - incr, n, pr, /*l._t.*/ true, /*log_p*/ false)) < p\n      )\n        return y;\n      y = fmax2(0, y - incr);\n      z.val = newz;\n    }\n  } else {\n    /* search to the right */\n\n    printer_do_search(\n      'new z=%d < p = %d  --> search to right (y++) ..',\n      z.val,\n      p\n    );\n\n    while (true) {\n      y = fmin2(y + incr, n);\n      if (\n        y === n ||\n        (z.val = pbinom(y, n, pr, /*l._t.*/ true, /*log_p*/ false)) >= p\n      )\n        return y;\n    }\n  }\n}\n\nexport function qbinom<T>(\n  pp: T,\n  n: number,\n  pr: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  return map(pp)(p => _qbinom(p, n, pr, lowerTail, logP)) as any;\n}\n\nconst printer_qbinom = debug('_qbinom');\n\nfunction _qbinom(\n  p: number,\n  size: number,\n  pr: number,\n  lower_tail: boolean,\n  log_p: boolean\n): number {\n  let q: number;\n  let mu: number;\n  let sigma: number;\n  let gamma: number;\n  const z = new NumberW(0);\n  let y: number;\n\n  if (ISNAN(p) || ISNAN(size) || ISNAN(pr)) return NaN;\n\n  if (!R_FINITE(size) || !R_FINITE(pr)) {\n    return ML_ERR_return_NAN(printer_qbinom);\n  }\n  /* if log_p is true, p = -Inf is a legitimate value */\n  if (!R_FINITE(p) && !log_p) {\n    return ML_ERR_return_NAN(printer_qbinom);\n  }\n\n  if (!Number.isInteger(size)) {\n    return ML_ERR_return_NAN(printer_qbinom);\n  }\n\n  if (pr < 0 || pr > 1 || size < 0) {\n    return ML_ERR_return_NAN(printer_qbinom);\n  }\n\n  let rc = R_Q_P01_boundaries(lower_tail, log_p, p, 0, size);\n  if (rc !== undefined) {\n    return rc;\n  }\n\n  //edge cases\n\n  if (pr === 0 || size === 0) return 0;\n\n  q = 1 - pr;\n  if (q === 0) return size; /* covers the full range of the distribution */\n\n  mu = size * pr; //mean\n  sigma = sqrt(size * pr * q); //standard deviation\n\n  gamma = (q - pr) / sigma; // = (  (1 - pr)-pr )/sd = (1 - 2pr)/sd\n\n  printer_qbinom(\n    'qbinom(p=%d, n=%d, pr=%d, l.t.=%s, log=%s): sigm=%d, gam=%d',\n    p,\n    size,\n    pr,\n    lower_tail,\n    log_p,\n    sigma,\n    gamma\n  );\n\n  /* Note : \"same\" code in qpois.c, qbinom.c, qnbinom.c --\n     * FIXME: This is far from optimal [cancellation for p ~= 1, etc]: */\n  if (!lower_tail || log_p) {\n    p = R_DT_qIv(lower_tail, log_p, p); /* need check again (cancellation!): */\n    if (p === 0) return 0;\n    if (p === 1) return size;\n  }\n  /* temporary hack --- FIXME --- */\n  //if (p + 1.01 * DBL_EPSILON >= 1.) return size;\n  if (Math.abs(p - 1) < DBL_EPSILON) {\n    return size;\n  }\n\n  /* y := approx.value (Cornish-Fisher expansion) :  */\n  z.val = qnorm(p, 0, 1, /*lower_tail*/ true, /*log_p*/ false);\n  y = floor(mu + sigma * (z.val + gamma * (z.val * z.val - 1) / 6) + 0.5);\n\n  if (y > size) {\n    /* way off */ y = size;\n  }\n\n  printer_qbinom(\n    '  new (p,1-p)=(%d,%d), z=qnorm(..)=%d, y=%d, size=%d',\n    p,\n    1 - p,\n    z.val,\n    y,\n    size\n  );\n\n  z.val = pbinom(y, size, pr, /*lower_tail*/ true, /*log_p*/ false);\n\n  /* fuzz to ensure left continuity: */\n  p *= 1 - 64 * DBL_EPSILON;\n\n  if (size < 1e5) {\n    return do_search(y, z, p, size, pr, 1);\n  }\n  /* Otherwise be a bit cleverer in the search */\n\n  let incr = floor(size * 0.001);\n  let oldincr;\n  do {\n    console.log('loopdieloop');\n    oldincr = incr;\n    y = do_search(y, z, p, size, pr, incr);\n    incr = fmax2(1, floor(incr / 100));\n  } while (oldincr > 1 && incr > size * 1e-15);\n  return y;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/binomial/qbinom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport { dgamma } from '../gamma/dgamma';\n\nexport function dchisq<T>(x: T, df: number, log: boolean = false) {\n  return dgamma(x, df / 2, 2, log);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/chi-2/dchisq.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_D__0, R_D_val } from '../common/_general';\n\nimport { dchisq } from '../chi-2/dchisq';\nimport { dpois_raw } from '../poisson/dpois';\n\nconst { ceil, sqrt } = Math;\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  POSITIVE_INFINITY: ML_POSINF\n} = Number;\n\nconst printer_dnchisq = debug('dnchisq');\n\nexport function dnchisq<T>(\n  xx: T,\n  df: number,\n  ncp: number,\n  give_log: boolean\n): T {\n  const eps = 5e-15;\n\n  const fa: number[] = Array.isArray(xx) ? xx : ([xx] as any);\n\n  const result = fa.map(x => {\n    let i: number;\n    let ncp2: number;\n    let q: number;\n    let mid: number;\n    let dfmid: number;\n    let imax: number;\n    let sum: number;\n    let term: number;\n\n    if (ISNAN(x) || ISNAN(df) || ISNAN(ncp)) {\n      return x + df + ncp;\n    }\n\n    if (!R_FINITE(df) || !R_FINITE(ncp) || ncp < 0 || df < 0) {\n      return ML_ERR_return_NAN(printer_dnchisq);\n    }\n\n    if (x < 0) {\n      return R_D__0(give_log);\n    }\n    if (x === 0 && df < 2) return ML_POSINF;\n    if (ncp === 0) return df > 0 ? dchisq(x, df, give_log) : R_D__0(give_log);\n    if (x === ML_POSINF) return R_D__0(give_log);\n\n    ncp2 = 0.5 * ncp;\n\n    /* find max element of sum */\n    imax = ceil((-(2 + df) + sqrt((2 - df) * (2 - df) + 4 * ncp * x)) / 4);\n    if (imax < 0) imax = 0;\n    if (R_FINITE(imax)) {\n      dfmid = df + 2 * imax;\n      mid = dpois_raw(imax, ncp2, false) * dchisq(x, dfmid, false);\n    } else {\n      /* imax = Inf */\n      // mid = 0;\n      // }\n\n      // if (mid === 0) {\n      /* underflow to 0 -- maybe numerically correct; maybe can be more accurate,\n\t * particularly when  give_log = TRUE */\n      /* Use  central-chisq approximation formula when appropriate;\n\t * ((FIXME: the optimal cutoff also depends on (x,df);  use always here? )) */\n      if (give_log || ncp > 1000) {\n        let nl = df + ncp;\n        let ic = nl / (nl + ncp); /* = \"1/(1+b)\" Abramowitz & St.*/\n        return dchisq(x * ic, nl * ic, give_log);\n      } else return R_D__0(give_log);\n    }\n\n    sum = mid;\n\n    /* errorbound := term * q / (1-q)  now subsumed in while() / if() below: */\n\n    /* upper tail */\n    term = mid;\n    df = dfmid;\n    i = imax;\n    let x2 = x * ncp2;\n    do {\n      i++;\n      q = x2 / i / df;\n      df += 2;\n      term *= q;\n      sum += term;\n    } while (q >= 1 || term * q > (1 - q) * eps || term > 1e-10 * sum);\n    /* lower tail */\n    term = mid;\n    df = dfmid;\n    i = imax;\n    while (i !== 0) {\n      df -= 2;\n      q = i * df / x2;\n      i--;\n      term *= q;\n      sum += term;\n      if (q < 1 && term * q <= (1 - q) * eps) break;\n    }\n    return R_D_val(give_log, sum);\n  });\n\n  return result.length === 1 ? result[0] : (result as any);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/chi-2/dnchisq.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport {\n  ME,\n  ML_ERR_return_NAN,\n  ML_ERROR,\n  R_D_qIv,\n  R_Q_P01_boundaries\n} from '../common/_general';\n\nimport { qchisq } from '../chi-2/qchisq';\nimport { map } from '../r-func';\nimport { pnchisq_raw } from './pnchisq';\n\nconst { expm1, min: fmin2 } = Math;\nconst {\n  MAX_VALUE: DBL_MAX,\n  MIN_VALUE: DBL_MIN,\n  EPSILON: DBL_EPSILON,\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  POSITIVE_INFINITY: ML_POSINF\n} = Number;\n\nconst printer = debug('_qnchisq');\n\nexport function qnchisq<T>(\n  pp: T,\n  df: number,\n  ncp = 0,\n  lowerTail = true,\n  logP = false\n): T {\n  return map(pp)(p => _qnchisq(p, df, ncp, lowerTail, logP)) as any;\n}\n\nfunction _qnchisq(\n  p: number,\n  df: number,\n  ncp: number,\n  lower_tail: boolean = true,\n  log_p: boolean = false\n): number {\n\n  printer('start');\n  \n  const accu = 1e-13;\n  const racc = 4 * DBL_EPSILON;\n  /* these two are for the \"search\" loops, can have less accuracy: */\n  const Eps = 1e-11; /* must be > accu */\n  const rEps = 1e-10; /* relative tolerance ... */\n\n  // double\n  let ux: number;\n  let lx: number;\n  let ux0: number;\n  let nx: number;\n  let pp: number;\n\n  if (ISNAN(p) || ISNAN(df) || ISNAN(ncp)) {\n    return NaN;\n  }\n\n  if (!R_FINITE(df)) {\n    return ML_ERR_return_NAN(printer);\n  }\n\n  /* Was\n     * df = floor(df + 0.5);\n     * if (df < 1 || ncp < 0) ML_ERR_return_NAN;\n     */\n  if (df < 0 || ncp < 0) {\n    return ML_ERR_return_NAN(printer);\n  }\n\n  let rc = R_Q_P01_boundaries(lower_tail, log_p, p, 0, ML_POSINF);\n  if (rc !== undefined) {\n    return rc;\n  }\n\n  pp = R_D_qIv(log_p, p);\n  if (pp > 1 - DBL_EPSILON) {\n    return lower_tail ? ML_POSINF : 0.0;\n  }\n\n  /* Invert pnchisq(.) :\n     * 1. finding an upper and lower bound */\n  {\n    /* This is Pearson's (1959) approximation,\n       which is usually good to 4 figs or so.  */\n    //double\n    let b;\n    let c;\n    let ff;\n    \n    b = ncp * ncp / (df + 3 * ncp);\n    c = (df + 3 * ncp) / (df + 2 * ncp);\n    ff = (df + 2 * ncp) / (c * c);\n    ux = b + c * qchisq(p, ff, lower_tail, log_p);\n    if (ux < 0) ux = 1;\n    ux0 = ux;\n  }\n\n  if (!lower_tail && ncp >= 80) {\n    /* in this case, pnchisq() works via lower_tail = TRUE */\n    if (pp < 1e-10) ML_ERROR(ME.ME_PRECISION, 'qnchisq', printer);\n    p = /* R_DT_qIv(p)*/ log_p ? -expm1(p) : 0.5 - p + 0.5;\n    lower_tail = true;\n  } else {\n    p = pp;\n  }\n\n  pp = fmin2(1 - DBL_EPSILON, p * (1 + Eps));\n  if (lower_tail) {\n    for (\n      ;\n      ux < DBL_MAX &&\n      pnchisq_raw(ux, df, ncp, Eps, rEps, 10000, true, false) < pp;\n      ux *= 2\n    );\n    pp = p * (1 - Eps);\n    for (\n      lx = fmin2(ux0, DBL_MAX);\n      lx > DBL_MIN &&\n      pnchisq_raw(lx, df, ncp, Eps, rEps, 10000, true, false) > pp;\n      lx *= 0.5\n    );\n  } else {\n    for (\n      ;\n      ux < DBL_MAX &&\n      pnchisq_raw(ux, df, ncp, Eps, rEps, 10000, false, false) > pp;\n      ux *= 2\n    );\n    pp = p * (1 - Eps);\n    for (\n      lx = fmin2(ux0, DBL_MAX);\n      lx > DBL_MIN &&\n      pnchisq_raw(lx, df, ncp, Eps, rEps, 10000, false, false) < pp;\n      lx *= 0.5\n    );\n  }\n\n  /* 2. interval (lx,ux)  halving : */\n  if (lower_tail) {\n    do {\n      nx = 0.5 * (lx + ux);\n      if (pnchisq_raw(nx, df, ncp, accu, racc, 100000, true, false) > p)\n        ux = nx;\n      else lx = nx;\n    } while ((ux - lx) / nx > accu);\n  } else {\n    do {\n      nx = 0.5 * (lx + ux);\n      if (\n        pnchisq_raw(nx, df, ncp, accu, racc, 100000, false, false) < p\n      )\n        ux = nx;\n      else lx = nx;\n    } while ((ux - lx) / nx > accu);\n  }\n  return 0.5 * (ux + lx);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/chi-2/qnchisq.ts","\n\nexport class NumberW {\n  private _val: number;\n  constructor(v: number = 0) {\n    this._val = v;\n  }\n  get val() {\n    return this._val;\n  }\n  set val(a: number) {\n    if (Number.isNaN(a)) {\n      throw new Error(`trying to set NaN, old value:${this._val}`);\n    }\n    this._val = a;\n\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/common/toms708/NumberW.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nconst { isFinite: R_FINITE, MIN_VALUE: DBL_MIN, NaN } = Number;\nconst { abs: fabs, log } = Math;\n\n\nexport function bd0(x: number, np: number): number {\n  let ej: number;\n\n  let s: number;\n\n  let s1: number;\n\n  let v: number;\n\n  let j: number;\n\n  if (!R_FINITE(x) || !R_FINITE(np) || np === 0.0) {\n    return NaN;\n  }\n\n  if (fabs(x - np) < 0.1 * (x + np)) {\n    v = (x - np) / (x + np); // might underflow to 0\n\n    s = (x - np) * v; // s using v -- change by MM\n\n    if (fabs(s) < DBL_MIN) return s;\n\n    ej = 2 * x * v;\n\n    v = v * v;\n\n    for (j = 1; j < 1000; j++) {\n      // Taylor series; 1000: no infinite loop\n\n      //\t\t\t\tas |v| < .1,  v^2000 is \"zero\"\n\n      ej *= v; // = v^(2j+1)\n\n      s1 = s + ej / ((j << 1) + 1);\n\n      if (s1 === s)\n        //* last term was effectively 0\n\n        return s1;\n\n      s = s1;\n    }\n  }\n\n  // else:  | x - np |  is not too small\n\n  return x * log(x / np) + np - x;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/deviance/bd0.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nexport * from './bd0';\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/deviance/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n\nimport { sinpi } from '../trigonometry';\n\nconst { PI: M_PI, log, exp, trunc } = Math;\n\nconst {\n  EPSILON: DBL_EPSILON,\n  MIN_VALUE: DBL_MIN,\n  POSITIVE_INFINITY: ML_POSINF\n} = Number;\n\n\nexport function Rf_gamma_cody(x: number) {\n  /*\n *\n *  NOTES\n   This routine calculates the GAMMA function for a float argument X.\n   Computation is based on an algorithm outlined in reference [1].\n   The program uses rational functions that approximate the GAMMA\n   function to at least 20 significant decimal digits.\tCoefficients\n   for the approximation over the interval (1,2) are unpublished.\n   Those for the approximation for X >= 12 are from reference [2].\n   The accuracy achieved depends on the arithmetic system, the\n   compiler, the intrinsic functions, and proper selection of the\n   machine-dependent constants.\n\n   *******************************************************************\n\n   Error returns\n\n   The program returns the value XINF for singularities or\n   when overflow would occur.\t The computation is believed\n   to be free of underflow and overflow.\n\n   Intrinsic functions required are:\n\n   INT, DBLE, EXP, LOG, REAL, SIN\n\n\n   References:\n   [1]  \"An Overview of Software Development for Special Functions\",\n  W. J. Cody, Lecture Notes in Mathematics, 506,\n  Numerical Analysis Dundee, 1975, G. A. Watson (ed.),\n  Springer Verlag, Berlin, 1976.\n\n   [2]  Computer Approximations, Hart, Et. Al., Wiley and sons, New York, 1968.\n\n   Latest modification: October 12, 1989\n\n   Authors: W. J. Cody and L. Stoltz\n   Applied Mathematics Division\n   Argonne National Laboratory\n   Argonne, IL 60439\n   ----------------------------------------------------------------------*/\n\n  /* ----------------------------------------------------------------------\n   Mathematical constants\n   ----------------------------------------------------------------------*/\n  const sqrtpi = 0.9189385332046727417803297; /* == ??? */\n\n  /* *******************************************************************\n\n   Explanation of machine-dependent constants\n\n   beta\t- radix for the floating-point representation\n   maxexp - the smallest positive power of beta that overflows\n   XBIG\t- the largest argument for which GAMMA(X) is representable\n  in the machine, i.e., the solution to the equation\n  GAMMA(XBIG) = beta**maxexp\n   XINF\t- the largest machine representable floating-point number;\n  approximately beta**maxexp\n   EPS\t- the smallest positive floating-point number such that  1.0+EPS > 1.0\n   XMININ - the smallest positive floating-point number such that\n  1/XMININ is machine representable\n\n   Approximate values for some important machines are:\n\n   beta\t      maxexp\t     XBIG\n\n   CRAY-1\t\t(S.P.)\t      2\t\t8191\t    966.961\n   Cyber 180/855\n   under NOS\t(S.P.)\t      2\t\t1070\t    177.803\n   IEEE (IBM/XT,\n   SUN, etc.)\t(S.P.)\t      2\t\t 128\t    35.040\n   IEEE (IBM/XT,\n   SUN, etc.)\t(D.P.)\t      2\t\t1024\t    171.624\n   IBM 3033\t(D.P.)\t     16\t\t  63\t    57.574\n   VAX D-Format\t(D.P.)\t      2\t\t 127\t    34.844\n   VAX G-Format\t(D.P.)\t      2\t\t1023\t    171.489\n\n   XINF\t EPS\t    XMININ\n\n   CRAY-1\t\t(S.P.)\t 5.45E+2465   7.11E-15\t  1.84E-2466\n   Cyber 180/855\n   under NOS\t(S.P.)\t 1.26E+322    3.55E-15\t  3.14E-294\n   IEEE (IBM/XT,\n   SUN, etc.)\t(S.P.)\t 3.40E+38     1.19E-7\t  1.18E-38\n   IEEE (IBM/XT,\n   SUN, etc.)\t(D.P.)\t 1.79D+308    2.22D-16\t  2.23D-308\n   IBM 3033\t(D.P.)\t 7.23D+75     2.22D-16\t  1.39D-76\n   VAX D-Format\t(D.P.)\t 1.70D+38     1.39D-17\t  5.88D-39\n   VAX G-Format\t(D.P.)\t 8.98D+307    1.11D-16\t  1.12D-308\n\n   *******************************************************************\n\n   ----------------------------------------------------------------------\n   Machine dependent parameters\n   ----------------------------------------------------------------------\n   */\n\n  const xbig = 171.624;\n  /* ML_POSINF ==   const double xinf = 1.79e308;*/\n  /* DBL_EPSILON = const double eps = 2.22e-16;*/\n  /* DBL_MIN ==   const double xminin = 2.23e-308;*/\n\n  /*----------------------------------------------------------------------\n  Numerator and denominator coefficients for rational minimax\n  approximation over (1,2).\n  ----------------------------------------------------------------------*/\n  const p = [\n    -1.71618513886549492533811,\n    24.7656508055759199108314,\n    -379.804256470945635097577,\n    629.331155312818442661052,\n    866.966202790413211295064,\n    -31451.2729688483675254357,\n    -36144.4134186911729807069,\n    66456.1438202405440627855\n  ];\n  const q = [\n    -30.8402300119738975254353,\n    315.350626979604161529144,\n    -1015.15636749021914166146,\n    -3107.77167157231109440444,\n    22538.1184209801510330112,\n    4755.84627752788110767815,\n    -134659.959864969306392456,\n    -115132.259675553483497211\n  ];\n  /*----------------------------------------------------------------------\n  Coefficients for minimax approximation over (12, INF).\n  ----------------------------------------------------------------------*/\n  const c = [\n    -0.001910444077728,\n    8.4171387781295e-4,\n    -5.952379913043012e-4,\n    7.93650793500350248e-4,\n    -0.002777777777777681622553,\n    0.08333333333333333331554247,\n    0.0057083835261\n  ];\n\n  /* Local variables */\n  //int\n  let i: number;\n  let n: number;\n  let parity: number; /*logical*/\n\n  //double\n  let fact: number;\n  let xden: number;\n  let xnum: number;\n  let y: number;\n  let z: number;\n  let yi: number;\n  let res: number;\n  let sum: number;\n  let ysq: number;\n\n  parity = 0;\n  fact = 1;\n  n = 0;\n  y = x;\n  if (y <= 0) {\n    /* -------------------------------------------------------------\n     Argument is negative\n     ------------------------------------------------------------- */\n    y = -x;\n    yi = trunc(y);\n    res = y - yi;\n    if (res !== 0) {\n      if (yi !== trunc(yi * 0.5) * 2) {\n        parity = 1;\n      }\n      fact = -M_PI / sinpi(res);\n      y += 1;\n    } else {\n      return ML_POSINF;\n    }\n  }\n  /* -----------------------------------------------------------------\n   Argument is positive\n   -----------------------------------------------------------------*/\n  if (y < DBL_EPSILON) {\n    /* --------------------------------------------------------------\n     Argument < EPS\n     -------------------------------------------------------------- */\n    if (y >= DBL_MIN) {\n      res = 1 / y;\n    } else {\n      return ML_POSINF;\n    }\n  } else if (y < 12) {\n    yi = y;\n    if (y < 1) {\n      /* ---------------------------------------------------------\n       EPS < argument < 1\n       --------------------------------------------------------- */\n      z = y;\n      y += 1;\n    } else {\n      /* -----------------------------------------------------------\n       1 <= argument < 12, reduce argument if necessary\n       ----------------------------------------------------------- */\n      n = trunc(y) - 1;\n      y -= n;\n      z = y - 1;\n    }\n    /* ---------------------------------------------------------\n     Evaluate approximation for 1. < argument < 2.\n     ---------------------------------------------------------*/\n    xnum = 0;\n    xden = 1;\n    for (i = 0; i < 8; ++i) {\n      xnum = (xnum + p[i]) * z;\n      xden = xden * z + q[i];\n    }\n    res = xnum / xden + 1;\n    if (yi < y) {\n      /* --------------------------------------------------------\n       Adjust result for case  0. < argument < 1.\n       -------------------------------------------------------- */\n      res /= yi;\n    } else if (yi > y) {\n      /* ----------------------------------------------------------\n       Adjust result for case  2. < argument < 12.\n       ---------------------------------------------------------- */\n      for (i = 0; i < n; ++i) {\n        res *= y;\n        y += 1;\n      }\n    }\n  } else {\n    /* -------------------------------------------------------------\n     Evaluate for argument >= 12.,\n     ------------------------------------------------------------- */\n    if (y <= xbig) {\n      ysq = y * y;\n      sum = c[6];\n      for (i = 0; i < 6; ++i) {\n        sum = sum / ysq + c[i];\n      }\n      sum = sum / y - y + sqrtpi;\n      sum += (y - 0.5) * log(y);\n      res = exp(sum);\n    } else {\n      return ML_POSINF;\n    }\n  }\n  /* ----------------------------------------------------------------------\n   Final adjustments and return\n   ----------------------------------------------------------------------*/\n  if (parity) res = -res;\n  if (fact !== 1) res = fact / res;\n  return res;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/gamma_cody.ts","\n/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport {\n  fmod,\n  M_LN_SQRT_2PI, // no math alias for this\n  M_LN_SQRT_PId2,\n  ME,\n  ML_ERR_return_NAN,\n  ML_ERROR\n} from '../common/_general';\n\nimport { sinpi } from '../trigonometry';\nimport { gammafn } from './gamma_fn';\nimport { lgammacor } from './lgammacor';\n\nconst { isNaN: ISNAN, POSITIVE_INFINITY: ML_POSINF } = Number;\nconst { log, abs: fabs, floor, trunc } = Math;\n\n\nconst printer_sign = debug('lgammafn_sign');\n\nconst xmax = 2.5327372760800758e305;\nconst dxrel = 1.490116119384765625e-8;\n\nexport function lgammafn_sign(x: number, sgn?: number[]): number {\n  let ans: number;\n  let y: number;\n  let sinpiy: number;\n\n  /*\n  #ifdef NOMORE_FOR_THREADS\n    static double xmax = 0.;\n    static double dxrel = 0.;\n \n    if (xmax == 0) {// initialize machine dependent constants _ONCE_ \n        xmax = d1mach(2) / log(d1mach(2));// = 2.533 e305\t for IEEE double \n        dxrel = sqrt(d1mach(4));// sqrt(Eps) ~ 1.49 e-8  for IEEE double \n    }\n    #else*/\n  // For IEEE double precision DBL_EPSILON = 2^-52 = 2.220446049250313e-16 :\n  //   xmax  = DBL_MAX / log(DBL_MAX) = 2^1024 / (1024 * log(2)) = 2^1014 / log(2)\n  //   dxrel = sqrt(DBL_EPSILON) = 2^-26 = 5^26 * 1e-26 (is *exact* below !)\n  //\n\n  if (sgn) sgn[0] = 1;\n\n  //#ifdef IEEE_754\n  if (ISNAN(x)) return x;\n  //#endif\n\n  if (sgn && x < 0 && fmod(floor(-x), 2) === 0) {\n    sgn[0] = -1;\n  }\n\n  if (x <= 0 && x === trunc(x)) {\n    /// Negative integer argument\n    ML_ERROR(ME.ME_RANGE, 'lgamma', printer_sign);\n    return ML_POSINF; // +Inf, since lgamma(x) = log|gamma(x)|\n  }\n\n  y = fabs(x);\n\n  if (y < 1e-306) return -log(y); // denormalized range, R change\n  if (y <= 10) return log(fabs(gammafn(x) as number));\n\n  //  ELSE  y = |x| > 10 ----------------------\n\n  if (y > xmax) {\n    ML_ERROR(ME.ME_RANGE, 'lgamma', printer_sign);\n    return ML_POSINF;\n  }\n\n  if (x > 0) {\n    // i.e. y = x > 10\n    //#ifdef IEEE_754\n    if (x > 1e17) return x * (log(x) - 1);\n    else if (x > 4934720) return M_LN_SQRT_2PI + (x - 0.5) * log(x) - x;\n    else return M_LN_SQRT_2PI + (x - 0.5) * log(x) - x + lgammacor(x);\n  }\n  // else: x < -10; y = -x\n  sinpiy = fabs(sinpi(y));\n\n  if (sinpiy === 0) {\n    // Negative integer argument ===\n    //Now UNNECESSARY: caught above\n    printer_sign(' ** should NEVER happen! *** [lgamma.c: Neg.int, y=%d]', y);\n    return ML_ERR_return_NAN(printer_sign);\n  }\n\n  ans = M_LN_SQRT_PId2 + (x - 0.5) * log(y) - x - log(sinpiy) - lgammacor(y);\n\n  if (fabs((x - Math.trunc(x - 0.5)) * ans / x) < dxrel) {\n    // The answer is less than half precision because\n    // the argument is too near a negative integer.\n\n    ML_ERROR(ME.ME_PRECISION, 'lgamma', printer_sign);\n  }\n\n  return ans;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/lgammafn_sign.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport {\n  M_LN2,\n  ML_ERR_return_NAN,\n  R_D__0,\n  R_Q_P01_boundaries,\n  R_Q_P01_check\n} from '../common/_general';\n\nimport { R_DT_Clog, R_DT_log, R_DT_qIv } from '../exp/expm1';\n\nimport { dgamma } from '../gamma/dgamma';\nimport { lgammafn } from '../gamma/lgamma_fn';\nimport { pgamma } from '../gamma/pgamma';\n\nimport { pgamma_raw } from './pgamma';\n\nimport { lgamma1p } from './pgamma';\n\nimport { qnorm } from '../normal/qnorm';\nconst { isArray } = Array;\n\nconst { abs: fabs, sqrt, pow, exp, log } = Math;\nconst {\n  isNaN: ISNAN,\n  POSITIVE_INFINITY: ML_POSINF,\n  NEGATIVE_INFINITY: ML_NEGINF,\n  MIN_VALUE: DBL_MIN,\n  isFinite: R_FINITE\n} = Number;\n\nconst printer_qchisq_appr = debug('qchisq_appr');\n\nexport function qchisq_appr(\n  p: number,\n  nu: number,\n  g: number /* = log Gamma(nu/2) */,\n  lower_tail: boolean,\n  log_p: boolean,\n  tol: number /* EPS1 */,\n  //normal: INormal\n): number {\n  const C7 = 4.67;\n  const C8 = 6.66;\n  const C9 = 6.73;\n  const C10 = 13.32;\n\n  let alpha;\n  let a;\n  let c;\n  let ch;\n  let p1;\n  let p2;\n  let q;\n  let t;\n  let x;\n\n  /* test arguments and initialise */\n\n  if (ISNAN(p) || ISNAN(nu)) return p + nu;\n\n  let rc = R_Q_P01_check(log_p, p);\n  if (rc !== undefined) {\n    return rc;\n  }\n  if (nu <= 0) {\n    return ML_ERR_return_NAN(printer_qchisq_appr);\n  }\n\n  alpha = 0.5 * nu; /* = [pq]gamma() shape */\n  c = alpha - 1;\n\n  if (nu < -1.24 * (p1 = R_DT_log(lower_tail, log_p, p))) {\n    /* for small chi-squared */\n    /* log(alpha) + g = log(alpha) + log(gamma(alpha)) =\n         *        = log(alpha*gamma(alpha)) = lgamma(alpha+1) suffers from\n         *  catastrophic cancellation when alpha << 1\n         */\n    let lgam1pa = alpha < 0.5 ? lgamma1p(alpha) : log(alpha) + g;\n    ch = exp((lgam1pa + p1) / alpha + M_LN2);\n\n    printer_qchisq_appr(' small chi-sq., ch0 = %d', ch);\n  } else if (nu > 0.32) {\n    /*  using Wilson and Hilferty estimate */\n\n    x = qnorm(p, 0, 1, lower_tail, log_p);\n    p1 = 2 / (9 * nu);\n    ch = nu * pow(x * sqrt(p1) + 1 - p1, 3);\n\n    printer_qchisq_appr(' nu > .32: Wilson-Hilferty; x = %d', x);\n\n    /* approximation for p tending to 1: */\n    if (ch > 2.2 * nu + 6)\n      ch = -2 * (R_DT_Clog(lower_tail, log_p, p) - c * log(0.5 * ch) + g);\n  } else {\n    /* \"small nu\" : 1.24*(-log(p)) <= nu <= 0.32 */\n\n    ch = 0.4;\n    a = R_DT_Clog(lower_tail, log_p, p) + g + c * M_LN2;\n\n    printer_qchisq_appr(' nu <= .32: a = %d', a);\n\n    do {\n      q = ch;\n      p1 = 1 / (1 + ch * (C7 + ch));\n      p2 = ch * (C9 + ch * (C8 + ch));\n      t = -0.5 + (C7 + 2 * ch) * p1 - (C9 + ch * (C10 + 3 * ch)) / p2;\n      ch -= (1 - exp(a + 0.5 * ch) * p2 * p1) / t;\n    } while (fabs(q - ch) > tol * fabs(ch));\n  }\n\n  return ch;\n}\n\nexport function qgamma<T>(\n  p: T,\n  alpha: number = 1, //named shape\n  scale: number = 1, //not the \"rate\"\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  const fa: number[] = isArray(p) ? p : ([p] as any);\n  const result = fa.map(pp =>\n    _qgamma(pp, alpha, scale, lowerTail, logP)\n  );\n\n  return result.length === 1 ? result[0] : (result as any);\n}\n\nconst printer_qgamma = debug('_qgamma');\n\nexport function _qgamma(\n  p: number,\n  alpha: number = 1,\n  scale: number = 1 / alpha,\n  lower_tail: boolean = true,\n  log_p: boolean = false,\n  //normal: INormal\n): number {\n  /*\t\t\tshape = alpha */\n  const EPS1 = 1e-2;\n  const EPS2 = 5e-7; /* final precision of AS 91 */\n  const EPS_N = 1e-15; /* precision of Newton step / iterations */\n\n  // LN_EPS unused\n  //const LN_EPS = -36.043653389117156; /* = log(.Machine$double.eps) iff IEEE_754 */\n\n  const MAXIT = 1000; /* was 20 */\n\n  const pMIN = 1e-100; /* was 0.000002 = 2e-6 */\n  const pMAX = 1 - 1e-14; /* was (1-1e-12) and 0.999998 = 1 - 2e-6 */\n\n  const i420 = 1 / 420;\n  const i2520 = 1 / 2520;\n  const i5040 = 1 / 5040;\n\n  let p_;\n  let a;\n  let b;\n  let c;\n  let g;\n  let ch;\n  let ch0;\n  let p1;\n  let p2;\n  let s1;\n  let s2;\n  let s3;\n  let s4;\n  let s5;\n  let s6;\n  let t;\n  let x;\n  let i;\n  let max_it_Newton = 1;\n\n  let q: number = 0;\n\n  /* test arguments and initialise */\n\n  let goto_END = false;\n\n  if (ISNAN(p) || ISNAN(alpha) || ISNAN(scale)) return p + alpha + scale;\n\n  let rc = R_Q_P01_boundaries(lower_tail, log_p, p, 0, ML_POSINF);\n  if (rc !== undefined) {\n    return rc;\n  }\n  if (alpha < 0 || scale <= 0) return ML_ERR_return_NAN(printer_qgamma);\n\n  if (alpha === 0) /* all mass at 0 : */ return 0;\n\n  if (alpha < 1e-10) {\n    /* Warning seems unnecessary now: */\n\n    printer_qgamma(\n      'value of shape (%d) is extremely small: results may be unreliable',\n      alpha\n    );\n\n    max_it_Newton = 7; /* may still be increased below */\n  }\n\n  p_ = R_DT_qIv(lower_tail, log_p, p); /* lower_tail prob (in any case) */\n\n  printer_qgamma(\n    'qgamma(p=%d, alpha=%d, scale=%d, l.t.=%s, log_p=%s): ',\n    p,\n    alpha,\n    scale,\n    lower_tail,\n    log_p\n  );\n\n  g = lgammafn(alpha); /* log Gamma(v/2) */\n\n  /*----- Phase I : Starting Approximation */\n  ch = qchisq_appr(\n    p,\n    /* nu= 'df' =  */ 2 * alpha,\n    /* lgamma(nu/2)= */ g,\n    lower_tail,\n    log_p,\n    /* tol= */ EPS1\n  );\n  if (!R_FINITE(ch)) {\n    /* forget about all iterations! */\n    max_it_Newton = 0;\n    goto_END = true;\n    //  goto END;\n  }\n  if (goto_END === false) {\n    if (ch < EPS2) {\n      /* Corrected according to AS 91; MM, May 25, 1999 */\n      max_it_Newton = 20;\n      // goto END;/* and do Newton steps */\n      goto_END = true;\n    }\n  }\n\n  /* FIXME: This (cutoff to {0, +Inf}) is far from optimal\n     * -----  when log_p or !lower_tail, but NOT doing it can be even worse */\n  if (goto_END === false) {\n    if (p_ > pMAX || p_ < pMIN) {\n      /* did return ML_POSINF or 0.;\tmuch better: */\n      max_it_Newton = 20;\n      goto_END = true;\n      //goto END;/* and do Newton steps */\n    }\n  }\n\n  if (goto_END === false) {\n    printer_qgamma('\\t==> ch = %d:', ch);\n\n    /*----- Phase II: Iteration\n         *\tCall pgamma() [AS 239]\tand calculate seven term taylor series\n         */\n    c = alpha - 1;\n    s6 = (120 + c * (346 + 127 * c)) * i5040; /* used below, is \"const\" */\n\n    ch0 = ch; /* save initial approx. */\n    for (i = 1; i <= MAXIT; i++) {\n      q = ch;\n      p1 = 0.5 * ch;\n      p2 =\n        p_ -\n        pgamma_raw(p1, alpha, /*lower_tail*/ true, /*log_p*/ false);\n\n      if (i === 1) printer_qgamma(' Ph.II iter; ch=%d, p2=%d', ch, p2);\n      if (i >= 2) printer_qgamma('     it=%d,  ch=%d, p2=%d', i, ch, p2);\n\n      if (!R_FINITE(p2) || ch <= 0) {\n        ch = ch0;\n        max_it_Newton = 27;\n        goto_END = true;\n        break;\n        //goto END;\n      } /*was  return ML_NAN;*/\n\n      t = p2 * exp(alpha * M_LN2 + g + p1 - c * log(ch));\n      b = t / ch;\n      a = 0.5 * t - b * c;\n      s1 = (210 + a * (140 + a * (105 + a * (84 + a * (70 + 60 * a))))) * i420;\n      s2 = (420 + a * (735 + a * (966 + a * (1141 + 1278 * a)))) * i2520;\n      s3 = (210 + a * (462 + a * (707 + 932 * a))) * i2520;\n      s4 =\n        (252 + a * (672 + 1182 * a) + c * (294 + a * (889 + 1740 * a))) * i5040;\n      s5 = (84 + 2264 * a + c * (1175 + 606 * a)) * i2520;\n\n      ch +=\n        t *\n        (1 +\n          0.5 * t * s1 -\n          b * c * (s1 - b * (s2 - b * (s3 - b * (s4 - b * (s5 - b * s6))))));\n      if (fabs(q - ch) < EPS2 * ch) {\n        //   goto END;\n        goto_END = true;\n        break;\n      }\n      if (fabs(q - ch) > 0.1 * ch) {\n        /* diverging? -- also forces ch > 0 */\n        if (ch < q) ch = 0.9 * q;\n        else ch = 1.1 * q;\n      }\n    }\n    /* no convergence in MAXIT iterations -- but we add Newton now... */\n\n    printer_qgamma(\n      'qgamma(%d) not converged in %d iterations; rel.ch=%d',\n      p,\n      MAXIT,\n      ch / fabs(q - ch)\n    );\n\n    /* was\n         *    ML_ERROR(ME_PRECISION, \"qgamma\");\n         * does nothing in R !*/\n  }\n  //END:\n  /* PR# 2214 :\t From: Morten Welinder <terra@diku.dk>, Fri, 25 Oct 2002 16:50\n       --------\t To: R-bugs@biostat.ku.dk     Subject: qgamma precision\n    \n       * With a final Newton step, double accuracy, e.g. for (p= 7e-4; nu= 0.9)\n       *\n       * Improved (MM): - only if rel.Err > EPS_N (= 1e-15);\n       *\t\t    - also for lower_tail = FALSE\t or log_p = TRUE\n       *\t\t    - optionally *iterate* Newton\n       */\n  x = 0.5 * scale * ch;\n  if (max_it_Newton) {\n    /* always use log scale */\n    if (!log_p) {\n      p = log(p);\n      log_p = true;\n    }\n    if (x === 0) {\n      const _1_p = 1 + 1e-7;\n      const _1_m = 1 - 1e-7;\n      x = DBL_MIN;\n      p_ = pgamma(x, alpha, scale, lower_tail, log_p);\n      if ((lower_tail && p_ > p * _1_p) || (!lower_tail && p_ < p * _1_m))\n        return 0;\n      /* else:  continue, using x = DBL_MIN instead of  0  */\n    } else p_ = pgamma(x, alpha, scale, lower_tail, log_p);\n    if (p_ === ML_NEGINF) return 0; /* PR#14710 */\n    for (i = 1; i <= max_it_Newton; i++) {\n      p1 = p_ - p;\n\n      if (i === 1)\n        printer_qgamma(\n          ' it=%d: p=%d, x = %d, p.=%d; p1=d{p}=%d',\n          i,\n          p,\n          x,\n          p_,\n          p1\n        );\n      if (i >= 2)\n        printer_qgamma(\n          '          x{it= %d} = %d, p.=%d, p1=d{p}=%d',\n          i,\n          x,\n          p_,\n          p1\n        );\n\n      if (fabs(p1) < fabs(EPS_N * p)) break;\n      /* else */\n      g = dgamma(x, alpha, scale, log_p);\n      if (g === R_D__0(log_p)) {\n        if (i === 1)\n          printer_qgamma('no final Newton step because dgamma(*)== 0!');\n        break;\n      }\n      /* else :\n             * delta x = f(x)/f'(x);\n             * if(log_p) f(x) := log P(x) - p; f'(x) = d/dx log P(x) = P' / P\n             * ==> f(x)/f'(x) = f*P / P' = f*exp(p_) / P' (since p_ = log P(x))\n             */\n      t = log_p ? p1 * exp(p_ - g) : p1 / g; /* = \"delta x\" */\n      t = lower_tail ? x - t : x + t;\n      p_ = pgamma(t, alpha, scale, lower_tail, log_p);\n      if (\n        fabs(p_ - p) > fabs(p1) ||\n        (i > 1 && fabs(p_ - p) === fabs(p1)) /* <- against flip-flop */\n      ) {\n        /* no improvement */\n\n        if (i === 1 && max_it_Newton > 1)\n          printer_qgamma('no Newton step done since delta{p} >= last delta');\n\n        break;\n      } /* else : */\n\n      /* control step length: this could have started at\n               the initial approximation */\n      if (t > 1.1 * x) t = 1.1 * x;\n      else if (t < 0.9 * x) t = 0.9 * x;\n\n      x = t;\n    }\n  }\n\n  return x;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/qgamma.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport { map } from '../r-func';\n\nimport {\n  ML_ERR_return_NAN,\n  R_D__0,\n  R_D__1,\n  R_D_negInonint,\n  R_D_nonint_check\n} from '../common/_general';\n\nimport { dbinom_raw } from '../binomial/dbinom';\n\nconst printer = debug('dhyper');\nconst { round: R_forceint } = Math;\nconst { isNaN: ISNAN } = Number;\n\nexport function dhyper<T>(\n  xx: T,\n  r: number,\n  b: number,\n  n: number,\n  give_log: boolean = false\n): T {\n  return map(xx)(x => {\n    let p: number;\n    let q: number;\n    let p1: number;\n    let p2: number;\n    let p3: number;\n\n    if (ISNAN(x) || ISNAN(r) || ISNAN(b) || ISNAN(n)) return x + r + b + n;\n\n    if (\n      R_D_negInonint(r) ||\n      R_D_negInonint(b) ||\n      R_D_negInonint(n) ||\n      n > r + b\n    )\n      return ML_ERR_return_NAN(printer);\n    if (x < 0) return R_D__0(give_log);\n    let rc = R_D_nonint_check(give_log, x, printer); // incl warning\n    if (rc !== undefined) {\n      return rc;\n    }\n    x = R_forceint(x);\n    r = R_forceint(r);\n    b = R_forceint(b);\n    n = R_forceint(n);\n\n    if (n < x || r < x || n - x > b) return R_D__0(give_log);\n    if (n === 0) return x === 0 ? R_D__1(give_log) : R_D__0(give_log);\n\n    p = n / (r + b);\n    q = (r + b - n) / (r + b);\n\n    p1 = dbinom_raw(x, r, p, q, give_log);\n    p2 = dbinom_raw(n - x, b, p, q, give_log);\n    p3 = dbinom_raw(n, r + b, p, q, give_log);\n\n    return give_log ? p1 + p2 - p3 : p1 * p2 / p3;\n  }) as any;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/hypergeometric/dhyper.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_Q_P01_boundaries } from '../common/_general';\nimport { R_DT_qIv } from '../exp/expm1';\nimport { map } from '../r-func';\nimport { lfastchoose } from './lfastchoose';\n\nconst { log, exp, min: fmin2, max: fmax2, round: R_forceint } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE, EPSILON: DBL_EPSILON } = Number;\n\nconst printer_qhyper = debug('qhyper');\n\nexport function qhyper<T>(\n  pp: T,\n  nr: number,\n  nb: number,\n  n: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  return map(pp)(p => {\n    /* This is basically the same code as  ./phyper.c  *used* to be --> FIXME! */\n    let N;\n    let xstart;\n    let xend;\n    let xr;\n    let xb;\n    let sum;\n    let term;\n    let small_N;\n\n    if (ISNAN(p) || ISNAN(nr) || ISNAN(nb) || ISNAN(n)) return NaN;\n\n    if (/*!R_FINITE(p) ||*/ !R_FINITE(nr) || !R_FINITE(nb) || !R_FINITE(n))\n      return ML_ERR_return_NAN(printer_qhyper);\n\n    let NR = R_forceint(nr);\n    let NB = R_forceint(nb);\n    N = NR + NB;\n    n = R_forceint(n);\n    if (NR < 0 || NB < 0 || n < 0 || n > N)\n      return ML_ERR_return_NAN(printer_qhyper);\n\n    /* Goal:  Find  xr (= #{red balls in sample}) such that\n     *   phyper(xr,  NR,NB, n) >= p > phyper(xr - 1,  NR,NB, n)\n     */\n\n    xstart = fmax2(0, n - NB);\n    xend = fmin2(n, NR);\n\n    let rc = R_Q_P01_boundaries(lowerTail, logP, p, xstart, xend);\n    if (rc !== undefined) {\n      return rc;\n    }\n    xr = xstart;\n    xb = n - xr; /* always ( = #{black balls in sample} ) */\n\n    small_N = N < 1000; /* won't have underflow in product below */\n    /* if N is small,  term := product.ratio( bin.coef );\n       otherwise work with its logarithm to protect against underflow */\n    term = lfastchoose(NR, xr) + lfastchoose(NB, xb) - lfastchoose(N, n);\n    if (small_N) term = exp(term);\n    NR -= xr;\n    NB -= xb;\n\n    if (!lowerTail || logP) {\n      p = R_DT_qIv(lowerTail, logP, p);\n    }\n    p *= 1 - 1000 * DBL_EPSILON; /* was 64, but failed on FreeBSD sometimes */\n    sum = small_N ? term : exp(term);\n\n    while (sum < p && xr < xend) {\n      xr++;\n      NB++;\n      if (small_N) term *= NR / xr * (xb / NB);\n      else term += log(NR / xr * (xb / NB));\n      sum += small_N ? term : exp(term);\n      xb--;\n      NR--;\n    }\n    return xr;\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/hypergeometric/qhyper.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 16, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *    The distribution function of the Poisson distribution.\n */\n\nimport { ML_ERR_return_NAN, R_DT_0, R_DT_1 } from '../common/_general';\n\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst { floor, max: fmax2 } = Math;\n\nimport * as debug from 'debug';\nimport { NumberW } from '../common/toms708';\nimport { pgamma } from '../gamma/pgamma';\nimport { map } from '../r-func';\n\nconst printer = debug('ppois');\n\nexport function ppois<T>(\n  _x: T,\n  lambda: number,\n  lowerTail: boolean = true,\n  logP: boolean = false,\n  //normal: INormal //pass it on to \"pgamma\"->\"pgamma_raw\"->\"ppois_asymp\"->(dpnorm??)->(\"normal.pnorm\")  \n): T {\n\n  return map(_x)(x => {\n    if (ISNAN(x) || ISNAN(lambda)) return x + lambda;\n\n    if (lambda < 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n    if (x < 0) return R_DT_0(lowerTail, logP);\n    if (lambda === 0) return R_DT_1(lowerTail, logP);\n    if (!R_FINITE(x)) return R_DT_1(lowerTail, logP);\n    x = floor(x + 1e-7);\n\n    return pgamma(lambda, x + 1, 1, !lowerTail, logP);\n  }) as any;\n\n}\n\nexport function do_search(\n  y: number,\n  z: NumberW,\n  p: number,\n  lambda: number,\n  incr: number,\n // normal: INormal\n): number {\n  if (z.val >= p) {\n    /* search to the left */\n    while (true) {\n      if (\n        y === 0 ||\n        (z.val = ppois(\n          y - incr,\n          lambda,\n          /*l._t.*/ true,\n          /*log_p*/ false,\n         // normal\n        )) < p\n      )\n        return y;\n      y = fmax2(0, y - incr);\n    }\n  } else {\n    /* search to the right */\n\n    while (true) {\n      y = y + incr;\n      if (\n        (z.val = ppois(y, lambda, /*l._t.*/ true, /*log_p*/ false/*, normal*/)) >= p\n      )\n        return y;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/poisson/ppois.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n *  ORGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998   Ross Ihaka\n *  Copyright (C) 2000-9 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *    #include <Rmath.h>\n *    double norm_rand(void);\n *\n *  DESCRIPTION\n *\n *    Random variates from the STANDARD normal distribution  N(0,1).\n *\n * Is called from  rnorm(..), but also rt(), rf(), rgamma(), ...\n */\n\n/*\n *  REFERENCE\n *\n *    Ahrens, J.H. and Dieter, U.\n *    Extensions of Forsythe's method for random sampling from\n *    the normal distribution.\n *    Math. Comput. 27, 927-937.\n *\n *    The definitions of the constants a[k], d[k], t[k] and\n *    h[k] are according to the abovementioned article\n */\n\n/*-----------------------------------------------------------*/\n\nimport { IRNG } from '../';\nimport { qnorm } from '../../normal/qnorm';\nimport { MersenneTwister } from '../mersenne-twister';\nimport { IRNGNormal } from './inormal-rng';\n\nconst BIG = 134217728; /* 2^27 */\n\nconst { isArray } = Array;\nexport class Inversion extends IRNGNormal {\n  constructor(_rng: IRNG  = new MersenneTwister(0) ) {\n    super(_rng);\n  }\n\n  protected internal_norm_rand(): number {\n    /* unif_rand() alone is not of high enough precision */\n    let u1 = this.rng.unif_rand() as number;\n    let t =  this.rng.unif_rand() as number;\n    u1 = new Int32Array([BIG * u1])[0] + t;\n    const result = qnorm(u1 / BIG, 0.0, 1.0, !!1, !!0);\n    return isArray(result) ? result[0] : result;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/normal/inversion.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n * ORGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1999-2014  The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *    #include <Rmath.h>\n *    double dsignrank(double x, double n, int give_log)\n *    double psignrank(double x, double n, int lower_tail, int log_p)\n *    double qsignrank(double x, double n, int lower_tail, int log_p)\n *    double rsignrank(double n)\n *\n *  DESCRIPTION\n *\n *    dsignrank\t   The density of the Wilcoxon Signed Rank distribution.\n *    psignrank\t   The distribution function of the Wilcoxon Signed Rank\n *\t\t   distribution.\n *    qsignrank\t   The quantile function of the Wilcoxon Signed Rank\n *\t\t   distribution.\n *    rsignrank\t   Random variates from the Wilcoxon Signed Rank\n *\t\t   distribution.\n */\nimport * as debug from 'debug';\n\nimport {\n  imin2,\n  ML_ERR_return_NAN,\n  R_D__0,\n  R_D_exp,\n  R_DT_0,\n  R_DT_1,\n  R_DT_val,\n  R_Q_P01_check\n} from '../common/_general';\n\nimport { R_DT_qIv } from '../exp/expm1';\n\nimport { IRNG } from '../rng';\n\nconst { isFinite: R_FINITE, EPSILON: DBL_EPSILON, isNaN: ISNAN } = Number;\nconst {\n  LN2: M_LN2,\n  abs: fabs,\n  trunc,\n  log,\n  exp,\n  floor,\n  round\n} = Math;\n\nconst printer_dsignrank = debug('dsignrank');\nconst printer_psignrank = debug('psignrank');\nconst printer_qsignrank = debug('qsignrank');\nconst printer_rsignrank = debug('rsignrank');\n\nexport function csignrank(\n  k: number,\n  n: number,\n  u: number,\n  c: number,\n  w: number[]\n): number {\n  if (k < 0 || k > u) return 0;\n  if (k > c) k = u - k;\n\n  if (n === 1) return 1;\n  if (w[0] === 1) return w[k];\n  w[0] = w[1] = 1;\n  for (let j = 2; j < n + 1; ++j) {\n    let i;\n    let end = imin2(j * (j + 1) / 2, c);\n    for (i = end; i >= j; --i) w[i] += w[i - j];\n  }\n  return w[k];\n}\n\nexport function dsignrank<T>(xx: T, n: number, logX: boolean = false): T {\n  const rn = round(n);\n  const u = rn * (rn + 1) / 2;\n  const c = trunc(u / 2);\n  const w = new Array(c + 1).fill(0);\n\n  const fx: number[] = (Array.isArray(xx) ? xx : [xx]) as any;\n  const result = fx.map(x => {\n    if (ISNAN(x) || ISNAN(n)) return x + n;\n\n    if (n <= 0) {\n      return ML_ERR_return_NAN(printer_dsignrank);\n    }\n    if (fabs(x - round(x)) > 1e-7) {\n      return R_D__0(logX);\n    }\n    x = round(x);\n    if (x < 0 || x > n * (n + 1) / 2) {\n      return R_D__0(logX);\n    }\n    let d = R_D_exp(logX, log(csignrank(trunc(x), n, u, c, w)) - n * M_LN2);\n    return d;\n  });\n  return (result.length === 1 ? result[0] : result) as any;\n}\n\nexport function psignrank<T>(\n  xx: T,\n  n: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  const roundN = round(n);\n  const u = roundN * (roundN + 1) / 2;\n  const c = trunc(u / 2);\n  const w = new Array(c + 1).fill(0);\n\n  const fx: number[] = (Array.isArray(xx) ? xx : [xx]) as any;\n\n  const result = fx.map(x => round(x + 1e-7)).map(x => {\n    let lowerT = lowerTail; // temp copy on each iteration\n    if (ISNAN(x) || ISNAN(n)) return x + n;\n    if (!R_FINITE(n)) return ML_ERR_return_NAN(printer_psignrank);\n    if (n <= 0) return ML_ERR_return_NAN(printer_psignrank);\n\n    if (x < 0.0) {\n      return R_DT_0(lowerTail, logP);\n    }\n\n    if (x >= u) {\n      return  R_DT_1(lowerTail, logP); //returns 1 on the edge case or 0 (because log(1)= 0)\n    }\n    let f = exp(-roundN * M_LN2);\n    let p = 0;\n    if (x <= u / 2) {\n      //smaller then mean\n      for (let i = 0; i <= x; i++) {\n        p += csignrank(i, roundN, u, c, w) * f;\n      }\n    } else {\n      x = n * (n + 1) / 2 - x;\n      for (let i = 0; i < x; i++) {\n        p += csignrank(i, roundN, u, c, w) * f;\n      }\n      lowerT = !lowerT; /* p = 1 - p; */\n    }\n    return R_DT_val(lowerT, logP, p);\n  });\n  return (result.length === 1 ? result[0] : result) as any;\n} /* psignrank() */\n\nexport function qsignrank<T>(\n  xx: T,\n  n: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n\n  const roundN = round(n);\n  const u = roundN * (roundN + 1) / 2;\n  const c = trunc(u / 2);\n  const w = new Array(c + 1).fill(0);\n  \n  const fx: number[] = (Array.isArray(xx) ? xx : [xx]) as any;\n \n  const result = fx.map(x => {\n    if (ISNAN(x) || ISNAN(n)) {\n      return x + n;\n    }\n\n    if (!R_FINITE(x) || !R_FINITE(n)) {\n      return ML_ERR_return_NAN(printer_qsignrank);\n    }\n    let rc = R_Q_P01_check(logP, x);\n    if (rc !== undefined) {\n      return rc;\n    }\n\n    if (roundN <= 0) {return ML_ERR_return_NAN(printer_qsignrank); }\n\n    if (x === R_DT_0(lowerTail, logP)) {\n      return 0;\n    }\n    if (x === R_DT_1(lowerTail, logP)) {\n      return u;\n    }\n\n    if (logP || !lowerTail)\n      x = R_DT_qIv(lowerTail, logP, x); // lower_tail, non-log \"p\" \n\n    //this.w_init_maybe(n);\n    let f = exp(-n * M_LN2);\n    let p = 0;\n    let q = 0;\n    if (x <= 0.5) {\n      x = x - 10 * DBL_EPSILON;\n      while (true) {\n        p += csignrank(q, roundN, u, c, w) * f;\n        if (p >= x) break;\n        q++;\n      }\n    } else {\n      x = 1 - x + 10 * DBL_EPSILON;\n      while (true) {\n        p += csignrank(q, roundN, u, c, w) * f;\n        if (p > x) {\n          q = trunc(u - q);\n          break;\n        }\n        q++;\n      }\n    }\n    return q;\n  });\n  return (result.length === 1 ? result[0] : result) as any;\n}\n\nexport function rsignrank(nn: number, n: number, rng: IRNG): number | number[] {\n  const result = new Array(nn).fill(0).map(() => {\n    /* NaNs propagated correctly */\n    if (ISNAN(n)) return n;\n    const nRound = round(n);\n    if (nRound < 0) return ML_ERR_return_NAN(printer_rsignrank);\n\n    if (nRound === 0) return 0;\n    let r = 0.0;\n    let k = floor(nRound);\n    for (let i = 0; i < k /**/; ) {\n      r += ++i * floor((rng.unif_rand() as number) + 0.5);\n    }\n    return r;\n  });\n  return result.length === 1 ? result[0] : result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/signrank/signrank.ts","/*\n *  AUTHOR\n * \n *  Jacob Bogers, jkfbogers@gmail.com\n *  Januari 22, 2017\n * \n *  ORIGINAL AUTHOR\n *    Catherine Loader, catherine@research.bell-labs.com.\n *    October 23, 2000.\n *\n *  Merge in to R:\n *  Copyright (C) 2000, The R Core Team\n *  R has lgammafn, and lgamma is not part of ISO C\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n * \n *  License for JS language implementation\n *  https://www.jacob-bogers/libRmath.js/Licenses/\n * \n *  License for R statistical package\n *  https://www.r-project.org/Licenses/\n *\n *\n *  DESCRIPTION\n *\n *    Computes the log of the error term in Stirling's formula.\n *      For n > 15, uses the series 1/12n - 1/360n^3 + ...\n *      For n <=15, integers or half-integers, uses stored values.\n *      For other n < 15, uses lgamma directly (don't use this to\n *        write lgamma!)\n *\n */\n\nimport { M_LN_SQRT_2PI } from '../common/_general';\nimport { lgammafn } from '../gamma/lgamma_fn';\n\nconst { trunc , log } = Math;\n\nconst sferr_halves: number[] = [\n    0.0, // n=0 - wrong, place holder only \n    0.1534264097200273452913848,  // 0.5 \n    0.0810614667953272582196702,  // 1.0 \n    0.0548141210519176538961390,  // 1.5 \n    0.0413406959554092940938221,  // 2.0  \n    0.03316287351993628748511048, // 2.5  \n    0.02767792568499833914878929, // 3.0  \n    0.02374616365629749597132920, // 3.5  \n    0.02079067210376509311152277, // 4.0  \n    0.01848845053267318523077934, // 4.5  \n    0.01664469118982119216319487, // 5.0  \n    0.01513497322191737887351255, // 5.5  \n    0.01387612882307074799874573, // 6.0  \n    0.01281046524292022692424986, // 6.5  \n    0.01189670994589177009505572, // 7.0  \n    0.01110455975820691732662991, // 7.5  \n    0.010411265261972096497478567, // 8.0  \n    0.009799416126158803298389475, // 8.5  \n    0.009255462182712732917728637, // 9.0  \n    0.008768700134139385462952823, // 9.5  \n    0.008330563433362871256469318, // 10.0  \n    0.007934114564314020547248100, // 10.5  \n    0.007573675487951840794972024, // 11.0  \n    0.007244554301320383179543912, // 11.5  \n    0.006942840107209529865664152, // 12.0  \n    0.006665247032707682442354394, // 12.5  \n    0.006408994188004207068439631, // 13.0  \n    0.006171712263039457647532867, // 13.5  \n    0.005951370112758847735624416, // 14.0  \n    0.005746216513010115682023589, // 14.5  \n    0.005554733551962801371038690  // 15.0  \n];\n\nconst S0 = 0.083333333333333333333;       // 1/12 \nconst S1 = 0.00277777777777777777778;     // 1/360 \nconst S2 = 0.00079365079365079365079365;  // 1/1260 \nconst S3 = 0.000595238095238095238095238; // 1/1680 \nconst S4 = 0.0008417508417508417508417508; // 1/1188 \n\n\n// stirlerr(n) = log(n!) - log( sqrt(2*pi*n)*(n/e)^n )\n//              = log Gamma(n+1) - 1/2 * [log(2*pi) + log(n)] - n*[log(n) - 1]\n//             = log Gamma(n+1) - (n + 1/2) * log(n) + n - log(2*pi)/2\n//\n// see also lgammacor() in ./lgammacor.c  which computes almost the same!\n//\n\n export function stirlerr(n: number): number {\n\n    //  error for 0, 0.5, 1.0, 1.5, ..., 14.5, 15.0.\n    let nn: number;\n\n    if (n <= 15.0) {\n        nn = n + n;\n        if (nn === trunc(nn)) return (sferr_halves[trunc(nn)]);\n        return (lgammafn(n + 1.) - (n + 0.5) * log(n) + n - M_LN_SQRT_2PI);\n    }\n\n    nn = n * n;\n    if (n > 500) return ((S0 - S1 / nn) / n);\n    if (n > 80) return ((S0 - (S1 - S2 / nn) / nn) / n);\n    if (n > 35) return ((S0 - (S1 - (S2 - S3 / nn) / nn) / nn) / n);\n    // 15 < n <= 35 :\n    return ((S0 - (S1 - (S2 - (S3 - S4 / nn) / nn) / nn) / nn) / n);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/stirling/stirlerror.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 20, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000-2013 The R Core Team\n *  Copyright (C) 2003-2013 The R Foundation\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *\tThe \"Student\" t distribution quantile function.\n *\n *  NOTES\n *\n *\tThis is a C translation of the Fortran routine given in:\n *\tHill, G.W (1970) \"Algorithm 396: Student's t-quantiles\"\n *\tCACM 13(10), 619-620.\n *\n *\tSupplemented by inversion for 0 < ndf < 1.\n *\n *  ADDITIONS:\n *\t- lower_tail, log_p\n *\t- using\t expm1() : takes care of  Lozy (1979) \"Remark on Algo.\", TOMS\n *\t- Apply 2-term Taylor expansion as in\n *\t  Hill, G.W (1981) \"Remark on Algo.396\", ACM TOMS 7, 250-1\n *\t- Improve the formula decision for 1 < df < 2\n */\n\nimport * as debug from 'debug';\n\nimport {\n  DBL_MANT_DIG,\n  M_1_PI,\n  M_PI_2,\n  ME,\n  ML_ERR_return_NAN,\n  ML_ERROR,\n  R_D_Cval,\n  R_D_log,\n  R_D_Lval,\n  R_D_qIv,\n  R_Q_P01_boundaries\n} from '../common/_general';\n\nimport { R_D_LExp, R_DT_qIv } from '../exp/expm1';\nimport { qnorm } from '../normal/qnorm';\nimport { map } from '../r-func';\nimport { tanpi } from '../trigonometry/cospi';\nimport { dt } from './dt';\nimport { pt } from './pt';\n\nconst {\n  LN2: M_LN2,\n  PI: M_PI,\n  SQRT2: M_SQRT2,\n  sqrt,\n  pow,\n  log,\n  exp,\n  min: fmin2,\n  abs: fabs,\n  expm1\n} = Math;\n\nconst {\n  isNaN: ISNAN,\n  EPSILON: DBL_EPSILON,\n  MAX_VALUE: DBL_MAX,\n  MIN_VALUE: DBL_MIN,\n  POSITIVE_INFINITY: ML_POSINF,\n  NEGATIVE_INFINITY: ML_NEGINF,\n  isFinite: R_FINITE\n} = Number;\n\nconst printer_qt = debug('qt');\n\nexport function qt<T>(\n  pp: T,\n  ndf: number,\n  lowerTail: boolean,\n  logP: boolean\n): T {\n  return map(pp)(p => _qt(p, ndf, lowerTail, logP)) as any;\n}\n\nfunction _qt(\n  p: number,\n  ndf: number,\n  lower_tail: boolean,\n  log_p: boolean\n): number {\n  const eps = 1e-12;\n  let P;\n  let q;\n\n  const accu = 1e-13;\n  const Eps = 1e-11; /* must be > accur */\n\n  if (ISNAN(p) || ISNAN(ndf)) return p + ndf;\n\n  let rc = R_Q_P01_boundaries(lower_tail, log_p, p, ML_NEGINF, ML_POSINF);\n  if (rc !== undefined) {\n    return rc;\n  }\n  if (ndf <= 0) return ML_ERR_return_NAN(printer_qt);\n\n  if (ndf < 1) {\n    /* based on qnt */\n\n    let ux;\n    let lx;\n    let nx;\n    let pp;\n\n    let iter = 0;\n\n    p = R_DT_qIv(lower_tail, log_p, p);\n\n    /* Invert pt(.) :\n     * 1. finding an upper and lower bound */\n    if (p > 1 - DBL_EPSILON) return ML_POSINF;\n    pp = fmin2(1 - DBL_EPSILON, p * (1 + Eps));\n    for (\n      ux = 1;\n      ux < DBL_MAX && pt(ux, ndf, true, false) < pp;\n      ux *= 2\n    );\n    pp = p * (1 - Eps);\n    for (\n      lx = -1;\n      lx > -DBL_MAX && pt(lx, ndf, true, false) > pp;\n      lx *= 2\n    );\n\n    /* 2. interval (lx,ux)  halving\n       regula falsi failed on qt(0.1, 0.1)\n     */\n    do {\n      nx = 0.5 * (lx + ux);\n      if (pt(nx, ndf, true, false) > p) ux = nx;\n      else lx = nx;\n    } while ((ux - lx) / fabs(nx) > accu && ++iter < 1000);\n\n    if (iter >= 1000) {\n      ML_ERROR(ME.ME_PRECISION, 'qt', printer_qt);\n    }\n\n    return 0.5 * (lx + ux);\n  }\n\n  /* Old comment:\n     * FIXME: \"This test should depend on  ndf  AND p  !!\n     * -----  and in fact should be replaced by\n     * something like Abramowitz & Stegun 26.7.5 (p.949)\"\n     *\n     * That would say that if the qnorm value is x then\n     * the result is about x + (x^3+x)/4df + (5x^5+16x^3+3x)/96df^2\n     * The differences are tiny even if x ~ 1e5, and qnorm is not\n     * that accurate in the extreme tails.\n     */\n  if (ndf > 1e20) return qnorm(p, 0, 1, lower_tail, log_p);\n\n  P = R_D_qIv(log_p, p); /* if exp(p) underflows, we fix below */\n\n  let neg = (!lower_tail || P < 0.5) && (lower_tail || P > 0.5);\n  let is_neg_lower = lower_tail === neg; /* both TRUE or FALSE == !xor */\n  if (neg)\n    P = 2 * (log_p ? (lower_tail ? P : -expm1(p)) : R_D_Lval(lower_tail, p));\n  else P = 2 * (log_p ? (lower_tail ? -expm1(p) : P) : R_D_Cval(lower_tail, p));\n  /* 0 <= P <= 1 ; P = 2*min(P', 1 - P')  in all cases */\n\n  if (fabs(ndf - 2) < eps) {\n    /* df ~= 2 */\n    if (P > DBL_MIN) {\n      if (3 * P < DBL_EPSILON)\n        /* P ~= 0 */\n        q = 1 / sqrt(P);\n      else if (P > 0.9)\n        /* P ~= 1 */\n        q = (1 - P) * sqrt(2 / (P * (2 - P))); /* eps/3 <= P <= 0.9 */\n      else q = sqrt(2 / (P * (2 - P)) - 2);\n    } else {\n      /* P << 1, q = 1/sqrt(P) = ... */\n      if (log_p) q = is_neg_lower ? exp(-p / 2) / M_SQRT2 : 1 / sqrt(-expm1(p));\n      else q = ML_POSINF;\n    }\n  } else if (ndf < 1 + eps) {\n    /* df ~= 1  (df < 1 excluded above): Cauchy */\n    if (P === 1) q = 0;\n    else if (P > 0)\n      // some versions of tanpi give Inf, some NaN\n      q = 1 / tanpi(P / 2);\n    else {\n      /* == - tan((P+1) * M_PI_2) -- suffers for P ~= 0 */\n\n      /* P = 0, but maybe = 2*exp(p) ! */\n      if (log_p)\n        /* 1/tan(e) ~ 1/e */\n        q = is_neg_lower ? M_1_PI * exp(-p) : -1 / (M_PI * expm1(p));\n      else q = ML_POSINF;\n    }\n  } else {\n    /*-- usual case;  including, e.g.,  df = 1.1 */\n    let x = 0;\n    let y = 0;\n    let log_P2 = 0 /* -Wall */;\n    let a = 1 / (ndf - 0.5);\n    let b = 48 / (a * a);\n    let c = ((20700 * a / b - 98) * a - 16) * a + 96.36;\n    let d = ((94.5 / (b + c) - 3) / b + 1) * sqrt(a * M_PI_2) * ndf;\n\n    let P_ok1 = P > DBL_MIN || !log_p;\n    let P_ok = P_ok1;\n\n    if (P_ok1) {\n      y = pow(d * P, 2.0 / ndf);\n      P_ok = y >= DBL_EPSILON;\n    }\n    if (!P_ok) {\n      // log.p && P very.small  ||  (d*P)^(2/df) =: y < eps_c\n      log_P2 = is_neg_lower\n        ? R_D_log(log_p, p)\n        : R_D_LExp(log_p, p); /* == log(P / 2) */\n      x = (log(d) + M_LN2 + log_P2) / ndf;\n      y = exp(2 * x);\n    }\n\n    if ((ndf < 2.1 && P > 0.5) || y > 0.05 + a) {\n      /* P > P0(df) */\n      /* Asymptotic inverse expansion about normal */\n      if (P_ok)\n        x = qnorm(\n          0.5 * P,\n          0,\n          1,\n          /*lower_tail*/ false,\n          /*log_p*/ false\n        ); /* log_p && P underflowed */\n      else x = qnorm(log_P2, 0, 1, lower_tail, /*log_p*/ true);\n\n      y = x * x;\n      if (ndf < 5) c += 0.3 * (ndf - 4.5) * (x + 0.6);\n      c = (((0.05 * d * x - 5) * x - 7) * x - 2) * x + b + c;\n      y = (((((0.4 * y + 6.3) * y + 36) * y + 94.5) / c - y - 3) / b + 1) * x;\n      y = expm1(a * y * y);\n      q = sqrt(ndf * y);\n    } else if (!P_ok && x < -M_LN2 * DBL_MANT_DIG) {\n      /* 0.5* log(DBL_EPSILON) */\n      /* y above might have underflown */\n      q = sqrt(ndf) * exp(-x);\n    } else {\n      /* re-use 'y' from above */\n      y =\n        ((1 / (((ndf + 6) / (ndf * y) - 0.089 * d - 0.822) * (ndf + 2) * 3) +\n          0.5 / (ndf + 4)) *\n          y -\n          1) *\n          (ndf + 1) /\n          (ndf + 2) +\n        1 / y;\n      q = sqrt(ndf * y);\n    }\n\n    /* Now apply 2-term Taylor expansion improvement (1-term = Newton):\n     * as by Hill (1981) [ref.above] */\n\n    /* FIXME: This can be far from optimal when log_p = TRUE\n     *      but is still needed, e.g. for qt(-2, df=1.01, log=TRUE).\n     *\tProbably also improvable when  lower_tail = FALSE */\n\n    if (P_ok1) {\n      let it = 0;\n      while (\n        it++ < 10 &&\n        (y = dt(q, ndf, false)) > 0 &&\n        R_FINITE((x = (pt(q, ndf, false, false) - P / 2) / y)) &&\n        fabs(x) > 1e-14 * fabs(q)\n      )\n        /* Newton (=Taylor 1 term):\n         *  q += x;\n         * Taylor 2-term : */\n        q += x * (1 + x * q * (ndf + 1) / (2 * (q * q + ndf)));\n    }\n  }\n  if (neg) q = -q;\n  return q;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/student-t/qt.ts","import * as debug from 'debug';\n\nimport { fmod, ME, ML_ERROR } from '../common/_general';\nconst { NaN: ML_NAN, isNaN: ISNAN, isFinite: R_FINITE } = Number;\n\nconst {  PI: M_PI } = Math;\n\n// tan(pi * x)  -- exact when x = k/2  for all integer k\nconst printer_tanpi = debug('tanpi');\nexport function tanpi(x: number): number {\n  if (ISNAN(x)) return x;\n  if (!R_FINITE(x)) {\n    ML_ERROR(ME.ME_DOMAIN, '', printer_tanpi);\n    return ML_NAN;\n  }\n  x = fmod(x, 1); // tan(pi(x + k)) == tan(pi x)  for all integer k\n  // map (-1,1) --> (-1/2, 1/2] :\n  if (x <= -0.5) {\n    x++;\n  } else if (x > 0.5) {\n    x--;\n  }\n  return x === 0 ? 0 : x === 0.5 ? ML_NAN : Math.tan(M_PI * x);\n}\n\nexport function atanpi(x: number) {\n  return Math.atan(x) / Math.PI;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/trigonometry/tanpi.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 18, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998       Ross Ihaka\n *  Copyright (C) 2000--2007 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *    #include <Rmath.h>\n *    double ptukey(q, rr, cc, df, lower_tail, log_p);\n *\n *  DESCRIPTION\n *\n *    Computes the probability that the maximum of rr studentized\n *    ranges, each based on cc means and with df degrees of freedom\n *    for the standard error, is less than q.\n *\n *    The algorithm is based on that of the reference.\n *\n *  REFERENCE\n *\n *    Copenhaver, Margaret Diponzio & Holland, Burt S.\n *    Multiple comparisons of simple effects in\n *    the two-way analysis of variance with fixed effects.\n *    Journal of Statistical Computation and Simulation,\n *    Vol.30, pp.1-15, 1988.\n*/\n\nimport * as debug from 'debug';\nimport { wprob } from './wprob';\n\nimport {\n  //M_1_SQRT_2PI,\n  ME,\n  ML_ERR_return_NAN,\n  ML_ERROR,\n  R_DT_0,\n  R_DT_1\n} from '../common/_general';\n\nimport { R_DT_val } from '../common/_general';\nimport { lgammafn } from '../gamma/lgamma_fn';\nimport { map } from '../r-func';\n\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst { exp, sqrt, log, LN2: M_LN2 } = Math;\n\nconst printer_ptukey = debug('_ptukey');\n\nexport function ptukey<T>(\n  qq: T,\n  rr: number,\n  cc: number,\n  df: number,\n  lower_tail: boolean = true,\n  log_p: boolean = false,\n // normal: INormal\n): T {\n  return map(qq)(q =>\n    _ptukey(q, rr, cc, df, lower_tail, log_p)\n  ) as any;\n}\n\n/*\n> ptukey\nfunction (q, nmeans, df, nranges = 1, lower.tail = TRUE, log.p = FALSE)\n.Call(C_ptukey, q, nranges, nmeans, df, lower.tail, log.p)\n<bytecode: 0x000000001cde3048>\n<environment: namespace:stats>\n\ndouble ptukey(\n\tdouble q, // q\n\tdouble rr, // nranges\n\tdouble cc, // nmeans\n\tdouble df, // df\n  int lower_tail, // lowertail\n\tint log_p //logp\n*/\nexport function _ptukey(\n  q: number,\n  rr: number,\n  cc: number,\n  df: number,\n  lower_tail: boolean,\n  log_p: boolean\n): number {\n  /*  function ptukey() [was qprob() ]:\n    \n        q = value of studentized range\n        rr = no. of rows or groups\n        cc = no. of columns or treatments\n        df = degrees of freedom of error term\n        ir[0] = error flag = 1 if wprob probability > 1\n        ir[1] = error flag = 1 if qprob probability > 1\n    \n        qprob = returned probability integral over [0, q]\n    \n        The program will not terminate if ir[0] or ir[1] are raised.\n    \n        All references in wprob to Abramowitz and Stegun\n        are from the following reference:\n    \n        Abramowitz, Milton and Stegun, Irene A.\n        Handbook of Mathematical Functions.\n        New York:  Dover publications, Inc. (1970).\n    \n        All constants taken from this text are\n        given to 25 significant digits.\n    \n        nlegq = order of legendre quadrature\n        ihalfq = int ((nlegq + 1) / 2)\n        eps = max. allowable value of integral\n        eps1 & eps2 = values below which there is\n                  no contribution to integral.\n    \n        d.f. <= dhaf:\tintegral is divided into ulen1 length intervals.  else\n        d.f. <= dquar:\tintegral is divided into ulen2 length intervals.  else\n        d.f. <= deigh:\tintegral is divided into ulen3 length intervals.  else\n        d.f. <= dlarg:\tintegral is divided into ulen4 length intervals.\n    \n        d.f. > dlarg:\tthe range is used to calculate integral.\n    \n        M_LN2 = log(2)\n    \n        xlegq = legendre 16-point nodes\n        alegq = legendre 16-point coefficients\n    \n        The coefficients and nodes for the legendre quadrature used in\n        qprob and wprob were calculated using the algorithms found in:\n    \n        Stroud, A. H. and Secrest, D.\n        Gaussian Quadrature Formulas.\n        Englewood Cliffs,\n        New Jersey:  Prentice-Hall, Inc, 1966.\n    \n        All values matched the tables (provided in same reference)\n        to 30 significant digits.\n    \n        f(x) = .5 + erf(x / sqrt(2)) / 2      for x > 0\n    \n        f(x) = erfc( -x / sqrt(2)) / 2\t      for x < 0\n    \n        where f(x) is standard normal c. d. f.\n    \n        if degrees of freedom large, approximate integral\n        with range distribution.\n     */\n  const nlegq = 16;\n  const ihalfq = 8;\n\n  /*  const double eps = 1.0; not used if = 1 */\n  const eps1 = -30.0;\n  const eps2 = 1.0e-14;\n  const dhaf = 100.0;\n  const dquar = 800.0;\n  const deigh = 5000.0;\n  const dlarg = 25000.0;\n  const ulen1 = 1.0;\n  const ulen2 = 0.5;\n  const ulen3 = 0.25;\n  const ulen4 = 0.125;\n  const xlegq = [\n    0.98940093499164993259615417345,\n    0.944575023073232576077988415535,\n    0.865631202387831743880467897712,\n    0.755404408355003033895101194847,\n    0.617876244402643748446671764049,\n    0.458016777657227386342419442984,\n    0.28160355077925891323046050146,\n    0.95012509837637440185319335425e-1\n  ];\n  const alegq = [\n    0.27152459411754094851780572456e-1,\n    0.622535239386478928628438369944e-1,\n    0.951585116824927848099251076022e-1,\n    0.124628971255533872052476282192,\n    0.149595988816576732081501730547,\n    0.16915651939500253818931207903,\n    0.182603415044923588866763667969,\n    0.189450610455068496285396723208\n  ];\n  //double\n  let ans: number;\n  let f2: number;\n  let f21: number;\n  let f2lf: number;\n  let ff4: number;\n  let otsum: number;\n  let qsqz: number;\n  let rotsum: number;\n  //let t1: number;\n  let twa1: number;\n  let ulen: number;\n  let wprb: number;\n  //let j: number;\n\n  if (ISNAN(q) || ISNAN(rr) || ISNAN(cc) || ISNAN(df)) {\n    return ML_ERR_return_NAN(printer_ptukey);\n  }\n\n  if (q <= 0) {\n    return R_DT_0(lower_tail, log_p);\n  }\n\n  /* df must be > 1 */\n  /* there must be at least two values */\n\n  if (df < 2 || rr < 1 || cc < 2) return ML_ERR_return_NAN(printer_ptukey);\n\n  if (!R_FINITE(q)) return R_DT_1(lower_tail, log_p);\n\n  if (df > dlarg) return R_DT_val(lower_tail, log_p, wprob(q, rr, cc));\n\n  /* calculate leading constant */\n\n  f2 = df * 0.5;\n  /* lgammafn(u) = log(gamma(u)) */\n  f2lf = f2 * log(df) - df * M_LN2 - lgammafn(f2);\n  f21 = f2 - 1.0;\n\n  /* integral is divided into unit, half-unit, quarter-unit, or */\n  /* eighth-unit length intervals depending on the value of the */\n  /* degrees of freedom. */\n\n  ff4 = df * 0.25;\n  if (df <= dhaf) ulen = ulen1;\n  else if (df <= dquar) ulen = ulen2;\n  else if (df <= deigh) ulen = ulen3;\n  else ulen = ulen4;\n\n  f2lf += log(ulen);\n\n  /* integrate over each subinterval */\n\n  ans = 0.0;\n  otsum = 0.0; // to let typscript linting know it is used , it is within the for loop\n  for (let i = 1; i <= 50; i++) {\n    otsum = 0.0;\n\n    /* legendre quadrature with order = nlegq */\n    /* nodes (stored in xlegq) are symmetric around zero. */\n\n    twa1 = (2 * i - 1) * ulen;\n\n    for (let jj = 1; jj <= nlegq; jj++) {\n      const j = ihalfq < jj ? jj - ihalfq - 1 : jj - 1;\n      const t1 =\n        ihalfq < jj\n          ? f2lf +\n            f21 * log(twa1 + xlegq[j] * ulen) -\n            (xlegq[j] * ulen + twa1) * ff4\n          : f2lf +\n            f21 * log(twa1 - xlegq[j] * ulen) +\n            (xlegq[j] * ulen - twa1) * ff4;\n\n      /* if exp(t1) < 9e-14, then doesn't contribute to integral */\n      if (t1 >= eps1) {\n        if (ihalfq < jj) {\n          qsqz = q * sqrt((xlegq[j] * ulen + twa1) * 0.5);\n        } else {\n          qsqz = q * sqrt((-(xlegq[j] * ulen) + twa1) * 0.5);\n        }\n\n        /* call wprob to find integral of range portion */\n\n        wprb = wprob(qsqz, rr, cc);\n        rotsum = wprb * alegq[j] * exp(t1);\n        otsum += rotsum;\n      }\n      /* end legendre integral for interval i */\n      /* L200: */\n    } //for\n\n    /* if integral for interval i < 1e-14, then stop.\n         * However, in order to avoid small area under left tail,\n         * at least  1 / ulen  intervals are calculated.\n         */\n    if (i * ulen >= 1.0 && otsum <= eps2) break;\n\n    /* end of interval i */\n    /* L330: */\n\n    ans += otsum;\n  } //for\n\n  if (otsum > eps2) {\n    /* not converged */\n    ML_ERROR(ME.ME_PRECISION, 'ptukey', printer_ptukey);\n  }\n  if (ans > 1) ans = 1;\n  return R_DT_val(lower_tail, log_p, ans);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/tukey/ptukey.ts","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/debug/src/common.js\n// module id = 78\n// module chunks = 0 1","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport { bessel_i } from './besselI';\nimport { bessel_j } from './besselJ';\nimport { bessel_k } from './besselK';\nimport { bessel_y } from './besselY';\n\n\n\nexport const special = Object.freeze({\n    besselJ: bessel_j,\n    besselY: bessel_y,\n    besselK: bessel_k,\n    besselI: bessel_i\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/bessel/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { Inversion, IRNGNormal } from '../rng/normal';\nimport { dnbinom as _dnbinom, dnbinom_mu } from './dnbinom';\nimport { pnbinom as _pnbinom, pnbinom_mu } from './pnbinom';\nimport { qnbinom as _qnbinom, qnbinom_mu } from './qnbinom';\nimport { rnbinom as _rnbinom, rnbinom_mu } from './rnbinom';\n\nconst errText = Object.freeze([\n  'at most specify either argument \"mu\" or  \"prob\", but not both at the same time!',\n  'both arguments \"mu\" and \"prob\" are undefined'\n]);\n\n\n\nfunction select(\n  fs: 'd' | 'p' | 'r' | 'q',\n  mu?: number,\n  prob?: number\n) {\n  const selector = {\n    mu: {\n      d: dnbinom_mu,\n      p: pnbinom_mu,\n      q: qnbinom_mu,\n      r: rnbinom_mu\n    },\n    p: {\n      d: _dnbinom,\n      p: _pnbinom,\n      q: _qnbinom,\n      r: _rnbinom\n    }\n  };\n\n  if (prob !== undefined && mu !== undefined) {\n    throw new Error(errText[0]);\n  }\n  if (prob === undefined && mu === undefined) {\n    throw new Error(errText[1]);\n  }\n  const s = prob === undefined ? 'mu' : 'p';\n  return selector[s][fs] as any;\n}\n\nexport function NegativeBinomial(rng: IRNGNormal = new Inversion()) {\n  function dnbinom(\n    x: number | number[],\n    size: number,\n    prob?: number,\n    mu?: number,\n    giveLog =  false\n  ): number|number[] {\n    const val = mu || prob;\n    return select('d', mu, prob)(x, size, val, giveLog);\n  }\n\n  function pnbinom(\n    q: number | number[],\n    size: number,\n    prob?: number,\n    mu?: number,\n    lowerTail = true,\n    logP = false\n  ): number | number[] {\n    const val = mu || prob;\n    return select('p', mu, prob)(q, size, val, lowerTail, logP);\n  }\n\n  function qnbinom(\n    q: number | number[],\n    size: number,\n    prob?: number,\n    mu?: number,\n    lowerTail = true,\n    logP = false\n  ): number | number[] {\n    const val = mu || prob;\n    return select('q', mu, prob)(q, size, val, lowerTail, logP);\n  }\n\n  function rnbinom(\n    n: number,\n    size: number,\n    prob?: number,\n    mu?: number\n  ): number | number[] {\n    const val = mu || prob;\n    return select('r', mu, prob)(n, size, val, rng);\n  }\n\n  return {\n    dnbinom,\n    pnbinom,\n    qnbinom,\n    rnbinom\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/binomial-negative/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { IRNG } from '../rng/irng';\nimport { MersenneTwister } from '../rng/mersenne-twister';\nimport { dbinom } from './dbinom';\nimport { pbinom } from './pbinom';\nimport { qbinom } from './qbinom';\nimport { rbinom } from './rbinom';\n\nexport function Binomial(rng: IRNG = new MersenneTwister()) {\n  return {\n    dbinom,\n    pbinom,\n    qbinom,\n    rbinom: (N: number, nin: number, pp: number) => rbinom(N, nin, pp, rng)\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/binomial/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { dcauchy } from './dcauchy';\nimport { pcauchy } from './pcauchy';\nimport { qcauchy } from './qcauchy';\nimport { rcauchy } from './rcauchy';\n\nimport { MersenneTwister } from '../rng/mersenne-twister';\n\nexport function Cauchy(rng = new MersenneTwister(0)) {\n  return {\n    rcauchy: (n: number, location = 0, scale = 1) =>\n      rcauchy(n, location, scale, rng),\n    dcauchy,\n    pcauchy,\n    qcauchy\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/cauchy/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { chebyshev_eval, chebyshev_init } from './chebyshev';\n\nexport const ChebyshevSeries = {\n    chebyshev_eval,\n    chebyshev_init\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/chebyshev/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n//\nimport { Inversion, IRNGNormal } from '../rng/normal';\nimport { dchisq as _dchisq } from './dchisq';\nimport { dnchisq as _dnchisq } from './dnchisq';\nimport { pchisq as _pchisq } from './pchisq';\nimport { pnchisq as _pnchisq } from './pnchisq';\nimport { qchisq as _qchisq } from './qchisq';\nimport { qnchisq as _qnchisq } from './qnchisq';\nimport { rchisq as _rchisq } from './rchisq';\nimport { rnchisq as _rnchisq } from './rnchisq';\n\nexport function ChiSquared(rng: IRNGNormal = new Inversion()) {\n  function rchisq(n: number = 1, df: number, ncp?: number) {\n    return ncp === undefined\n      ? _rchisq(n, df, rng)\n      : _rnchisq(n, df, ncp, rng);\n  }\n\n  function qchisq(\n    p: number | number[],\n    df: number,\n    ncp?: number,\n    lowerTail: boolean = true,\n    logP: boolean = false\n  ) {\n    return ncp === undefined\n      ? _qchisq(p, df, lowerTail, logP)\n      : _qnchisq(p, df, ncp, lowerTail, logP);\n  }\n\n  function pchisq(\n    p: number | number[],\n    df: number,\n    ncp?: number,\n    lowerTail: boolean = true,\n    logP: boolean = false\n  ) {\n    return ncp === undefined\n      ? _pchisq(p, df, lowerTail, logP)\n      : _pnchisq(p, df, ncp, lowerTail, logP);\n  }\n\n  function dchisq(\n    x: number | number[],\n    df: number,\n    ncp?: number,\n    log: boolean = false\n  ) {\n    return ncp === undefined ? _dchisq(x, df, log) : _dnchisq(x, df, ncp, log);\n  }\n\n  return {\n      dchisq,\n      pchisq,\n      qchisq,\n      rchisq\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/chi-2/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { choose, lchoose } from './choose';\n\nexport const special = {\n  choose,\n  lchoose\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/common/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { dexp as _dexp } from './dexp';\nimport { pexp as _pexp } from './pexp';\nimport { qexp as _qexp } from './qexp';\nimport { rexp as _rexp } from './rexp';\n\nimport { IRNG, rng } from '../rng';\nconst { MersenneTwister } = rng;\n\nexport function Exponential(rng: IRNG = new MersenneTwister(0)) {\n  /*\n  NOTE: scale = 1/rate, the R code looks like\n      > rexp\n      function (n, rate = 1) \n        .Call(C_rexp, n, 1/rate)\n        <bytecode: 0x0000000005f90fd0>\n        <environment: namespace:stats>\n  */\n  return {\n    dexp: (x: number | number[], rate = 1, asLog = false) =>\n      _dexp(x, 1 / rate, asLog),\n\n    pexp: (q: number | number[], rate = 1, lowerTail = true, logP = false) =>\n      _pexp(q, 1 / rate, lowerTail, logP),\n\n    qexp: (p: number | number[], rate = 1, lowerTail = true, logP = false) =>\n      _qexp(p, 1 / rate, lowerTail, logP),\n\n    rexp: (n: number, rate = 1) => _rexp(n, 1 / rate, rng)\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/exp/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n//needed for rf\nimport { rchisq } from '../chi-2/rchisq';\nimport { rnchisq } from '../chi-2/rnchisq';\nimport { seq } from '../r-func';\nimport { arrayrify, multiplexer, possibleScalar } from '../r-func';\nimport { Inversion, IRNGNormal } from '../rng/normal';\n//\nimport { df as _df } from './df';\nimport { dnf } from './dnf';\n//\nimport { pf as _pf } from './pf';\nimport { pnf } from './pnf';\n//\nimport { qf as _qf } from './qf';\nimport { qnf } from './qnf';\nimport { rf as _rf } from './rf';\n\nconst sequence = seq()();\n\nexport function FDist(rng: IRNGNormal = new Inversion()) {\n  function df(\n    x: number | number[],\n    df1: number,\n    df2: number,\n    ncp?: number,\n    log: boolean = false\n  ) {\n    /*\n    function (x, df1, df2, ncp, log = FALSE) \n      {\n    if (missing(ncp)) \n        .Call(C_df, x, df1, df2, log)\n    else .Call(C_dnf, x, df1, df2, ncp, log)\n      }\n    */\n    if (ncp === undefined) {\n      return _df(x, df1, df2, log);\n    }\n    return dnf(x, df1, df2, ncp, log);\n  }\n  function pf(\n    q: number[] | number,\n    df1: number,\n    df2: number,\n    ncp?: number,\n    lowerTail: boolean = true,\n    logP = false\n  ) {\n    /*  if (missing(ncp)) \n        .Call(C_pf, q, df1, df2, lower.tail, log.p)\n    else .Call(C_pnf, q, df1, df2, ncp, lower.tail, log.p)\n*/\n    if (ncp === undefined) {\n      return _pf(q, df1, df2, lowerTail, logP);\n    }\n    return pnf(q, df1, df2, ncp, lowerTail, logP);\n  }\n\n  function qf(\n    p: number | number[],\n    df1: number,\n    df2: number,\n    ncp?: number,\n    lowerTail: boolean = true,\n    logP: boolean = false\n  ) {\n    if (ncp === undefined) {\n      return _qf(p, df1, df2, lowerTail, logP);\n    }\n    return qnf(p, df1, df2, ncp, lowerTail, logP);\n  }\n\n  function rf(n: number, df1: number, df2: number, ncp?: number) {\n    /* function (n, df1, df2, ncp) \n{\n    if (missing(ncp)) \n        .Call(C_rf, n, df1, df2)\n    else if (is.na(ncp)) {\n        warning(\"NAs produced\")\n        rep(NaN, n)\n    }\n    else (\n      rchisq(n, df1, ncp = ncp)/df1\n    )\n    /\n    ( rchisq(n, df2) \n    / df2\n    );\n}\n*/\n    if (ncp === undefined) {\n      return _rf(n, df1, df2, rng);\n    }\n\n    if (Number.isNaN(ncp)) {\n      return possibleScalar(sequence(n).fill(NaN));\n    }\n\n    const div = arrayrify((a: number, b: number) => a / b);\n\n    const numerator = div(rnchisq(n, df1, ncp, rng), df1);\n    const denominator = div(rchisq(n, df2, rng), df2);\n\n    return multiplexer(numerator, denominator)((x1, d) => x1 / d);\n  }\n\n  return {\n    df,\n    pf,\n    qf,\n    rf\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/f-distro/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { Inversion, IRNGNormal } from '../rng/normal';\n\nimport { dgeom } from './dgeom';\nimport { pgeom } from './pgeom';\nimport { qgeom } from './qgeom';\nimport { rgeom as _rgeom } from './rgeom';\n\nexport function Geometric(rng: IRNGNormal = new Inversion()) {\n  return {\n    dgeom,\n    pgeom,\n    qgeom,\n    rgeom: (N: number, prob: number) => _rgeom(N, prob, rng)\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/geometric/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { dhyper } from './dhyper';\nimport { phyper } from './phyper';\nimport { qhyper } from './qhyper';\nimport { rhyper as _rhyper } from './rhyper';\n\nimport { IRNG } from '../rng/irng';\nimport { MersenneTwister } from '../rng/mersenne-twister';\n\n\nexport function HyperGeometric(rng: IRNG = new MersenneTwister()) {\n  //rhyper(nn, m, n, k)\n  function rhyper(N: number, nn1in: number, nn2in: number, kkin: number) {\n    return _rhyper(N, nn1in, nn2in, kkin, rng);\n  }\n\n  return {\n    dhyper,\n    phyper,\n    qhyper,\n    rhyper\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/hypergeometric/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { IRNG } from '../rng/irng';\nimport { MersenneTwister } from '../rng/mersenne-twister';\nimport { dlogis } from './dlogis';\nimport { plogis } from './plogis';\nimport { qlogis } from './qlogis';\nimport { rlogis as _rlogis } from './rlogis';\n\nexport function Logistic(rng: IRNG = new MersenneTwister(0)) {\n  //\n  function rlogis(N: number, location: number = 0, scale: number = 1) {\n    return _rlogis(N, location, scale, rng);\n  }\n\n  return {\n    dlogis,\n    plogis,\n    qlogis,\n    rlogis\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/logis/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport { dlnorm } from './dlnorm';\nimport { plnorm } from './plnorm';\nimport { qlnorm } from './qlnorm';\nimport { rlnorm } from './rlnorm';\n\nimport { Inversion, IRNGNormal } from '../rng/normal';\n\nexport function LogNormal(rng: IRNGNormal = new Inversion()) {\n  return {\n    dlnorm,\n    plnorm,\n    qlnorm,\n    rlnorm: (n: number, meanlog: number = 0, sdlog: number = 1): number | number[] =>\n      rlnorm(n, meanlog, sdlog, rng)\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/lognormal/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { dmultinom, IdmultinomOptions } from './dmultinom';\nimport { rmultinom as _rmultinom } from './rmultinom';\n//FIXME: convert dmultinom from pure R to ts equivalent\n\nimport { IRNG } from '../rng/irng';\nimport { MersenneTwister } from '../rng/mersenne-twister';\n\nexport { IdmultinomOptions };\n\nexport function Multinomial(rng: IRNG = new MersenneTwister(0)) {\n  function rmultinom(n: number, size: number, prob: number | number[]) {\n    return _rmultinom(n, size, prob, rng);\n  }\n  return {\n    rmultinom,\n    dmultinom\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/multinom/index.ts","\n'use strict';\nimport { dnorm4 } from './dnorm';\nimport { pnorm5 } from './pnorm';\nimport { qnorm as _qnorm } from './qnorm';\nimport { rnorm as _rnorm } from './rnorm';\n\nimport { IRNGNormal, rng as _rng } from '../rng';\nconst { normal: { Inversion } } = _rng;\n\n\n/*export interface INormal {\n  rnorm: (n: number, mu: number, sigma: number) => number | number[];\n  dnorm: <T>(x: T, mu: number, sigma: number, giveLog: boolean) => T;\n  pnorm: <T>(\n    x: T,\n    mu: number,\n    sigma: number,\n    lowerTail: boolean,\n    logP: boolean\n  ) => T;\n  qnorm: <T>(\n    p: T,\n    mu: number,\n    sigma: number,\n    lower_tail: boolean,\n    log_p: boolean\n  ) => T;\n  rng: IRNGNormal;\n}*/\n\nexport function Normal(prng: IRNGNormal = new Inversion()) {\n\n  return {\n    rnorm: (n: number = 1, mu: number = 0, sigma = 1) =>\n      _rnorm(n, mu, sigma, prng)\n    ,\n    dnorm: dnorm4,\n    pnorm: pnorm5,\n    qnorm: _qnorm,\n    rng: prng,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/normal/index.ts","import { dpois } from './dpois';\nimport { ppois } from './ppois';\nimport { qpois } from './qpois';\nimport { rpois } from './rpois';\n\nimport { Inversion, IRNGNormal } from '../rng/normal';\n\n\nexport function Poisson(rng: IRNGNormal = new Inversion()) {\n  return {\n    dpois,\n    ppois,\n    qpois,\n    rpois: (n: number, lambda: number) => rpois(n, lambda, rng)\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/poisson/index.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017 --initial\n *  Jan 9, 2018 tested and documented  \n * \n * ORGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1999-2014  The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *    #include <Rmath.h>\n *    double dsignrank(double x, double n, int give_log)\n *    double psignrank(double x, double n, int lower_tail, int log_p)\n *    double qsignrank(double x, double n, int lower_tail, int log_p)\n *    double rsignrank(double n)\n *\n *  DESCRIPTION\n *\n *    dsignrank\t   The density of the Wilcoxon Signed Rank distribution.\n *    psignrank\t   The distribution function of the Wilcoxon Signed Rank\n *\t\t   distribution.\n *    qsignrank\t   The quantile function of the Wilcoxon Signed Rank\n *\t\t   distribution.\n *    rsignrank\t   Random variates from the Wilcoxon Signed Rank\n *\t\t   distribution.\n */\n\nimport { IRNG, rng } from '../rng';\nimport { dsignrank } from './dsign';\nimport { psignrank } from './psign';\nimport { qsignrank } from './qsign';\nimport { rsignrank as _rsignrank } from './rsign';\n\nconst { MersenneTwister } = rng;\n\nexport function SignRank(rng: IRNG = new MersenneTwister(0)) {\n\n  function rsignrank(N: number, n: number) {\n    return _rsignrank(N, n, rng);\n  }\n\n  return {\n    dsignrank,\n    psignrank,\n    qsignrank,\n    rsignrank\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/signrank/index.ts","//\nimport { rchisq } from '../chi-2/rchisq';\nimport { rnorm } from '../normal/rnorm';\nimport { arrayrify, flatten } from '../r-func';\nimport { IRNGNormal } from '../rng/normal/inormal-rng';\nimport { Inversion } from '../rng/normal/inversion';\n//\nimport { dnt } from './dnt';\nimport { dt as _dt } from './dt';\nimport { pnt } from './pnt';\nimport { pt as _pt } from './pt';\nimport { qnt } from './qnt';\nimport { qt as _qt } from './qt';\n//\nimport { rt as _rt } from './rt';\n\n\nexport function StudentT(rng: IRNGNormal = new Inversion()) {\n  function dt(x: number | number[], df: number, ncp?: number, asLog = false) {\n    if (ncp === undefined) {\n      return _dt(x, df, asLog);\n    }\n    return dnt(x, df, ncp, asLog);\n  }\n\n  function pt(\n    q: number | number[],\n    df: number,\n    ncp?: number,\n    lowerTail: boolean = true,\n    logP = false\n  ) {\n    if (ncp === undefined) {\n      return _pt(q, df, lowerTail, logP);\n    }\n\n    return pnt(q, df, ncp, lowerTail, logP);\n  }\n\n  function qt(\n    pp: number | number[],\n    df: number,\n    ncp?: number,\n    lowerTail: boolean = true,\n    logP: boolean = false\n  ) {\n    if (ncp === undefined) {\n      return _qt(pp, df, lowerTail, logP);\n    }\n    return qnt(pp, df, ncp, lowerTail, logP);\n  }\n\n  function rt(n: number, df: number, ncp?: number) {\n    if (ncp === undefined) {\n      return _rt(n, df, rng);\n    } else if (Number.isNaN(ncp)) {\n      return new Array(n).fill(NaN);\n    } else {\n      // array devision and sqrt\n      const div = arrayrify((a: number, b: number) => a / b);\n      const sqrt = arrayrify(Math.sqrt);\n\n      const norm = flatten(rnorm(n, ncp, 1, rng)); // bleed this first from rng\n      const chisq = flatten(\n        sqrt(\n          div(\n            rchisq(n, df, rng), \n            df\n          )\n        )\n      );\n\n      const result = norm.map((n, i) => n / chisq[i]);\n      return result.length === 1 ? result[0] : result;\n    }\n  }\n\n  return {\n    dt,\n    pt,\n    qt,\n    rt\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/student-t/index.ts","\nimport { ptukey as _pt } from './ptukey';\nimport { qtukey as _qt } from './qtukey';\n\n\nexport function Tukey() {\n\n  /*\n  > ptukey\n  function (q, nmeans, df, nranges = 1, lower.tail = TRUE, log.p = FALSE)\n  .Call(C_ptukey, q, nranges, nmeans, df, lower.tail, log.p)\n  <bytecode: 0x000000001cde3048>\n  <environment: namespace:stats>\n  \n  double ptukey(\n    double q,  // q\n    double rr, // nranges\n    double cc, // nmeans\n    double df, // df\n    int lower_tail, // lowertail\n    int log_p       // logp\n  */\n\n  function ptukey<T>(\n    q: T,\n    nmeans: number,\n    df: number,\n    nranges: number = 1,\n    lowerTail: boolean = true,\n    logP: boolean = false\n  ): T {\n    return _pt(q, nranges, nmeans, df, lowerTail, logP);\n  }\n  //\n  /*\n  /**\n> qtukey\nfunction (p, nmeans, df, nranges = 1, lower.tail = TRUE, log.p = FALSE)\n.Call(C_qtukey, p, nranges, nmeans, df, lower.tail, log.p)\n<bytecode: 0x000000001cde4a80>\n<environment: namespace:stats>\n  */\n  function qtukey<T>(\n    q: T,\n    nmeans: number,\n    df: number,\n    nranges: number = 1,\n    lowerTail: boolean = true,\n    logP: boolean = false\n  ): T {\n    return _qt(q, nranges, nmeans, df, lowerTail, logP);\n  }\n\n  return {\n    ptukey,\n    qtukey\n  };\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/tukey/index.ts","'use strict';\n\nimport { dunif } from './dunif';\nimport { punif } from './punif';\nimport { qunif } from './qunif';\nimport { runif } from './runif';\n\nimport { IRNG, rng } from '../rng';\nconst { MersenneTwister } = rng;\n\nexport function Uniform(rng: IRNG = new MersenneTwister(0)) {\n  return {\n    dunif,\n    punif,\n    qunif,\n    rng, // class of the rng\n    runif: (n: number = 1, min: number = 0, max: number = 1) =>\n      runif(n, min, max, rng)\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/uniform/index.ts","import { dweibull } from './dweibull';\nimport { pweibull } from './pweibull';\nimport { qweibull } from './qweibull';\nimport { rweibull as _rweibull } from './rweibull';\n\nimport { IRNG, rng as _rng } from '../rng';\n\nexport function Weibull(rng: IRNG = new _rng.MersenneTwister(0)) {\n  function rweibull(n: number, shape: number, scale: number = 1) {\n    return _rweibull(n, shape, scale, rng);\n  }\n\n  return {\n    dweibull,\n    pweibull,\n    qweibull,\n    rweibull\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/weibull/index.ts","import { dwilcox } from './dwilcox';\nimport { pwilcox } from './pwilcox';\nimport { qwilcox } from './qwilcox';\nimport { rwilcox as _rwilc }  from './rwilcox';\n//import { WilcoxonCache } from './WilcoxonCache';\n\nimport { IRNG } from '../rng';\nimport { MersenneTwister } from '../rng/mersenne-twister';\n\n\nexport function Wilcoxon(rng: IRNG = new MersenneTwister(0)){\n    function rwilcox(nn: number, m: number, n: number){\n        return _rwilc(nn, m, n, rng);\n    }\n    return {\n        dwilcox,\n        pwilcox,\n        qwilcox,\n        rwilcox\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/wilcoxon/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { Rf_gamma_cody } from '../../gamma/gamma_cody';\nimport { enmten_BESS, ensig_BESS, enten_BESS, exparg_BESS, nsig_BESS, rtnsig_BESS, xlrg_BESS_IJ } from '../bessel-constants';\nimport { IBesselRC } from '../IBesselRC';\n\nconst { sqrt, pow, min, max: fmax, exp, trunc } = Math;\nconst { POSITIVE_INFINITY: ML_POSINF } = Number;\n\nconst printer = debug('I_bessel');\n\nexport function I_bessel(\n    x: number,\n    alpha: number,\n    nb: number,\n    ize: number\n): IBesselRC {\n    /* -------------------------------------------------------------------\n \n     This routine calculates Bessel functions I_(N+ALPHA) (X)\n     for non-negative argument X, and non-negative order N+ALPHA,\n     with or without exponential scaling.\n \n \n     Explanation of variables in the calling sequence\n \n     X     - Non-negative argument for which\n         I's or exponentially scaled I's (I*EXP(-X))\n         are to be calculated.\tIf I's are to be calculated,\n         X must be less than exparg_BESS (IZE=1) or xlrg_BESS_IJ (IZE=2),\n         (see bessel.h).\n     ALPHA - Fractional part of order for which\n         I's or exponentially scaled I's (I*EXP(-X)) are\n         to be calculated.  0 <= ALPHA < 1.0.\n     NB    - Number of functions to be calculated, NB > 0.\n         The first function calculated is of order ALPHA, and the\n         last is of order (NB - 1 + ALPHA).\n     IZE   - Type.\tIZE = 1 if unscaled I's are to be calculated,\n                = 2 if exponentially scaled I's are to be calculated.\n     BI    - Output vector of length NB.\tIf the routine\n         terminates normally (NCALC=NB), the vector BI contains the\n         functions I(ALPHA,X) through I(NB-1+ALPHA,X), or the\n         corresponding exponentially scaled functions.\n     NCALC - Output variable indicating possible errors.\n         Before using the vector BI, the user should check that\n         NCALC=NB, i.e., all orders have been calculated to\n         the desired accuracy.\tSee error returns below.\n \n \n     *******************************************************************\n     *******************************************************************\n \n     Error returns\n \n      In case of an error,\tNCALC != NB, and not all I's are\n      calculated to the desired accuracy.\n \n      NCALC < 0:  An argument is out of range. For example,\n         NB <= 0, IZE is not 1 or 2, or IZE=1 and ABS(X) >= EXPARG_BESS.\n         In this case, the BI-vector is not calculated, and NCALC is\n         set to MIN0(NB,0)-1 so that NCALC != NB.\n \n      NB > NCALC > 0: Not all requested function values could\n         be calculated accurately.\tThis usually occurs because NB is\n         much larger than ABS(X).  In this case, BI[N] is calculated\n         to the desired accuracy for N <= NCALC, but precision\n         is lost for NCALC < N <= NB.  If BI[N] does not vanish\n         for N > NCALC (because it is too small to be represented),\n         and BI[N]/BI[NCALC] = 10**(-K), then only the first NSIG-K\n         significant figures of BI[N] can be trusted.\n \n \n     Intrinsic functions required are:\n \n         DBLE, EXP, gamma_cody, INT, MAX, MIN, REAL, SQRT\n \n \n     Acknowledgement\n \n      This program is based on a program written by David J.\n      Sookne (2) that computes values of the Bessel functions J or\n      I of float argument and long order.  Modifications include\n      the restriction of the computation to the I Bessel function\n      of non-negative float argument, the extension of the computation\n      to arbitrary positive order, the inclusion of optional\n      exponential scaling, and the elimination of most underflow.\n      An earlier version was published in (3).\n \n     References: \"A Note on Backward Recurrence Algorithms,\" Olver,\n              F. W. J., and Sookne, D. J., Math. Comp. 26, 1972,\n              pp 941-947.\n \n             \"Bessel Functions of Real Argument and Integer Order,\"\n              Sookne, D. J., NBS Jour. of Res. B. 77B, 1973, pp\n              125-132.\n \n             \"ALGORITHM 597, Sequence of Modified Bessel Functions\n              of the First Kind,\" Cody, W. J., Trans. Math. Soft.,\n              1983, pp. 242-245.\n \n      Latest modification: May 30, 1989\n \n      Modified by: W. J. Cody and L. Stoltz\n               Applied Mathematics Division\n               Argonne National Laboratory\n               Argonne, IL  60439\n    */\n\n    /*-------------------------------------------------------------------\n      Mathematical constants\n      -------------------------------------------------------------------*/\n    const const__ = 1.585;\n\n    /* Local variables */\n    //int\n    let nend;\n    let intx;\n    let nbmx;\n    let k;\n    let l;\n    let n;\n    let nstart;\n\n    //double\n    let pold;\n    let test;\n    let p;\n    let em;\n    let en;\n    let empal;\n    let emp2al;\n    let halfx;\n    let aa;\n    let bb;\n    let cc;\n    let psave;\n    let plast;\n    let tover;\n    let psavel;\n    let sum;\n    let nu;\n    let twonu;\n\n    //int\n    let ncalc = nb;\n    let bi2 = new Array<number>(nb).fill(0);\n    /*Parameter adjustments */\n    //--bi;\n    nu = alpha;\n    twonu = nu + nu;\n\n    /*-------------------------------------------------------------------\n      Check for X, NB, OR IZE out of range.\n      ------------------------------------------------------------------- */\n    if (nb > 0 && x >= 0. && (0. <= nu && nu < 1.) &&\n        (1 <= ize && ize <= 2)) {\n\n        ncalc = nb;\n        if (ize === 1 && x > exparg_BESS) {\n            //for (k = 1; k <= nb; k++)\n            //\tbi2[k-1] = ML_POSINF; /* the limit *is* = Inf */\n            return { x: ML_POSINF, nb, ncalc };\n        }\n        if (ize === 2 && x > xlrg_BESS_IJ) {\n            //for (k = 1; k <= nb; k++)\n            //\tbi2[k-1] = 0.; /* The limit exp(-x) * I_nu(x) --> 0 : */\n            return { x: 0., nb, ncalc };\n        }\n        intx = trunc(x); /* fine, since x <= xlrg_BESS_IJ <<< LONG_MAX */\n        if (x >= rtnsig_BESS) { /* \"non-small\" x ( >= 1e-4 ) */\n            /* -------------------------------------------------------------------\n               Initialize the forward sweep, the P-sequence of Olver\n               ------------------------------------------------------------------- */\n            nbmx = nb - intx;\n            n = intx + 1;\n            en = (n + n) + twonu;\n            plast = 1.;\n            p = en / x;\n            /* ------------------------------------------------\n               Calculate general significance test\n               ------------------------------------------------ */\n            test = ensig_BESS + ensig_BESS;\n            if (intx * 2 > nsig_BESS * 5) {\n                test = sqrt(test * p);\n            }\n            else {\n                test /= pow(const__, intx);\n            }\n            let gotoL120: boolean = false;\n            if (nbmx >= 3) {\n                /* --------------------------------------------------\n                   Calculate P-sequence until N = NB-1\n                   Check for possible overflow.\n                   ------------------------------------------------ */\n                tover = enten_BESS / ensig_BESS;\n                nstart = intx + 2;\n                nend = nb - 1;\n                for (k = nstart; k <= nend; ++k) {\n                    n = k;\n                    en += 2.;\n                    pold = plast;\n                    plast = p;\n                    p = en * plast / x + pold;\n                    if (p > tover) {\n                        /* ------------------------------------------------\n                           To avoid overflow, divide P-sequence by TOVER.\n                           Calculate P-sequence until ABS(P) > 1.\n                           ---------------------------------------------- */\n                        tover = enten_BESS;\n                        p /= tover;\n                        plast /= tover;\n                        psave = p;\n                        psavel = plast;\n                        nstart = n + 1;\n                        do {\n                            ++n;\n                            en += 2.;\n                            pold = plast;\n                            plast = p;\n                            p = en * plast / x + pold;\n                        } while (p <= 1.);\n\n                        bb = en / x;\n                        /* ------------------------------------------------\n                           Calculate backward test, and find NCALC,\n                           the highest N such that the test is passed.\n                           ------------------------------------------------ */\n                        test = pold * plast / ensig_BESS;\n                        test *= .5 - .5 / (bb * bb);\n                        p = plast * tover;\n                        --n;\n                        en -= 2.;\n                        nend = min(nb, n);\n                        for (l = nstart; l <= nend; ++l) {\n                            ncalc = l - 1;\n                            pold = psavel;\n                            psavel = psave;\n                            psave = en * psavel / x + pold;\n                            if (psave * psavel > test) {\n                                break;\n                            }\n                            ncalc = nend;\n                        }\n                        gotoL120 = true;\n                        break;\n                    }//if\n                }//for\n                if (gotoL120 === false) {\n                    n = nend;\n                    en = (n + n) + twonu;\n                    /*---------------------------------------------------\n                      Calculate special significance test for NBMX > 2.\n                      --------------------------------------------------- */\n                    test = fmax(test, sqrt(plast * ensig_BESS) * sqrt(p + p));\n                }\n            }//if\n            /* --------------------------------------------------------\n               Calculate P-sequence until significance test passed.\n               -------------------------------------------------------- */\n            if (gotoL120 === false) {\n                do {\n                    ++n;\n                    en += 2.;\n                    pold = plast;\n                    plast = p;\n                    p = en * plast / x + pold;\n                } while (p < test);\n            }\n\n            //L120:\n            /* -------------------------------------------------------------------\n             Initialize the backward recursion and the normalization sum.\n             ------------------------------------------------------------------- */\n            ++n;\n            en += 2.;\n            bb = 0.;\n            aa = 1. / p;\n            em = n - 1.;\n            empal = em + nu;\n            emp2al = em - 1. + twonu;\n            sum = aa * empal * emp2al / em;\n            nend = n - nb;\n            let gotoL230 = false;\n            //let gotoL220 = false; //for doc purpose, because L220 follows the for loop immediatly\n            //for loop used to skip over rest of code and simualte \"goto\"\n            for (let cnt = 0; cnt < 1; cnt++) {\n                if (nend < 0) {\n                    /* -----------------------------------------------------\n                       N < NB, so store BI[N] and set higher orders to 0..\n                       ----------------------------------------------------- */\n                    bi2[n - 1] = aa;\n                    nend = -nend;\n                    for (l = 1; l <= nend; ++l) {\n                        bi2[n + l - 1] = 0.;\n                    }\n                }\n                else {\n                    if (nend > 0) {\n                        /* -----------------------------------------------------\n                           Recur backward via difference equation,\n                           calculating (but not storing) BI[N], until N = NB.\n                           --------------------------------------------------- */\n\n                        for (l = 1; l <= nend; ++l) {\n                            --n;\n                            en -= 2.;\n                            cc = bb;\n                            bb = aa;\n                            /* for x ~= 1500,  sum would overflow to 'inf' here,\n                             * and the final bi[] /= sum would give 0 wrongly;\n                             * RE-normalize (aa, sum) here -- no need to undo */\n                            if (nend > 100 && aa > 1e200) {\n                                /* multiply by  2^-900 = 1.18e-271 */\n                                let pow05_to_900 = pow(2, -900);\n                                cc = cc * pow05_to_900;\n                                bb = bb * pow05_to_900;\n                                sum = sum * pow05_to_900;\n                            }\n                            aa = en * bb / x + cc;\n                            em -= 1.;\n                            emp2al -= 1.;\n                            if (n === 1) {\n                                break;\n                            }\n                            if (n === 2) {\n                                emp2al = 1.;\n                            }\n                            empal -= 1.;\n                            sum = (sum + aa * empal) * emp2al / em;\n                        }\n                    }\n                    /* ---------------------------------------------------\n                       Store BI[NB]\n                       --------------------------------------------------- */\n                    bi2[n - 1] = aa;\n                    if (nb <= 1) {\n                        sum = sum + sum + aa;\n                        gotoL230 = true;\n                        break; //for loop used to skip over rest of code and simualte \"goto\"\n                    }\n                    /* -------------------------------------------------\n                       Calculate and Store BI[NB-1]\n                       ------------------------------------------------- */\n                    --n;\n                    en -= 2.;\n                    bi2[n - 1] = en * aa / x + bb;\n                    if (n === 1) {\n                        //gotoL220 = true;\n                        break; //for loop used to skip over rest of code and simualte \"goto\"\n                    }\n                    em -= 1.;\n                    if (n === 2)\n                        emp2al = 1.;\n                    else\n                        emp2al -= 1.;\n\n                    empal -= 1.;\n                    sum = (sum + bi2[n - 1] * empal) * emp2al / em;\n                }// if else\n                nend = n - 2;\n                if (nend > 0) {\n                    /* --------------------------------------------\n                       Calculate via difference equation\n                       and store BI[N], until N = 2.\n                       ------------------------------------------ */\n                    for (l = 1; l <= nend; ++l) {\n                        --n;\n                        en -= 2.;\n                        bi2[n - 1] = en * bi2[n] / x + bi2[n + 1];\n                        em -= 1.;\n                        if (n === 2)\n                            emp2al = 1.;\n                        else\n                            emp2al -= 1.;\n                        empal -= 1.;\n                        sum = (sum + bi2[n - 1] * empal) * emp2al / em;\n                    }//for\n                }//if\n                /* ----------------------------------------------\n                   Calculate BI[1]\n                   -------------------------------------------- */\n                bi2[0] = 2. * empal * bi2[1] / x + bi2[2];\n            }//for loop for \"goto\" simulation\n\n            //L220:\n            if (gotoL230 === false) {\n                sum = sum + sum + bi2[0];\n            }\n\n            //L230:\n            /* ---------------------------------------------------------\n               Normalize.  Divide all BI[N] by sum.\n               --------------------------------------------------------- */\n            if (nu !== 0.)\n                sum *= (Rf_gamma_cody(1. + nu) * pow(x * .5, -nu));\n            if (ize === 1)\n                sum *= exp(-(x));\n            aa = enmten_BESS;\n            if (sum > 1.)\n                aa *= sum;\n            for (n = 1; n <= nb; ++n) {\n                if (bi2[n - 1] < aa)\n                    bi2[n - 1] = 0.;\n                else\n                    bi2[n - 1] /= sum;\n            }\n            const rc = { x: bi2[nb - 1], nb, ncalc };\n            printer('normalize, devide all  Bi[N] by sum, result:%o', rc);\n            return rc;\n        }\n        else { /* small x  < 1e-4 */\n            /* -----------------------------------------------------------\n               Two-term ascending series for small X.\n               -----------------------------------------------------------*/\n            aa = 1.;\n            empal = 1. + nu;\n\n            /* No need to check for underflow */\n            halfx = .5 * x;\n\n            if (nu !== 0.)\n                aa = pow(halfx, nu) / Rf_gamma_cody(empal);\n            if (ize === 2)\n                aa *= exp(-(x));\n            bb = halfx * halfx;\n            bi2[0] = aa + aa * bb / empal;\n            if (x !== 0. && bi2[0] === 0.)\n                ncalc = 0;\n            if (nb > 1) {\n                if (x === 0.) {\n                    for (n = 2; n <= nb; ++n)\n                        bi2[n - 1] = 0.;\n                }\n                else {\n                    /* -------------------------------------------------\n                       Calculate higher-order functions.\n                       ------------------------------------------------- */\n                    cc = halfx;\n                    tover = (enmten_BESS + enmten_BESS) / x;\n                    if (bb !== 0.)\n                        tover = enmten_BESS / bb;\n                    for (n = 2; n <= nb; ++n) {\n                        aa /= empal;\n                        empal += 1.;\n                        aa *= cc;\n                        if (aa <= tover * empal)\n                            bi2[n - 1] = aa = 0.;\n                        else\n                            bi2[n - 1] = aa + aa * bb / empal;\n                        if (bi2[n - 1] === 0. && ncalc > n)\n                            ncalc = n - 1;\n                    }\n                }\n            }\n        }\n    }\n    else { /* argument out of range */\n        ncalc = min(nb, 0) - 1;\n    }\n    const rc = { x: bi2[nb - 1], nb, ncalc };\n    printer('drop off, result:%o', rc);\n    return rc;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/bessel/besselI/IBessel.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ME, ML_ERROR } from '../../common/_general';\nimport { multiplexer } from '../../r-func';\nimport { sinpi } from '../../trigonometry/sinpi';\nimport { boolVector, numVector } from '../../types';\nimport { internal_bessel_k } from '../besselK';\nimport { I_bessel } from './IBessel';\n\n\n\nconst { isNaN: ISNAN } = Number;\nconst { exp, trunc, floor, PI: M_PI } = Math;\n\nconst printer = debug('bessel_i');\n\nexport function bessel_i(_x: numVector, _alpha: numVector, _expo: boolVector): numVector {\n    return multiplexer(_x, _alpha, _expo)((x, alpha, expo) => internal_bessel_i(x, alpha, expo));\n}\n\n/* .Internal(besselI(*)) : */\nexport function internal_bessel_i(x: number, alpha: number, expo: boolean = false): number {\n\n    //int\n    let nb;\n    let ize;\n\n    //double \n    let na;\n\n    /* NaNs propagated correctly */\n    if (ISNAN(x) || ISNAN(alpha)) return x + alpha;\n    if (x < 0) {\n        ML_ERROR(ME.ME_RANGE, 'bessel_i', printer);\n        return NaN;\n    }\n    ize = expo ? 2 : 1;\n    na = floor(alpha);\n    if (alpha < 0) {\n        /* Using Abramowitz & Stegun  9.6.2 & 9.6.6\n         * this may not be quite optimal (CPU and accuracy wise) */\n        return (internal_bessel_i(x, -alpha, expo) +\n            ((alpha === na) ? /* sin(pi * alpha) = 0 */ 0 :\n                internal_bessel_k(x, -alpha, expo) *\n                ((ize === 1) ? 2. : 2. * exp(-2. * x)) / M_PI * sinpi(-alpha)));\n    }\n    nb = 1 + trunc(na); /* nb-1 <= alpha < nb */\n    alpha -= (nb - 1);\n\n\n\n    const rc = I_bessel(x, alpha, nb, ize);\n    if (rc.ncalc !== rc.nb) {/* error input */\n        if (rc.ncalc < 0)\n            printer('bessel_i(%d): ncalc (=%d) != nb (=%d); alpha=%d. Arg. out of range?',\n                x, rc.ncalc, rc.nb, alpha);\n        else\n            printer('bessel_i(%d,nu=%d): precision lost in result\\n',\n                rc.x, alpha + rc.nb - 1);\n    }\n    x = rc.x; // bi[nb - 1];\n\n    return x;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/bessel/besselI/index.ts","\n/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ME, ML_ERROR } from '../../common/_general';\nimport { Rf_gamma_cody } from '../../gamma/gamma_cody';\nimport {\n    enmten_BESS,\n    ensig_BESS,\n    enten_BESS,\n    xlrg_BESS_IJ\n} from '../bessel-constants';\nimport { IBesselRC } from '../IBesselRC';\n\nconst { min, trunc, pow, sqrt, sin, cos, max, abs } = Math;\n\nconst printer = debug('J_bessel');\n\nexport function J_bessel(x: number, alpha: number, nb: number): IBesselRC {\n    /*\n     Calculates Bessel functions J_{n+alpha} (x)\n     for non-negative argument x, and non-negative order n+alpha, n = 0,1,..,nb-1.\n  \n      Explanation of variables in the calling sequence.\n  \n     X     - Non-negative argument for which J's are to be calculated.\n     ALPHA - Fractional part of order for which\n       J's are to be calculated.  0 <= ALPHA < 1.\n     NB    - Number of functions to be calculated, NB >= 1.\n       The first function calculated is of order ALPHA, and the\n       last is of order (NB - 1 + ALPHA).\n     B     - Output vector of length NB.  If RJBESL\n       terminates normally (NCALC=NB), the vector B contains the\n       functions J/ALPHA/(X) through J/NB-1+ALPHA/(X).\n     NCALC - Output variable indicating possible errors.\n       Before using the vector B, the user should check that\n       NCALC=NB, i.e., all orders have been calculated to\n       the desired accuracy.\tSee the following\n  \n       ****************************************************************\n  \n     Error return codes\n  \n      In case of an error,  NCALC != NB, and not all J's are\n      calculated to the desired accuracy.\n  \n      NCALC < 0:\tAn argument is out of range. For example,\n         NBES <= 0, ALPHA < 0 or > 1, or X is too large.\n         In this case, b[1] is set to zero, the remainder of the\n         B-vector is not calculated, and NCALC is set to\n         MIN(NB,0)-1 so that NCALC != NB.\n  \n      NB > NCALC > 0: Not all requested function values could\n         be calculated accurately.  This usually occurs because NB is\n         much larger than ABS(X).\t In this case, b[N] is calculated\n         to the desired accuracy for N <= NCALC, but precision\n         is lost for NCALC < N <= NB.  If b[N] does not vanish\n         for N > NCALC (because it is too small to be represented),\n         and b[N]/b[NCALC] = 10^(-K), then only the first NSIG - K\n         significant figures of b[N] can be trusted.\n  \n  \n      Acknowledgement\n  \n      This program is based on a program written by David J. Sookne\n      (2) that computes values of the Bessel functions J or I of float\n      argument and long order.  Modifications include the restriction\n      of the computation to the J Bessel function of non-negative float\n      argument, the extension of the computation to arbitrary positive\n      order, and the elimination of most underflow.\n  \n      References:\n  \n      Olver, F.W.J., and Sookne, D.J. (1972)\n      \"A Note on Backward Recurrence Algorithms\";\n      Math. Comp. 26, 941-947.\n  \n      Sookne, D.J. (1973)\n      \"Bessel Functions of Real Argument and Integer Order\";\n      NBS Jour. of Res. B. 77B, 125-132.\n  \n      Latest modification: March 19, 1990\n  \n      Author: W. J. Cody\n        Applied Mathematics Division\n        Argonne National Laboratory\n        Argonne, IL  60439\n     *******************************************************************\n     */\n\n    /* ---------------------------------------------------------------------\n      Mathematical constants\n \n     PI2\t  = 2 / PI\n     TWOPI1 = first few significant digits of 2 * PI\n     TWOPI2 = (2*PI - TWOPI1) to working precision, i.e.,\n        TWOPI1 + TWOPI2 = 2 * PI to extra precision.\n     --------------------------------------------------------------------- */\n    const pi2 = .636619772367581343075535;\n    const twopi1 = 6.28125;\n    const twopi2 = .001935307179586476925286767;\n\n    /*---------------------------------------------------------------------\n     *  Factorial(N)\n     *--------------------------------------------------------------------- */\n    const fact: number[] = [1., 1., 2., 6., 24., 120., 720., 5040., 40320.,\n        362880., 3628800., 39916800., 479001600., 6227020800., 87178291200.,\n        1.307674368e12, 2.0922789888e13, 3.55687428096e14, 6.402373705728e15,\n        1.21645100408832e17, 2.43290200817664e18, 5.109094217170944e19,\n        1.12400072777760768e21, 2.585201673888497664e22,\n        6.2044840173323943936e23];\n\n    /* Local variables */\n    //const int lim = nb;\n    let b2 = new Array(nb).fill(0);\n\n    //START ints\n    let i_nend;\n    let nbmx;\n    let i;\n    let j;\n    let l;\n    let i_m;\n    let n;\n    let nstart;\n    //END ints \n\n    //START double\n    let capp;\n    let capq;\n    let pold;\n    let vcos;\n    let test;\n    let vsin;\n\n    let p;\n    let s;\n    let t;\n    let z;\n    let alpem;\n    let halfx;\n    let aa;\n    let bb;\n    let cc;\n    let psave;\n    let plast;\n    let tover;\n    let t1;\n    let alp2em;\n    let em;\n    let en;\n    let xc;\n    let xk;\n    let xm;\n    let psavel;\n    let gnu;\n    let xin;\n    let sum;\n    //END DOUBLE\n\n    //int\n    let ncalc;\n    let gotoL190 = false;\n\n    /* Parameter adjustment */\n    //--b;\n\n    let nu = alpha;\n    let twonu = nu + nu;\n\n    /*-------------------------------------------------------------------\n      Check for out of range arguments.\n      -------------------------------------------------------------------*/\n\n    if (\n        !(nb > 0 && x >= 0. && 0. <= nu && nu < 1.)\n    ) {\n        /* Error return -- X, NB, or ALPHA is out of range : */\n        b2[0] = 0.;\n        ncalc = min(nb, 0) - 1;\n        return { x, nb, ncalc };\n    }\n\n\n    ncalc = nb;\n    if (x > xlrg_BESS_IJ) {\n        ML_ERROR(ME.ME_RANGE, 'J_bessel', printer);\n        /* indeed, the limit is 0,\n         * but the cutoff happens too early */\n        return { x: 0, nb, ncalc };\n    }\n    let intxj = trunc(x);\n\n    /*===================================================================\n      Branch into  3 cases :\n      1) use 2-term ascending series for small X\n      2) use asymptotic form for large X when NB is not too large\n      3) use recursion otherwise\n      ===================================================================*/\n\n    if (x < 1 / 10000) {\n        printer('x < 0.0001 , x=%d, nb=%d', x, nb);\n        /* ---------------------------------------------------------------\n           Two-term ascending series for small X.\n           --------------------------------------------------------------- */\n        alpem = 1. + nu;\n\n        halfx = (x > enmten_BESS) ? .5 * x : 0.;\n        aa = (nu !== 0.) ? pow(halfx, nu) / (nu * Rf_gamma_cody(nu)) : 1.;\n        bb = (x + 1. > 1.) ? -halfx * halfx : 0.;\n        b2[0] = aa + aa * bb / alpem;\n        if (x !== 0. && b2[0] === 0.)\n            ncalc = 0;\n\n        if (nb !== 1) {\n            if (x <= 0.) {\n                for (n = 2; n <= nb; ++n)\n                    b2[n - 1] = 0.;\n            }\n            else {\n                /* ----------------------------------------------\n                   Calculate higher order functions.\n                   ---------------------------------------------- */\n                if (bb === 0.)\n                    tover = (enmten_BESS + enmten_BESS) / x;\n                else\n                    tover = enmten_BESS / bb;\n                cc = halfx;\n                for (n = 2; n <= nb; ++n) {\n                    aa /= alpem;\n                    alpem += 1.;\n                    aa *= cc;\n                    if (aa <= tover * alpem)\n                        aa = 0.;\n\n                    b2[n - 1] = aa + aa * bb / alpem;\n                    if (b2[n - 1] === 0. && ncalc > n)\n                        ncalc = n - 1;\n                }\n            }\n        }\n    }\n    else if (x > 25. && nb <= intxj + 1) {\n        printer('x > 25 and nb < int(x+1) :x=%d, nb=%d', x, nb);\n        /* ------------------------------------------------------------\n           Asymptotic series for X > 25 (and not too large nb)\n           ------------------------------------------------------------ */\n        xc = sqrt(pi2 / x);\n        xin = 1 / (64 * x * x);\n        if (x >= 130.) i_m = 4;\n        else if (x >= 35.) i_m = 8;\n        else i_m = 11;\n        xm = 4. * i_m;\n        /* ------------------------------------------------\n           Argument reduction for SIN and COS routines.\n           ------------------------------------------------ */\n        t = trunc(x / (twopi1 + twopi2) + .5);\n        z = (x - t * twopi1) - t * twopi2 - (nu + .5) / pi2;\n        vsin = sin(z);\n        vcos = cos(z);\n        gnu = twonu;\n        for (i = 1; i <= 2; ++i) {\n            s = (xm - 1. - gnu) * (xm - 1. + gnu) * xin * .5;\n            t = (gnu - (xm - 3.)) * (gnu + (xm - 3.));\n            t1 = (gnu - (xm + 1.)) * (gnu + (xm + 1.));\n            let k = i_m + i_m;\n            capp = s * t / fact[k];\n            capq = s * t1 / fact[k + 1];\n            xk = xm;\n            for (; k >= 4; k -= 2) {/* k + 2(j-2) == 2m */\n                xk -= 4.;\n                s = (xk - 1. - gnu) * (xk - 1. + gnu);\n                t1 = t;\n                t = (gnu - (xk - 3.)) * (gnu + (xk - 3.));\n                capp = (capp + 1. / fact[k - 2]) * s * t * xin;\n                capq = (capq + 1. / fact[k - 1]) * s * t1 * xin;\n\n            }\n            capp += 1.;\n            capq = (capq + 1.) * (gnu * gnu - 1.) * (.125 / x);\n            b2[i - 1] = xc * (capp * vcos - capq * vsin);\n            if (nb === 1) {\n                //return (BesselRC) { 0, nb, ncalc };\n                return { x: b2[nb - 1], nb, ncalc };\n            }\n\n        /* vsin <--> vcos */ t = vsin; vsin = -vcos; vcos = t;\n            gnu += 2.;\n        }\n        /* -----------------------------------------------\n           If  NB > 2, compute J(X,ORDER+I)\tfor I = 2, NB-1\n           ----------------------------------------------- */\n        if (nb > 2)\n            for (gnu = twonu + 2., j = 3; j <= nb; j++ , gnu += 2.)\n                b2[j - 1] = gnu * b2[j - 1 - 1] / x - b2[j - 2 - 1];\n    }\n    else {\n        printer('rest: x=%d, nb=%d\\t', x, nb);\n        /* rtnsig_BESS <= x && ( x <= 25 || intx+1 < *nb ) :\n           --------------------------------------------------------\n           Use recurrence to generate results.\n           First initialize the calculation of P*S.\n           -------------------------------------------------------- */\n        nbmx = nb - intxj;\n        n = intxj + 1;\n        en = (n + n) + twonu;\n        plast = 1.;\n        p = en / x;\n        /* ---------------------------------------------------\n           Calculate general significance test.\n           --------------------------------------------------- */\n        test = ensig_BESS + ensig_BESS;\n        if (nbmx >= 3) {\n            /* ------------------------------------------------------------\n               Calculate P*S until N = NB-1.  Check for possible overflow.\n               ---------------------------------------------------------- */\n            tover = enten_BESS / ensig_BESS;\n            nstart = intxj + 2;\n            i_nend = nb - 1;\n            en = (nstart + nstart) - 2. + twonu;\n            for (let k = nstart; k <= i_nend; ++k) {\n                n = k;\n                en += 2.;\n                pold = plast;\n                plast = p;\n                p = en * plast / x - pold;\n                if (p > tover) {\n                    /* -------------------------------------------\n                       To avoid overflow, divide P*S by TOVER.\n                       Calculate P*S until ABS(P) > 1.\n                       -------------------------------------------*/\n                    tover = enten_BESS;\n                    p /= tover;\n                    plast /= tover;\n                    psave = p;\n                    psavel = plast;\n                    nstart = n + 1;\n                    do {\n                        ++n;\n                        en += 2.;\n                        pold = plast;\n                        plast = p;\n                        p = en * plast / x - pold;\n                    } while (p <= 1.);\n\n                    bb = en / x;\n                    /* -----------------------------------------------\n                       Calculate backward test and find NCALC,\n                       the highest N such that the test is passed.\n                       ----------------------------------------------- */\n                    test = pold * plast * (.5 - .5 / (bb * bb));\n                    test /= ensig_BESS;\n                    p = plast * tover;\n                    --n;\n                    en -= 2.;\n                    i_nend = min(nb, n);\n                    for (l = nstart; l <= i_nend; ++l) {\n                        pold = psavel;\n                        psavel = psave;\n                        psave = en * psavel / x - pold;\n                        if (psave * psavel > test) {\n                            ncalc = l - 1;\n                            break;\n                        }\n                        ncalc = l;\n                    }\n                    gotoL190 = true;\n                    break;\n                }//if\n            }//for\n            n = i_nend;\n            en = (n + n) + twonu;\n            /* -----------------------------------------------------\n               Calculate special significance test for NBMX > 2.\n               -----------------------------------------------------*/\n            test = max(test, sqrt(plast * ensig_BESS) * sqrt(p + p));\n        }\n        /* ------------------------------------------------\n           Calculate P*S until significance test passes. */\n        if (!gotoL190) {\n            do {\n                ++n;\n                en += 2.;\n                pold = plast;\n                plast = p;\n                p = en * plast / x - pold;\n            } while (p < test);\n        }\n        /*---------------------------------------------------------------\n        Initialize the backward recursion and the normalization sum.\n        --------------------------------------------------------------- */\n        ++n;\n        en += 2.;\n        bb = 0.;\n        aa = 1. / p;\n        em = i_m = n >> 1; //integer devide by 2 with sign preservation \n        i_m = (n << 1) - (i_m << 2); /* = 2 n - 4 (n/2)\n               = 0 for even, 2 for odd n */\n        if (i_m === 0)\n            sum = 0.;\n        else {\n            alpem = em - 1. + nu;\n            alp2em = em + em + nu;\n            sum = aa * alpem * alp2em / em;\n        }\n        i_nend = n - nb;\n        /* if (nend > 0) */\n        /* --------------------------------------------------------\n           Recur backward via difference equation, calculating\n           (but not storing) b[N], until N = NB.\n           -------------------------------------------------------- */\n        for (l = 1; l <= i_nend; ++l) {\n            --n;\n            en -= 2.;\n            cc = bb;\n            bb = aa;\n            aa = en * bb / x - cc;\n            i_m = i_m ? 0 : 2; /* m = 2 - m failed on gcc4-20041019 */\n            if (i_m !== 0) {\n                em -= 1.;\n                alp2em = em + em + nu;\n                if (n === 1)\n                    break;\n\n                alpem = em - 1. + nu;\n                if (alpem === 0.)\n                    alpem = 1.;\n                sum = (sum + aa * alp2em) * alpem / em;\n            }\n        }\n        /*--------------------------------------------------\n          Store b[NB].\n          --------------------------------------------------*/\n        b2[n - 1] = aa;\n        //one loop to get rid of \"gotos\"\n        let gotoL240 = false;\n        let gotoL250 = false;\n        for (let cnt = 1; cnt > 0; cnt--) {\n            if (i_nend >= 0) {\n                if (nb <= 1) {\n                    if (nu + 1. === 1.)\n                        alp2em = 1.;\n                    else\n                        alp2em = nu;\n                    sum += b2[0] * alp2em;\n                    gotoL250 = true;\n                    break;\n                }\n                else {/*-- nb >= 2 : ---------------------------\n            Calculate and store b[NB-1].\n            ----------------------------------------*/\n                    --n;\n                    en -= 2.;\n                    b2[n - 1] = en * aa / x - bb;\n                    if (n === 1) {\n                        gotoL240 = true;\n                        break;\n                    }\n\n                    i_m = i_m ? 0 : 2; /* m = 2 - m failed on gcc4-20041019 */\n                    if (i_m !== 0) {\n                        em -= 1.;\n                        alp2em = em + em + nu;\n                        alpem = em - 1. + nu;\n                        if (alpem === 0.)\n                            alpem = 1.;\n                        sum = (sum + b2[n - 1] * alp2em) * alpem / em;\n                    }//if\n                }//if else\n            }// if\n        }//while the break\n\n        /* if (n - 2 != 0) */\n        /* --------------------------------------------------------\n           Calculate via difference equation and store b[N],\n           until N = 2.\n           -------------------------------------------------------- */\n        if (gotoL250 === false && gotoL240 === false) {\n            for (n = n - 1; n >= 2; n--) {\n                en -= 2.;\n                b2[n - 1] = en * b2[n + 1 - 1] / x - b2[n + 2 - 1];\n                i_m = i_m ? 0 : 2; /* m = 2 - m failed on gcc4-20041019 */\n                if (i_m !== 0) {\n                    em -= 1.;\n                    alp2em = em + em + nu;\n                    alpem = em - 1. + nu;\n                    if (alpem === 0.)\n                        alpem = 1.;\n                    sum = (sum + b2[n - 1] * alp2em) * alpem / em;\n                }\n            }\n            /* ---------------------------------------\n               Calculate b[1].\n               -----------------------------------------*/\n            b2[0] = 2. * (nu + 1.) * b2[1] / x - b2[2];\n        }\n        //L240:\n        if (gotoL250 === false) {\n            em -= 1.;\n            alp2em = em + em + nu;\n            if (alp2em === 0.)\n                alp2em = 1.;\n            sum += b2[0] * alp2em;\n        }\n        //L250:\n        /* ---------------------------------------------------\n           Normalize.  Divide all b[N] by sum.\n           ---------------------------------------------------*/\n        /*\t    if (nu + 1. != 1.) poor test */\n        if (abs(nu) > 1e-15)\n            sum *= (Rf_gamma_cody(nu) * pow(.5 * x, -nu));\n\n        aa = enmten_BESS;\n        if (sum > 1.)\n            aa *= sum;\n        for (n = 1; n <= nb; ++n) {\n            if (abs(b2[n - 1]) < aa)\n                b2[n - 1] = 0.;\n            else\n                b2[n - 1] /= sum;\n        }//for\n    }//if\n    return { x: b2[nb - 1], nb, ncalc };\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/bessel/besselJ/Jbessel.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ME, ML_ERROR } from '../../common/_general';\nimport { sqxmin_BESS_K, xmax_BESS_K } from '../bessel-constants';\nimport { IBesselRC } from '../IBesselRC';\n\nconst M_SQRT_2dPI = 0.797884560802865355879892119869;\nconst { min, log, exp, abs: fabs, sinh, trunc, sqrt, max } = Math;\nconst { MAX_VALUE: DBL_MAX, EPSILON: DBL_EPSILON, MIN_VALUE: DBL_MIN } = Number;\nconst printer = debug('K_bessel');\nconst ML_POSINF = Infinity;\n\nexport function K_bessel(\n    x: number,\n    alpha: number,\n    nb: number,\n    ize: number\n): IBesselRC {\n    /*-------------------------------------------------------------------\n  \n      This routine calculates modified Bessel functions\n      of the third kind, K_(N+ALPHA) (X), for non-negative\n      argument X, and non-negative order N+ALPHA, with or without\n      exponential scaling.\n  \n      Explanation of variables in the calling sequence\n  \n     X     - Non-negative argument for which\n       K's or exponentially scaled K's (K*EXP(X))\n       are to be calculated.\tIf K's are to be calculated,\n       X must not be greater than XMAX_BESS_K.\n     ALPHA - Fractional part of order for which\n       K's or exponentially scaled K's (K*EXP(X)) are\n       to be calculated.  0 <= ALPHA < 1.0.\n     NB    - Number of functions to be calculated, NB > 0.\n       The first function calculated is of order ALPHA, and the\n       last is of order (NB - 1 + ALPHA).\n     IZE   - Type.\tIZE = 1 if unscaled K's are to be calculated,\n          = 2 if exponentially scaled K's are to be calculated.\n     BK    - Output vector of length NB.\tIf the\n       routine terminates normally (NCALC=NB), the vector BK\n       contains the functions K(ALPHA,X), ... , K(NB-1+ALPHA,X),\n       or the corresponding exponentially scaled functions.\n       If (0 < NCALC < NB), BK(I) contains correct function\n       values for I <= NCALC, and contains the ratios\n       K(ALPHA+I-1,X)/K(ALPHA+I-2,X) for the rest of the array.\n     NCALC - Output variable indicating possible errors.\n       Before using the vector BK, the user should check that\n       NCALC=NB, i.e., all orders have been calculated to\n       the desired accuracy.\tSee error returns below.\n  \n  \n     *******************************************************************\n  \n     Error returns\n  \n      In case of an error, NCALC != NB, and not all K's are\n      calculated to the desired accuracy.\n  \n      NCALC < -1:  An argument is out of range. For example,\n      NB <= 0, IZE is not 1 or 2, or IZE=1 and ABS(X) >= XMAX_BESS_K.\n      In this case, the B-vector is not calculated,\n      and NCALC is set to MIN0(NB,0)-2\t so that NCALC != NB.\n      NCALC = -1:  Either  K(ALPHA,X) >= XINF  or\n      K(ALPHA+NB-1,X)/K(ALPHA+NB-2,X) >= XINF.\t In this case,\n      the B-vector is not calculated.\tNote that again\n      NCALC != NB.\n  \n      0 < NCALC < NB: Not all requested function values could\n      be calculated accurately.  BK(I) contains correct function\n      values for I <= NCALC, and contains the ratios\n      K(ALPHA+I-1,X)/K(ALPHA+I-2,X) for the rest of the array.\n  \n  \n     Intrinsic functions required are:\n  \n       ABS, AINT, EXP, INT, LOG, MAX, MIN, SINH, SQRT\n  \n  \n     Acknowledgement\n  \n      This program is based on a program written by J. B. Campbell\n      (2) that computes values of the Bessel functions K of float\n      argument and float order.  Modifications include the addition\n      of non-scaled functions, parameterization of machine\n      dependencies, and the use of more accurate approximations\n      for SINH and SIN.\n  \n     References: \"On Temme's Algorithm for the Modified Bessel\n          Functions of the Third Kind,\" Campbell, J. B.,\n          TOMS 6(4), Dec. 1980, pp. 581-586.\n  \n         \"A FORTRAN IV Subroutine for the Modified Bessel\n          Functions of the Third Kind of Real Order and Real\n          Argument,\" Campbell, J. B., Report NRC/ERB-925,\n          National Research Council, Canada.\n  \n      Latest modification: May 30, 1989\n  \n      Modified by: W. J. Cody and L. Stoltz\n           Applied Mathematics Division\n           Argonne National Laboratory\n           Argonne, IL  60439\n  \n     -------------------------------------------------------------------\n    */\n    /*---------------------------------------------------------------------\n     * Mathematical constants\n     *\tA = LOG(2) - Euler's constant\n     *\tD = SQRT(2/PI)\n     ---------------------------------------------------------------------*/\n    const a = .11593151565841244881;\n\n    /*---------------------------------------------------------------------\n      P, Q - Approximation for LOG(GAMMA(1+ALPHA))/ALPHA + Euler's constant\n      Coefficients converted from hex to decimal and modified\n      by W. J. Cody, 2/26/82 */\n    const p = [.805629875690432845, 20.4045500205365151,\n        157.705605106676174, 536.671116469207504, 900.382759291288778,\n        730.923886650660393, 229.299301509425145, .822467033424113231];\n    const q = [29.4601986247850434, 277.577868510221208,\n        1206.70325591027438, 2762.91444159791519, 3443.74050506564618,\n        2210.63190113378647, 572.267338359892221];\n    /* R, S - Approximation for (1-ALPHA*PI/SIN(ALPHA*PI))/(2.D0*ALPHA) */\n    const r = [- .48672575865218401848, 13.079485869097804016,\n    -101.96490580880537526, 347.65409106507813131,\n        3.495898124521934782e-4];\n\n    const s = [- 25.579105509976461286, 212.57260432226544008,\n    -610.69018684944109624, 422.69668805777760407];\n    /* T    - Approximation for SINH(Y)/Y */\n    const t = [1.6125990452916363814e-10,\n        2.5051878502858255354e-8, 2.7557319615147964774e-6,\n        1.9841269840928373686e-4, .0083333333333334751799,\n        .16666666666666666446];\n    /*---------------------------------------------------------------------*/\n    const estm = [52.0583, 5.7607, 2.7782, 14.4303, 185.3004, 9.3715];\n    const estf = [41.8341, 7.1075, 6.4306, 42.511, 1.35633, 84.5096, 20.];\n\n    /* Local variables */\n    //int\n    let iend;\n    let i;\n    let j;\n    let k;\n    let m;\n    let ii;\n    let mplus1;\n\n    //double\n    let x2by4;\n    let twox;\n    let c;\n    let blpha;\n    let ratio;\n    let wminf;\n    let d1;\n    let d2;\n    let d3;\n    let f0;\n    let f1;\n    let f2;\n    let p0;\n    let q0;\n    let t1;\n    let t2;\n    let twonu;\n    let dm;\n    let ex;\n    let bk1;\n    let bk2;\n    let nu;\n\n    let bk = new Array<number>(nb).fill(0);\n\n\n\n    ii = 0; /* -Wall */\n\n    ex = x;\n    nu = alpha;\n    let ncalc = min(nb, 0) - 2;\n\n    if (nb > 0 && (0. <= nu && nu < 1.) && (1 <= ize && ize <= 2)) {\n        for (let cnt = 0; cnt < 1; cnt++) {\n            if (ex <= 0 || (ize === 1 && ex > xmax_BESS_K)) {\n                if (ex <= 0) {\n                    if (ex < 0) ML_ERROR(ME.ME_RANGE, 'K_bessel', printer);\n                    // for (i = 0; i < nb; i++)\n                    bk[0] = ML_POSINF;\n                }\n                else /* would only have underflow */\n                    //for (i = 0; i < nb; i++)\n                    bk[0] = 0.;\n                ncalc = nb;\n                return { x: bk[0], nb, ncalc };\n            }\n            k = 0;\n            if (nu < sqxmin_BESS_K) {\n                nu = 0.;\n            }\n            else if (nu > .5) {\n                k = 1;\n                nu -= 1.;\n            }\n            twonu = nu + nu;\n            iend = nb + k - 1;\n            c = nu * nu;\n            d3 = -c;\n            if (ex <= 1.) {\n                /* ------------------------------------------------------------\n                   Calculation of P0 = GAMMA(1+ALPHA) * (2/X)**ALPHA\n                      Q0 = GAMMA(1-ALPHA) * (X/2)**ALPHA\n                   ------------------------------------------------------------ */\n                d1 = 0.; d2 = p[0];\n                t1 = 1.; t2 = q[0];\n                for (i = 2; i <= 7; i += 2) {\n                    d1 = c * d1 + p[i - 1];\n                    d2 = c * d2 + p[i];\n                    t1 = c * t1 + q[i - 1];\n                    t2 = c * t2 + q[i];\n                }\n                d1 = nu * d1;\n                t1 = nu * t1;\n                f1 = log(ex);\n                f0 = a + nu * (p[7] - nu * (d1 + d2) / (t1 + t2)) - f1;\n                q0 = exp(-nu * (a - nu * (p[7] + nu * (d1 - d2) / (t1 - t2)) - f1));\n                f1 = nu * f0;\n                p0 = exp(f1);\n                /* -----------------------------------------------------------\n                   Calculation of F0 =\n                   ----------------------------------------------------------- */\n                d1 = r[4];\n                t1 = 1.;\n                for (i = 0; i < 4; ++i) {\n                    d1 = c * d1 + r[i];\n                    t1 = c * t1 + s[i];\n                }\n                /* d2 := sinh(f1)/ nu = sinh(f1)/(f1/f0)\n                 *\t   = f0 * sinh(f1)/f1 */\n                if (fabs(f1) <= .5) {\n                    f1 *= f1;\n                    d2 = 0.;\n                    for (i = 0; i < 6; ++i) {\n                        d2 = f1 * d2 + t[i];\n                    }\n                    d2 = f0 + f0 * f1 * d2;\n                }\n                else {\n                    d2 = sinh(f1) / nu;\n                }\n                f0 = d2 - nu * d1 / (t1 * p0);\n                if (ex <= 1e-10) {\n                    /* ---------------------------------------------------------\n                       X <= 1.0E-10\n                       Calculation of K(ALPHA,X) and X*K(ALPHA+1,X)/K(ALPHA,X)\n                       --------------------------------------------------------- */\n                    bk[0] = f0 + ex * f0;\n                    if (ize === 1) {\n                        bk[0] -= ex * bk[0];\n                    }\n                    ratio = p0 / f0;\n                    c = ex * DBL_MAX;\n                    if (k !== 0) {\n                        /* ---------------------------------------------------\n                           Calculation of K(ALPHA,X)\n                           and  X*K(ALPHA+1,X)/K(ALPHA,X),\tALPHA >= 1/2\n                           --------------------------------------------------- */\n                        ncalc = -1;\n                        if (bk[0] >= c / ratio) {\n                            return { x: bk[nb - 1], nb, ncalc };\n                        }\n                        bk[0] = ratio * bk[0] / ex;\n                        twonu += 2.;\n                        ratio = twonu;\n                    }\n                    ncalc = 1;\n                    if (nb === 1)\n                        return { x: bk[nb - 1], nb, ncalc };\n\n                    /* -----------------------------------------------------\n                       Calculate  K(ALPHA+L,X)/K(ALPHA+L-1,X),\n                       L = 1, 2, ... , NB-1\n                       ----------------------------------------------------- */\n                    ncalc = -1;\n                    for (i = 1; i < nb; ++i) {\n                        if (ratio >= c)\n                            return { x: bk[nb - 1], nb, ncalc };\n\n                        bk[i] = ratio / ex;\n                        twonu += 2.;\n                        ratio = twonu;\n                    }\n                    ncalc = 1;\n                    break; //goto L240\n                }\n                else {\n                    /* ------------------------------------------------------\n                       10^-10 < X <= 1.0\n                       ------------------------------------------------------ */\n                    c = 1.;\n                    x2by4 = ex * ex / 4.;\n                    p0 = .5 * p0;\n                    q0 = .5 * q0;\n                    d1 = -1.;\n                    d2 = 0.;\n                    bk1 = 0.;\n                    bk2 = 0.;\n                    f1 = f0;\n                    f2 = p0;\n                    do {\n                        d1 += 2.;\n                        d2 += 1.;\n                        d3 = d1 + d3;\n                        c = x2by4 * c / d2;\n                        f0 = (d2 * f0 + p0 + q0) / d3;\n                        p0 /= d2 - nu;\n                        q0 /= d2 + nu;\n                        t1 = c * f0;\n                        t2 = c * (p0 - d2 * f0);\n                        bk1 += t1;\n                        bk2 += t2;\n                    } while (fabs(t1 / (f1 + bk1)) > DBL_EPSILON ||\n                        fabs(t2 / (f2 + bk2)) > DBL_EPSILON);\n                    bk1 = f1 + bk1;\n                    bk2 = 2. * (f2 + bk2) / ex;\n                    if (ize === 2) {\n                        d1 = exp(ex);\n                        bk1 *= d1;\n                        bk2 *= d1;\n                    }\n                    wminf = estf[0] * ex + estf[1];\n                }\n            }\n            else if (DBL_EPSILON * ex > 1.) {\n                /* -------------------------------------------------\n                   X > 1./EPS\n                   ------------------------------------------------- */\n                ncalc = nb;\n                bk1 = 1. / (M_SQRT_2dPI * sqrt(ex));\n                //for (i = 0; i < nb; ++i)\n                //  bk[i] = bk1;\n                return { x: bk1, nb, ncalc };\n\n            }\n            else {\n                /* -------------------------------------------------------\n                   X > 1.0\n                   ------------------------------------------------------- */\n                twox = ex + ex;\n                blpha = 0.;\n                ratio = 0.;\n                if (ex <= 4.) {\n                    /* ----------------------------------------------------------\n                       Calculation of K(ALPHA+1,X)/K(ALPHA,X),  1.0 <= X <= 4.0\n                       ----------------------------------------------------------*/\n                    d2 = trunc(estm[0] / ex + estm[1]);\n                    m = trunc(d2);\n                    d1 = d2 + d2;\n                    d2 -= .5;\n                    d2 *= d2;\n                    for (i = 2; i <= m; ++i) {\n                        d1 -= 2.;\n                        d2 -= d1;\n                        ratio = (d3 + d2) / (twox + d1 - ratio);\n                    }\n                    /* -----------------------------------------------------------\n                       Calculation of I(|ALPHA|,X) and I(|ALPHA|+1,X) by backward\n                       recurrence and K(ALPHA,X) from the wronskian\n                       -----------------------------------------------------------*/\n                    d2 = trunc(estm[2] * ex + estm[3]);\n                    m = trunc(d2);\n                    c = fabs(nu);\n                    d3 = c + c;\n                    d1 = d3 - 1.;\n                    f1 = DBL_MIN;\n                    f0 = (2. * (c + d2) / ex + .5 * ex / (c + d2 + 1.)) * DBL_MIN;\n                    for (i = 3; i <= m; ++i) {\n                        d2 -= 1.;\n                        f2 = (d3 + d2 + d2) * f0;\n                        blpha = (1. + d1 / d2) * (f2 + blpha);\n                        f2 = f2 / ex + f1;\n                        f1 = f0;\n                        f0 = f2;\n                    }\n                    f1 = (d3 + 2.) * f0 / ex + f1;\n                    d1 = 0.;\n                    t1 = 1.;\n                    for (i = 1; i <= 7; ++i) {\n                        d1 = c * d1 + p[i - 1];\n                        t1 = c * t1 + q[i - 1];\n                    }\n                    p0 = exp(c * (a + c * (p[7] - c * d1 / t1) - log(ex))) / ex;\n                    f2 = (c + .5 - ratio) * f1 / ex;\n                    bk1 = p0 + (d3 * f0 - f2 + f0 + blpha) / (f2 + f1 + f0) * p0;\n                    if (ize === 1) {\n                        bk1 *= exp(-ex);\n                    }\n                    wminf = estf[2] * ex + estf[3];\n                }\n                else {\n                    /* ---------------------------------------------------------\n                       Calculation of K(ALPHA,X) and K(ALPHA+1,X)/K(ALPHA,X), by\n                       backward recurrence, for  X > 4.0\n                       ----------------------------------------------------------*/\n                    dm = trunc(estm[4] / ex + estm[5]);\n                    m = trunc(dm);\n                    d2 = dm - .5;\n                    d2 *= d2;\n                    d1 = dm + dm;\n                    for (i = 2; i <= m; ++i) {\n                        dm -= 1.;\n                        d1 -= 2.;\n                        d2 -= d1;\n                        ratio = (d3 + d2) / (twox + d1 - ratio);\n                        blpha = (ratio + ratio * blpha) / dm;\n                    }\n                    bk1 = 1. / ((M_SQRT_2dPI + M_SQRT_2dPI * blpha) * sqrt(ex));\n                    if (ize === 1)\n                        bk1 *= exp(-ex);\n                    wminf = estf[4] * (ex - fabs(ex - estf[6])) + estf[5];\n                }\n                /* ---------------------------------------------------------\n                   Calculation of K(ALPHA+1,X)\n                   from K(ALPHA,X) and  K(ALPHA+1,X)/K(ALPHA,X)\n                   --------------------------------------------------------- */\n                bk2 = bk1 + bk1 * (nu + .5 - ratio) / ex;\n            }\n            /*--------------------------------------------------------------------\n              Calculation of 'NCALC', K(ALPHA+I,X),\tI  =  0, 1, ... , NCALC-1,\n              &\t  K(ALPHA+I,X)/K(ALPHA+I-1,X),\tI = NCALC, NCALC+1, ... , NB-1\n              -------------------------------------------------------------------*/\n            ncalc = nb;\n            bk[0] = bk1;\n            if (iend === 0)\n                return { x: bk[nb - 1], nb, ncalc };\n\n            j = 1 - k;\n            if (j >= 0)\n                bk[j] = bk2;\n\n            if (iend === 1)\n                return { x: bk[nb - 1], nb, ncalc };\n\n            m = min(trunc(wminf - nu), iend);\n            for (i = 2; i <= m; ++i) {\n                t1 = bk1;\n                bk1 = bk2;\n                twonu += 2.;\n                if (ex < 1.) {\n                    if (bk1 >= DBL_MAX / twonu * ex)\n                        break;\n                }\n                else {\n                    if (bk1 / ex >= DBL_MAX / twonu)\n                        break;\n                }\n                bk2 = twonu / ex * bk1 + t1;\n                ii = i;\n                ++j;\n                if (j >= 0) {\n                    bk[j] = bk2;\n                }\n            }\n\n            m = ii;\n            if (m === iend) {\n                return { x: bk[nb - 1], nb, ncalc };\n            }\n            ratio = bk2 / bk1;\n            mplus1 = m + 1;\n            ncalc = -1;\n            for (i = mplus1; i <= iend; ++i) {\n                twonu += 2.;\n                ratio = twonu / ex + 1. / ratio;\n                ++j;\n                if (j >= 1) {\n                    bk[j] = ratio;\n                }\n                else {\n                    if (bk2 >= DBL_MAX / ratio)\n                        return { x: bk[nb - 1], nb, ncalc };\n\n                    bk2 *= ratio;\n                }\n            }\n            ncalc = max(1, mplus1 - k);\n            if (ncalc === 1)\n                bk[0] = bk2;\n            if (nb === 1) {\n                return { x: bk2, nb, ncalc };\n            }\n        } //for loop \"goto\" guard\n        //gotoL420:\n        for (i = ncalc; i < nb; ++i) { /* i ==  ncalc */\n            bk[i] *= bk[i - 1];\n            (ncalc)++;\n        }\n    }\n    return { x: bk[nb - 1], nb, ncalc };\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/bessel/besselK/Kbessel.ts","\n/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { cospi } from '../../trigonometry/cospi';\nimport { sinpi } from '../../trigonometry/sinpi';\nimport { M_eps_sinc, thresh_BESS_Y, xlrg_BESS_Y } from '../bessel-constants';\nimport { IBesselRC } from '../IBesselRC';\n\nconst M_SQRT_2dPI = 0.797884560802865355879892119869;\nconst M_1_PI = 0.3183098861837907;\nconst M_PI_2 = 1.5707963267948966;\n\n\nconst { min, trunc, sqrt, sin, cos, log, abs, pow, PI: M_PI } = Math;\nconst {\n    MIN_VALUE: DBL_MIN,\n    EPSILON: DBL_EPSILON,\n    NEGATIVE_INFINITY: ML_NEGINF,\n    MAX_VALUE: DBL_MAX\n} = Number;\n\nconst printer = debug('Y_bessel');\n\nexport function Y_bessel(x: number, alpha: number, nb: number): IBesselRC {\n    /* ----------------------------------------------------------------------\n \n      This routine calculates Bessel functions Y_(N+ALPHA) (X)\n     v for non-negative argument X, and non-negative order N+ALPHA.\n \n \n      Explanation of variables in the calling sequence\n \n      X     - Non-negative argument for which\n          Y's are to be calculated.\n      ALPHA - Fractional part of order for which\n          Y's are to be calculated.  0 <= ALPHA < 1.0.\n      NB    - Number of functions to be calculated, NB > 0.\n          The first function calculated is of order ALPHA, and the\n          last is of order (NB - 1 + ALPHA).\n      BY    - Output vector of length NB.\tIf the\n          routine terminates normally (NCALC=NB), the vector BY\n          contains the functions Y(ALPHA,X), ... , Y(NB-1+ALPHA,X),\n          If (0 < NCALC < NB), BY(I) contains correct function\n          values for I <= NCALC, and contains the ratios\n          Y(ALPHA+I-1,X)/Y(ALPHA+I-2,X) for the rest of the array.\n      NCALC - Output variable indicating possible errors.\n          Before using the vector BY, the user should check that\n          NCALC=NB, i.e., all orders have been calculated to\n          the desired accuracy.\tSee error returns below.\n \n \n      *******************************************************************\n \n      Error returns\n \n       In case of an error, NCALC != NB, and not all Y's are\n       calculated to the desired accuracy.\n \n       NCALC < -1:  An argument is out of range. For example,\n         NB <= 0, IZE is not 1 or 2, or IZE=1 and ABS(X) >=\n         XMAX.  In this case, BY[0] = 0.0, the remainder of the\n         BY-vector is not calculated, and NCALC is set to\n         MIN0(NB,0)-2  so that NCALC != NB.\n       NCALC = -1:  Y(ALPHA,X) >= XINF.  The requested function\n         values are set to 0.0.\n       1 < NCALC < NB: Not all requested function values could\n         be calculated accurately.  BY(I) contains correct function\n         values for I <= NCALC, and and the remaining NB-NCALC\n         array elements contain 0.0.\n \n \n      Intrinsic functions required are:\n \n          DBLE, EXP, INT, MAX, MIN, REAL, SQRT\n \n \n      Acknowledgement\n \n         This program draws heavily on Temme's Algol program for Y(a,x)\n         and Y(a+1,x) and on Campbell's programs for Y_nu(x).\tTemme's\n         scheme is used for  x < THRESH, and Campbell's scheme is used\n         in the asymptotic region.  Segments of code from both sources\n         have been translated into Fortran 77, merged, and heavily modified.\n         Modifications include parameterization of machine dependencies,\n         use of a new approximation for ln(gamma(x)), and built-in\n         protection against over/underflow.\n \n      References: \"Bessel functions J_nu(x) and Y_nu(x) of float\n               order and float argument,\" Campbell, J. B.,\n               Comp. Phy. Comm. 18, 1979, pp. 133-142.\n \n              \"On the numerical evaluation of the ordinary\n               Bessel function of the second kind,\" Temme,\n               N. M., J. Comput. Phys. 21, 1976, pp. 343-350.\n \n       Latest modification: March 19, 1990\n \n       Modified by: W. J. Cody\n                Applied Mathematics Division\n                Argonne National Laboratory\n                Argonne, IL  60439\n      ----------------------------------------------------------------------*/\n\n\n    /* ----------------------------------------------------------------------\n      Mathematical constants\n        FIVPI = 5*PI\n        PIM5 = 5*PI - 15\n     ----------------------------------------------------------------------*/\n    const fivpi = 15.707963267948966192;\n    const pim5 = .70796326794896619231;\n\n    /*----------------------------------------------------------------------\n          Coefficients for Chebyshev polynomial expansion of\n          1/gamma(1-x), abs(x) <= .5\n          ----------------------------------------------------------------------*/\n    const ch = [-6.7735241822398840964e-24,\n    -6.1455180116049879894e-23, 2.9017595056104745456e-21,\n        1.3639417919073099464e-19, 2.3826220476859635824e-18,\n    -9.0642907957550702534e-18, -1.4943667065169001769e-15,\n    -3.3919078305362211264e-14, -1.7023776642512729175e-13,\n        9.1609750938768647911e-12, 2.4230957900482704055e-10,\n        1.7451364971382984243e-9, -3.3126119768180852711e-8,\n    -8.6592079961391259661e-7, -4.9717367041957398581e-6,\n        7.6309597585908126618e-5, .0012719271366545622927,\n        .0017063050710955562222, -.07685284084478667369,\n    -.28387654227602353814, .92187029365045265648];\n\n    /* Local variables */\n\n    //ints\n    let i: number;\n    let k: number;\n    let na: number;\n    let ncalc: number;\n\n    //doubles\n    let alfa;\n    let div;\n    let ddiv;\n    let even;\n    let gamma;\n    let term;\n    let cosmu;\n    let sinmu;\n\n    let b;\n    let c;\n    let d;\n    let e;\n    let f;\n    let g;\n    let h;\n    let p;\n    let q;\n    let r;\n    let s;\n    let d1;\n    let d2;\n    let q0;\n    let pa;\n    let pa1;\n    let qa;\n    let qa1;\n    let en;\n    let ya;\n    let ya1;\n    let twobyx;\n    let den;\n    let odd;\n    let aye;\n    let dmu;\n    let x2;\n    let xna;\n    let en1 = ya = ya1 = 0;\t\t/* -Wall */\n\n    let ex = x;\n    let nu = alpha;\n    let by = new Array(nb).fill(0);\n    if (\n        !(nb > 0 && 0. <= nu && nu < 1.)\n    ) {\n        printer('violaton: abort nb=%d, nu=%d', nb, nu);\n        by[0] = 0.;\n        ncalc = min(nb, 0) - 1;\n        return { x: 0, nb, ncalc };\n    }\n\n    if (ex < DBL_MIN || ex > xlrg_BESS_Y) {\n        /* Warning is not really appropriate, give\n             * proper limit:\n             * ML_ERROR(ME_RANGE, \"Y_bessel\"); */\n        printer('range issue: x < DBL_MIN but still bigger then 1e8 x=(%d)', ex);\n        ncalc = nb;\n        if (ex > xlrg_BESS_Y) by[0] = 0.; /*was ML_POSINF */\n        else if (ex < DBL_MIN) by[0] = ML_NEGINF;\n        return { x: by[0], nb, ncalc };\n    }\n    xna = trunc(nu + .5);\n    na = trunc(xna);\n    if (na === 1) {/* <==>  .5 <= *alpha < 1\t <==>  -5. <= nu < 0 */\n        nu -= xna;\n    }\n    if (nu === -.5) {\n        p = M_SQRT_2dPI / sqrt(ex);\n        ya = p * sin(ex);\n        ya1 = -p * cos(ex);\n    }\n    else if (ex < 3.) {\n        /* -------------------------------------------------------------\n\t\t   Use Temme's scheme for small X\n\t\t   ------------------------------------------------------------- */\n        b = ex * .5;\n        d = -log(b);\n        f = nu * d;\n        e = pow(b, -nu);\n        if (abs(nu) < M_eps_sinc)\n            c = M_1_PI;\n        else\n            c = nu / sinpi(nu);\n\n        /* ------------------------------------------------------------\n\t\t   Computation of sinh(f)/f\n\t\t   ------------------------------------------------------------ */\n        if (abs(f) < 1.) {\n            x2 = f * f;\n            en = 19.;\n            s = 1.;\n            for (i = 1; i <= 9; ++i) {\n                s = s * x2 / en / (en - 1.) + 1.;\n                en -= 2.;\n            }\n        }\n        else {\n            s = (e - 1. / e) * .5 / f;\n        }\n        /* --------------------------------------------------------\n\t\t   Computation of 1/gamma(1-a) using Chebyshev polynomials */\n        x2 = nu * nu * 8.;\n        aye = ch[0];\n        even = 0.;\n        alfa = ch[1];\n        odd = 0.;\n        for (i = 3; i <= 19; i += 2) {\n            even = -(aye + aye + even);\n            aye = -even * x2 - aye + ch[i - 1];\n            odd = -(alfa + alfa + odd);\n            alfa = -odd * x2 - alfa + ch[i];\n        }\n        even = (even * .5 + aye) * x2 - aye + ch[20];\n        odd = (odd + alfa) * 2.;\n        gamma = odd * nu + even;\n        /* End of computation of 1/gamma(1-a)\n\t\t   ----------------------------------------------------------- */\n        g = e * gamma;\n        e = (e + 1. / e) * .5;\n        f = 2. * c * (odd * e + even * s * d);\n        e = nu * nu;\n        p = g * c;\n        q = M_1_PI / g;\n        c = nu * M_PI_2;\n        if (abs(c) < M_eps_sinc)\n            r = 1.;\n        else\n            r = sinpi(nu / 2) / c;\n\n        r = M_PI * c * r * r;\n        c = 1.;\n        d = -b * b;\n        h = 0.;\n        ya = f + r * q;\n        ya1 = p;\n        en = 1.;\n\n        while (abs(g / (1. + abs(ya))) +\n            abs(h / (1. + abs(ya1))) > DBL_EPSILON) {\n            f = (f * en + p + q) / (en * en - e);\n            c *= (d / en);\n            p /= en - nu;\n            q /= en + nu;\n            g = c * (f + r * q);\n            h = c * p - en * g;\n            ya += g;\n            ya1 += h;\n            en += 1.;\n        }\n        ya = -ya;\n        ya1 = -ya1 / b;\n    }\n    else if (ex < thresh_BESS_Y) {\n        /* --------------------------------------------------------------\n\t\t   Use Temme's scheme for moderate X :  3 <= x < 16\n\t\t   -------------------------------------------------------------- */\n        c = (.5 - nu) * (.5 + nu);\n        b = ex + ex;\n        e = ex * M_1_PI * cospi(nu) / DBL_EPSILON;\n        e *= e;\n        p = 1.;\n        q = -ex;\n        r = 1. + ex * ex;\n        s = r;\n        en = 2.;\n        while (r * en * en < e) {\n            en1 = en + 1.;\n            d = (en - 1. + c / en) / s;\n            p = (en + en - p * d) / en1;\n            q = (-b + q * d) / en1;\n            s = p * p + q * q;\n            r *= s;\n            en = en1;\n        }\n        f = p / s;\n        p = f;\n        g = -q / s;\n        q = g;\n\n        for (; ;) {\n            //L220:\n            en -= 1.;\n            if (en > 0.) {\n                r = en1 * (2. - p) - 2.;\n                s = b + en1 * q;\n                d = (en - 1. + c / en) / (r * r + s * s);\n                p = d * r;\n                q = d * s;\n                e = f + 1.;\n                f = p * e - g * q;\n                g = q * e + p * g;\n                en1 = en;\n                continue;\n                //goto L220;\n            }\n            break;\n        }\n        f = 1. + f;\n        d = f * f + g * g;\n        pa = f / d;\n        qa = -g / d;\n        d = nu + .5 - p;\n        q += ex;\n        pa1 = (pa * q - qa * d) / ex;\n        qa1 = (qa * q + pa * d) / ex;\n        b = ex - M_PI_2 * (nu + .5);\n        c = cos(b);\n        s = sin(b);\n        d = M_SQRT_2dPI / sqrt(ex);\n        ya = d * (pa * s + qa * c);\n        ya1 = d * (qa1 * s - pa1 * c);\n    }\n    else { /* x > thresh_BESS_Y */\n        /* ----------------------------------------------------------\n           Use Campbell's asymptotic scheme.\n           ---------------------------------------------------------- */\n        na = 0;\n        d1 = trunc(ex / fivpi);\n        i = trunc(d1);\n        dmu = ex - 15. * d1 - d1 * pim5 - (alpha + .5) * M_PI_2;\n        if (i - (i / 2 << 1) === 0) {\n            cosmu = cos(dmu);\n            sinmu = sin(dmu);\n        }\n        else {\n            cosmu = -cos(dmu);\n            sinmu = -sin(dmu);\n        }\n        ddiv = 8. * ex;\n        dmu = alpha;\n        den = sqrt(ex);\n        for (k = 1; k <= 2; ++k) {\n            p = cosmu;\n            cosmu = sinmu;\n            sinmu = -p;\n            d1 = (2. * dmu - 1.) * (2. * dmu + 1.);\n            d2 = 0.;\n            div = ddiv;\n            p = 0.;\n            q = 0.;\n            q0 = d1 / div;\n            term = q0;\n            for (i = 2; i <= 20; ++i) {\n                d2 += 8.;\n                d1 -= d2;\n                div += ddiv;\n                term = -term * d1 / div;\n                p += term;\n                d2 += 8.;\n                d1 -= d2;\n                div += ddiv;\n                term *= (d1 / div);\n                q += term;\n                if (abs(term) <= DBL_EPSILON) {\n                    break;\n                }\n            }\n            p += 1.;\n            q += q0;\n            if (k === 1)\n                ya = M_SQRT_2dPI * (p * cosmu - q * sinmu) / den;\n            else\n                ya1 = M_SQRT_2dPI * (p * cosmu - q * sinmu) / den;\n            dmu += 1.;\n        }\n    }\n    if (na === 1) {\n        h = 2. * (nu + 1.) / ex;\n        if (h > 1.) {\n            if (abs(ya1) > DBL_MAX / h) {\n                h = 0.;\n                ya = 0.;\n            }\n        }\n        h = h * ya1 - ya;\n        ya = ya1;\n        ya1 = h;\n    }\n    /* ---------------------------------------------------------------\n\t   Now have first one or two Y's\n\t   --------------------------------------------------------------- */\n    by[0] = ya;\n    ncalc = 1;\n    if (nb > 1) {\n        by[1] = ya1;\n        if (ya1 !== 0.) {\n            aye = 1. + alpha;\n            twobyx = 2. / ex;\n            ncalc = 2;\n            for (i = 2; i < nb; ++i) {\n                if (twobyx < 1.) {\n                    if (abs(by[i - 1]) * twobyx >= DBL_MAX / aye)\n                        break;\n                    //goto L450;\n                }\n                else {\n                    if (abs(by[i - 1]) >= DBL_MAX / aye / twobyx)\n                        break;\n                    //goto L450;\n                }\n                by[i] = twobyx * aye * by[i - 1] - by[i - 2];\n                aye += 1.;\n                ++(ncalc);\n            }//for\n        }//if\n    }//if\n    //L450:\n    // for (i = ncalc; i < nb; ++i)\n    //   by[i] = ML_NEGINF; /* was 0 */\n    return { x: by[ncalc - 1], nb, ncalc };\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/bessel/besselY/Ybessel.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ME, ML_ERR_return_NAN, ML_ERROR } from '../common/_general';\nimport { gammafn } from '../gamma/gamma_fn';\nimport { multiplexer } from '../r-func';\nimport { internal_lbeta } from './lbeta';\n\n//const xmin =  - 170.5674972726612;\nconst xmax = 171.61447887182298;\nconst lnsml = -708.39641853226412;\n\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  POSITIVE_INFINITY: ML_POSINF\n} = Number;\n\nconst printer_beta = debug('beta');\n\nexport function beta(_a: number | number[], _b: number | number[]): number | number[] {\n  return multiplexer(_a, _b)((a, b) => internal_beta(a, b));\n}\n\nexport function internal_beta(a: number, b: number): number {\n\n\n  if (ISNAN(a) || ISNAN(b)) return a + b;\n\n  if (a < 0 || b < 0) return ML_ERR_return_NAN(printer_beta);\n  else if (a === 0 || b === 0) return ML_POSINF;\n  else if (!R_FINITE(a) || !R_FINITE(b)) return 0;\n\n  if (a + b < xmax) {\n    //\n    // ~= 171.61 for IEEE\n    //\treturn gammafn(a) * gammafn(b) / gammafn(a+b);\n    // All the terms are positive, and all can be large for large\n    //   or small arguments.  They are never much less than one.\n    //   gammafn(x) can still overflow for x ~ 1e-308,\n    //   but the result would too.\n    //\n    return 1 / gammafn(a + b) * gammafn(a) * gammafn(b);\n  } else {\n    let val: number = internal_lbeta(a, b);\n    // underflow to 0 is not harmful per se;  exp(-999) also gives no warning\n    //#ifndef IEEE_754\n    if (val < lnsml) {\n      // a and/or b so big that beta underflows\n      ML_ERROR(ME.ME_UNDERFLOW, 'beta', printer_beta);\n      // return ML_UNDERFLOW; pointless giving incorrect value\n    }\n    //#endif\n    return Math.exp(val);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/beta/beta.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { DBL_MAX_EXP, ML_ERR_return_NAN } from '../common/_general';\nimport { IRNGNormal } from '../rng/normal';\n\nconst { LN2: M_LN2, log, min: fmin2, max: fmax2, exp, sqrt } = Math;\nconst { MAX_VALUE: DBL_MAX, isFinite: R_FINITE } = Number;\nconst printer = debug('rbeta');\n\nexport const expmax = DBL_MAX_EXP * M_LN2; /* = log(DBL_MAX) */\n\nexport function rbeta(\n  n: number,\n  aa: number,\n  bb: number,\n  rng: IRNGNormal\n): number | number[] {\n  const result = new Array(n).fill(0).map(() => {\n    if (aa < 0 || bb < 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n    if (!R_FINITE(aa) && !R_FINITE(bb))\n      // a = b = Inf : all mass at 1/2\n      return 0.5;\n    if (aa === 0 && bb === 0)\n      // point mass 1/2 at each of {0,1} :\n      return rng.unif_rand() < 0.5 ? 0 : 1;\n    // now, at least one of a, b is finite and positive\n    if (!R_FINITE(aa) || bb === 0) return 1.0;\n    if (!R_FINITE(bb) || aa === 0) return 0.0;\n\n    let a;\n    let b;\n    let alpha;\n    let r;\n    let s;\n    let t;\n    let u1 = 0;\n    let u2;\n    let v = 0;\n    let w = 0;\n    let y;\n    let z;\n    let qsame;\n    /* FIXME:  Keep Globals (properly) for threading */\n    /* Uses these GLOBALS to save time when many rv's are generated : */\n    let beta = 0;\n    let gamma = 0;\n    let delta;\n    let k1 = 0;\n    let k2 = 0;\n    let olda = -1.0;\n    let oldb = -1.0;\n\n    /* Test if we need new \"initializing\" */\n    qsame = olda === aa && oldb === bb;\n    if (!qsame) {\n      olda = aa;\n      oldb = bb;\n    }\n\n    a = fmin2(aa, bb);\n    b = fmax2(aa, bb); /* a <= b */\n    alpha = a + b;\n\n    function v_w_from__u1_bet(AA: number) {\n      v = beta * log(u1 / (1.0 - u1));\n      if (v <= expmax) {\n        w = AA * exp(v);\n        if (!R_FINITE(w)) {\n          w = DBL_MAX;\n        }\n      } else {\n        w = DBL_MAX;\n      }\n    }\n\n    if (a <= 1.0) {\n      /* --- Algorithm BC --- */\n\n      /* changed notation, now also a <= b (was reversed) */\n\n      if (!qsame) {\n        /* initialize */\n        beta = 1.0 / a;\n        delta = 1.0 + b - a;\n        k1 = delta * (0.0138889 + 0.0416667 * a) / (b * beta - 0.777778);\n        k2 = 0.25 + (0.5 + 0.25 / delta) * a;\n      }\n      /* FIXME: \"do { } while()\", but not trivially because of \"continue\"s:*/\n      for (; ;) {\n        u1 = rng.unif_rand() as number;\n        u2 = rng.unif_rand() as number;\n        if (u1 < 0.5) {\n          y = u1 * u2;\n          z = u1 * y;\n          if (0.25 * u2 + z - y >= k1) continue;\n        } else {\n          z = u1 * u1 * u2;\n          if (z <= 0.25) {\n            v_w_from__u1_bet(b);\n            break;\n          }\n          if (z >= k2) continue;\n        }\n\n        v_w_from__u1_bet(b);\n\n        if (alpha * (log(alpha / (a + w)) + v) - 1.3862944 >= log(z)) break;\n      }\n      return aa === a ? a / (a + w) : w / (a + w);\n    } else {\n      /* Algorithm BB */\n\n      if (!qsame) {\n        /* initialize */\n        beta = sqrt((alpha - 2.0) / (2.0 * a * b - alpha));\n        gamma = a + 1.0 / beta;\n      }\n      do {\n        u1 = rng.unif_rand() as number;\n        u2 = rng.unif_rand() as number;\n\n        v_w_from__u1_bet(a);\n\n        z = u1 * u1 * u2;\n        r = gamma * v - 1.3862944;\n        s = a + r - w;\n        if (s + 2.609438 >= 5.0 * z) break;\n        t = log(z);\n        if (s > t) break;\n      } while (r + alpha * log(alpha / (b + w)) < t);\n\n      return aa !== a ? b / (b + w) : w / (b + w);\n    }\n  });\n  return result.length === 1 ? result[0] : result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/beta/rbeta.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport {\n  ML_ERR_return_NAN,\n  R_D__0,\n  R_D__1,\n  R_D_exp,\n  R_D_nonint_check\n} from '../common/_general';\n\nimport { dbinom_raw } from '../binomial/dbinom';\nimport { lgammafn } from '../gamma/lgamma_fn';\n\nconst printer = debug('dnbinom');\nconst { log, round: R_forceint, log1p } = Math;\nconst { isFinite: R_FINITE, isNaN: ISNAN } = Number;\n\nexport function dnbinom<T>(\n  xx: T,\n  size: number,\n  prob: number,\n  give_log: boolean\n): T {\n  const fx: number[] = Array.isArray(xx) ? xx : ([xx] as any);\n\n  const result = fx.map(x => {\n    let ans: number;\n    let p: number;\n\n    if (ISNAN(x) || ISNAN(size) || ISNAN(prob)) {\n      return x + size + prob;\n    }\n\n    if (prob <= 0 || prob > 1 || size < 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    let rc = R_D_nonint_check(give_log, x, printer);\n    if (rc !== undefined) {\n      return rc;\n    }\n\n    if (x < 0 || !R_FINITE(x)) {\n      return R_D__0(give_log);\n    }\n    /* limiting case as size approaches zero is point mass at zero */\n    if (x === 0 && size === 0) {\n      return R_D__1(give_log);\n    }\n\n    x = R_forceint(x);\n\n    ans = dbinom_raw(size, x + size, prob, 1 - prob, give_log);\n\n    p = size / (size + x);\n\n    return give_log ? log(p) + ans : p * ans;\n  });\n\n  return result.length === 1 ? result[0] : (result as any);\n}\n\nconst printer_dnbinom_mu = debug('dnbinom_mu');\n\nexport function dnbinom_mu<T>(\n  xx: T,\n  size: number,\n  mu: number,\n  give_log: boolean\n): T {\n  const fx: number[] = Array.isArray(xx) ? xx : ([xx] as any);\n\n  const result = fx.map(x => {\n    /* originally, just set  prob :=  size / (size + mu)  and called dbinom_raw(),\n     * but that suffers from cancellation when   mu << size  */\n    let ans: number;\n    let p: number;\n\n    if (ISNAN(x) || ISNAN(size) || ISNAN(mu)) {\n      return x + size + mu;\n    }\n\n    if (mu < 0 || size < 0) {\n      return ML_ERR_return_NAN(printer_dnbinom_mu);\n    }\n\n    let rc = R_D_nonint_check(give_log, x, printer_dnbinom_mu);\n    if (rc !== undefined) {\n      return rc;\n    }\n\n    if (x < 0 || !R_FINITE(x)) {\n      return R_D__0(give_log);\n    }\n\n    /* limiting case as size approaches zero is point mass at zero,\n     * even if mu is kept constant. limit distribution does not\n     * have mean mu, though.\n     */\n    if (x === 0 && size === 0) {\n      return R_D__1(give_log);\n    }\n\n    x = R_forceint(x);\n    if (x === 0) {\n      /* be accurate, both for n << mu, and n >> mu :*/\n      // old code   size * (size < mu ? log(size / (size + mu)) : log1p(- mu / (size + mu))));\n      let llogx: number;\n      if (size < mu) {\n        llogx = log(size / (size + mu));\n      } else {\n        llogx = log1p(-mu / (size + mu));\n      }\n      return R_D_exp(give_log, size * llogx);\n    }\n    if (x < 1e-10 * size) {\n      /* don't use dbinom_raw() but MM's formula: */\n      /* FIXME --- 1e-8 shows problem; rather use algdiv() from ./toms708.c */\n      p = size < mu ? log(size / (1 + size / mu)) : log(mu / (1 + mu / size));\n      return R_D_exp(\n        give_log,\n        x * p - mu - lgammafn(x + 1) + log1p(x * (x - 1) / (2 * size))\n      );\n    }\n\n    /* else: no unnecessary cancellation inside dbinom_raw, when\n     * x_ = size and n_ = x+size are so close that n_ - x_ loses accuracy\n     */\n\n    ans = dbinom_raw(\n      size,\n      x + size,\n      size / (size + mu),\n      mu / (size + mu),\n      give_log\n    );\n    p = size / (size + x);\n\n    return give_log ? log(p) + ans : p * ans;\n  });\n  return result.length === 0 ? result[0] : (result as any);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/binomial-negative/dnbinom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport {\n  ML_ERR_return_NAN,\n  R_DT_0,\n  R_DT_1,\n  R_Q_P01_boundaries\n} from '../common/_general';\n\nimport { NumberW } from '../common/toms708';\n\nimport { R_DT_qIv } from '../exp/expm1';\nimport { qnorm } from '../normal/qnorm';\nimport { map } from '../r-func';\nimport { pnbinom } from './pnbinom';\n\nconst {\n  isNaN: ISNAN,\n  POSITIVE_INFINITY: ML_POSINF,\n  EPSILON: DBL_EPSILON\n} = Number;\n\nconst { max: fmax2, sqrt, floor, round: R_forceint } = Math;\n\nconst printer_do_search = debug('do_search');\n\nfunction do_search(\n  y: number,\n  z: NumberW,\n  p: number,\n  n: number,\n  pr: number,\n  incr: number\n): number {\n  printer_do_search(\n    'start: y:%d, z:%o, p:%d, n:%d, pr:%d, incr:%d',\n    y,\n    z,\n    p,\n    n,\n    pr,\n    incr\n  );\n  if (z.val >= p) {\n    //* search to the left\n    while (true) {\n      if (\n        y === 0 ||\n        (z.val = pnbinom(\n          y - incr,\n          n,\n          pr,\n          true, ///log_p,\n          false\n        )) < p\n      ) {\n        printer_do_search('exit1');\n        return y;\n      }\n      y = fmax2(0, y - incr);\n    } //while\n  } else {\n    // search to the right\n\n    while (true) {\n      y = y + incr;\n      if (\n        (z.val = pnbinom(\n          y,\n          n,\n          pr, //l._t.\n          true,\n          false\n        )) >= p\n      ) {\n        printer_do_search('exit2');\n        return y;\n      }\n    } //while\n  } //if\n}\n\nconst printer_qnbinom = debug('qnbinom');\n\nexport function qnbinom<T>(\n  pp: T,\n  size: number,\n  prob: number,\n  lower_tail: boolean,\n  log_p: boolean\n): T {\n  return map(pp)(p => {\n    let P;\n    let Q;\n    let mu;\n    let sigma;\n    let gamma;\n    let y;\n\n    const z = new NumberW(0);\n\n    if (ISNAN(p) || ISNAN(size) || ISNAN(prob)) {\n      return NaN;\n    }\n\n    /* this happens if specified via mu, size, since\n       prob == size/(size+mu)\n    */\n    if (prob === 0 && size === 0) return 0;\n\n    if (prob <= 0 || prob > 1 || size < 0) {\n      return ML_ERR_return_NAN(printer_qnbinom);\n    }\n\n    if (prob === 1 || size === 0) return 0;\n\n    let rc = R_Q_P01_boundaries(lower_tail, log_p, p, 0, ML_POSINF);\n    if (rc !== undefined) {\n      return rc;\n    }\n    Q = 1.0 / prob;\n    P = (1.0 - prob) * Q;\n    mu = size * P;\n    sigma = sqrt(size * P * Q);\n    gamma = (Q + P) / sigma;\n\n    /* Note : \"same\" code in qpois.c, qbinom.c, qnbinom.c --\n     * FIXME: This is far from optimal [cancellation for p ~= 1, etc]: */\n    if (!lower_tail || log_p) {\n      p = R_DT_qIv(\n        lower_tail,\n        log_p,\n        p\n      ); /* need check again (cancellation!): */\n      if (p === R_DT_0(lower_tail, log_p)) return 0;\n      if (p === R_DT_1(lower_tail, log_p)) return ML_POSINF;\n    }\n    /* temporary hack --- FIXME --- */\n    if (p + 1.01 * DBL_EPSILON >= 1) return ML_POSINF;\n\n    /* y := approx.value (Cornish-Fisher expansion) :  */\n    z.val = qnorm(p, 0, 1, /*lower_tail*/ true, /*log_p*/ false);\n    y = R_forceint(mu + sigma * (z.val + gamma * (z.val * z.val - 1) / 6));\n\n    z.val = pnbinom(y, size, prob, /*lower_tail*/ true, /*log_p*/ false);\n\n    /* fuzz to ensure left continuity: */\n    p *= 1 - 64 * DBL_EPSILON;\n\n    /* If the C-F value is not too large a simple search is OK */\n    if (y < 1e5) return do_search(y, z, p, size, prob, 1);\n    /* Otherwise be a bit cleverer in the search */\n    {\n      let incr = floor(y * 0.001);\n      let oldincr;\n      do {\n        oldincr = incr;\n        y = do_search(y, z, p, size, prob, incr);\n        incr = fmax2(1, floor(incr / 100));\n      } while (oldincr > 1 && incr > y * 1e-15);\n      return y;\n    }\n  }) as any;\n}\n\nexport function qnbinom_mu<T>(\n  pp: T,\n  size: number,\n  mu: number,\n  lower_tail: boolean,\n  log_p: boolean\n): T {\n  return qnbinom(pp, size, /* prob = */ size / (size + mu), lower_tail, log_p);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/binomial-negative/qnbinom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN } from '../common/_general';\n\nimport { rgamma } from '../gamma/rgamma';\nimport { rpois } from '../poisson/rpois';\nimport { IRNGNormal } from '../rng/normal/inormal-rng';\n\nconst { isFinite: R_FINITE } = Number;\n\nconst printer_rnbinom = debug('rnbinom');\n\nexport function rnbinom(\n  n: number,\n  size: number,\n  prob: number,\n  rng: IRNGNormal\n): number| number[] {\n  printer_rnbinom('n:%d, size:%d, prob:%d', n, size, prob);\n  const result = new Array(n).fill(0).map(() => {\n    if (\n      !R_FINITE(size) ||\n      !R_FINITE(prob) ||\n      size <= 0 ||\n      prob <= 0 ||\n      prob > 1\n    ) {\n      /* prob = 1 is ok, PR#1218 */\n      return ML_ERR_return_NAN(printer_rnbinom);\n    }\n    return prob === 1\n      ? 0\n      : (rpois(\n          1,\n          rgamma(1, size, (1 - prob) / prob, rng) as number,\n          rng\n        ) as number);\n  });\n  return result.length === 1 ? result[0] : result;\n}\n\nconst printer_rnbinom_mu = debug('rnbinom_mu');\n\nexport function rnbinom_mu(n: number= 1, size: number, mu: number, rng: IRNGNormal): number| number[] {\n\n  const result = new Array(n).fill(0).map(() => {\n\n  if (!R_FINITE(size) || !R_FINITE(mu) || size <= 0 || mu < 0) {\n    return ML_ERR_return_NAN(printer_rnbinom_mu);\n  }\n  return mu === 0\n    ? 0\n    : (rpois(\n        1,\n        rgamma(1, size, mu / size, rng) as number,\n        rng\n      ) as number);\n\n});\nreturn result.length === 1 ? result[0] :result ;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/binomial-negative/rnbinom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN } from '../common/_general';\n\nimport { map } from '../r-func';\n\nconst { isNaN: ISNAN } = Number;\nconst { PI: M_PI, log } = Math;\nconst printer = debug('dcauchy');\n\nexport function dcauchy<T>(\n  xx: T,\n  location = 0,\n  scale = 1,\n  giveLog = false\n): T {\n  return map(xx)(x => {\n    let y: number;\n    /* NaNs propagated correctly */\n    if (ISNAN(x) || ISNAN(location) || ISNAN(scale)) {\n      return x + location + scale;\n    }\n\n    if (scale <= 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    y = (x - location) / scale;\n    return giveLog\n      ? -log(M_PI * scale * (1 + y * y))\n      : 1 / (M_PI * scale * (1 + y * y));\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/cauchy/dcauchy.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_D_val, R_DT_0, R_DT_1 } from '../common/_general';\n\nimport { R_D_Clog } from '../common/_general';\nimport { map  } from '../r-func';\nimport { atanpi } from '../trigonometry';\n\n\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst { abs: fabs } = Math;\n\nconst printer = debug('pcauchy');\n\nexport function pcauchy<T>(\n  xx: T,\n  location = 0,\n  scale = 1,\n  lowerTail = true,\n  logP = false\n): T {\n  \n  return map(xx)(x => {\n    if (ISNAN(x) || ISNAN(location) || ISNAN(scale))\n      return x + location + scale;\n\n    if (scale <= 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    x = (x - location) / scale;\n    if (ISNAN(x)) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    if (!R_FINITE(x)) {\n      if (x < 0) return R_DT_0(lowerTail, logP);\n      else return R_DT_1(lowerTail, logP);\n    }\n\n    if (!lowerTail) x = -x;\n    /* for large x, the standard formula suffers from cancellation.\n     * This is from Morten Welinder thanks to  Ian Smith's  atan(1/x) : */\n\n    if (fabs(x) > 1) {\n      let y = atanpi(1 / x);\n      return x > 0 ? R_D_Clog(logP, y) : R_D_val(logP, -y);\n    } else {\n      return R_D_val(logP, 0.5 + atanpi(x));\n    }\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/cauchy/pcauchy.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_Q_P01_check } from '../common/_general';\n\nimport { map } from '../r-func';\nimport { tanpi } from '../trigonometry/tanpi';\n\nconst { expm1, exp } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\n\nconst { ML_POSINF, ML_NEGINF } = {\n  ML_POSINF: Infinity,\n  ML_NEGINF: -Infinity\n};\n\nconst printer = debug('qcauchy');\n\nexport function qcauchy<T>(\n  pp: T,\n  location = 0,\n  scale = 1,\n  lowerTail = true,\n  logP = false\n): T {\n  return map(pp)(p => {\n    if (ISNAN(p) || ISNAN(location) || ISNAN(scale)) return NaN;\n    let lower_tail = lowerTail;\n\n    let rc = R_Q_P01_check(logP, p);\n    if (rc !== undefined) {\n      return rc;\n    }\n\n    if (scale <= 0 || !R_FINITE(scale)) {\n      if (scale === 0) return location;\n      /* else */ return ML_ERR_return_NAN(printer);\n    }\n\n    const my_INF = location + (lower_tail ? scale : -scale) * ML_POSINF;\n    if (logP) {\n      if (p > -1) {\n        /* when ep := exp(p),\n       * tan(pi*ep)= -tan(pi*(-ep))= -tan(pi*(-ep)+pi) = -tan(pi*(1-ep)) =\n       *\t\t = -tan(pi*(-expm1(p))\n       * for p ~ 0, exp(p) ~ 1, tan(~0) may be better than tan(~pi).\n       */\n        if (p === 0)\n          /* needed, since 1/tan(-0) = -Inf  for some arch. */\n          return my_INF;\n        lower_tail = !lower_tail;\n        p = -expm1(p);\n      } else p = exp(p);\n    } else {\n      if (p > 0.5) {\n        if (p === 1) return my_INF;\n        p = 1 - p;\n        lower_tail = !lower_tail;\n      }\n    }\n\n    if (p === 0.5) return location; // avoid 1/Inf below\n    if (p === 0) return location + (lower_tail ? scale : -scale) * ML_NEGINF; // p = 1. is handled above\n    return location + (lower_tail ? -scale : scale) / tanpi(p);\n    /*\t-1/tan(pi * p) = -cot(pi * p) = tan(pi * (p - 1/2))  */\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/cauchy/qcauchy.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { IRNG } from '../rng';\n\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst { PI: M_PI } = Math;\nconst printer = debug('rcauchy');\n\nexport function rcauchy(\n  n: number,\n  location = 0,\n  scale = 1,\n  rng: IRNG\n): number | number[] {\n  const result = new Array(n).fill(0).map(() => {\n    if (ISNAN(location) || !R_FINITE(scale) || scale < 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n    if (scale === 0 || !R_FINITE(location)) return location;\n    else return location + scale * Math.tan(M_PI * (rng.unif_rand() as number));\n  });\n  return result.length === 1 ? result[0] : result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/cauchy/rcauchy.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { NumberW } from './NumberW';\n\nconst { trunc, log, abs, min, pow } = Math;\nconst printer_bratio = debug('Toms708.bratio');\n/**\n * Computes the incomplete beta function\n * <p>\n * This translation was made with the aid of the Fortran-to-Java (f2j) system,\n * developed at the University of Tennessee.\n *<p>\n * @author Armido Didonato, Alfred Morris (F77 version)\n * @author John V. Burkhardt\n * @author James Curran (j.curran@auckland.ac.nz) (Java version)\n * @author Jacob Bogers (jkfbogers@gmai.com) Javascript version\n *\n */\n\nexport class Toms708 {\n  /**\n   * Computes the incomplete beta function\n   * <p>\n   * This translation was made with the aid of the Fortran-to-Java (f2j) system,\n   * developed at the University of Tennessee.\n   *<p>\n   * @author Armido Didonato, Alfred Morris (F77 version)\n   * @author John V. Burkhardt\n   * @author James Curran (j.curran@auckland.ac.nz) (Java version)\n   * @author Jacob Bogers (jkfbogers@gmail.com) Javascript version\n   *\n   */\n\n  public static alnrel(a: number) {\n    //\n    // c*********************************************************************72\n    // c\n    // cc ALNREL evaluates the function LN(1 + A).\n    // c\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n    const p3 = -0.178874546012214e-1;\n    const p2 = 0.405303492862024;\n    const p1 = -0.129418923021993e1;\n    const q3 = -0.845104217945565e-1;\n    const q2 = 0.747811014037616;\n    const q1 = -0.162752256355323e1;\n    //\n\n    let t = 0.0;\n    let w = 0.0;\n    let x = 0.0;\n    let t2 = 0.0;\n    if (Math.abs(a) > 0.375) {\n      x = 1 + a;\n      return log(x);\n    }\n    t = a / (a + 2.0);\n    t2 = t * t;\n    w =\n      (((p3 * t2 + p2) * t2 + p1) * t2 + 1.0) /\n      (((q3 * t2 + q2) * t2 + q1) * t2 + 1.0);\n    return 2.0 * t * w;\n    //\n  }\n\n  public static algdiv(a: number, b: number) {\n    //\n    // c*********************************************************************72\n    // C\n    // cc ALGDIV computes LN(GAMMA(B)/GAMMA(A+B)) when 8 <= B.\n    // C\n    // C\n    // C     IN THIS ALGORITHM, DEL(X) IS THE FUNCTION DEFINED BY\n    // C     LN(GAMMA(X))  = (X - 0.5)*LN(X) - X + 0.5*LN(2*PI) + DEL(X).\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n    const c5 = -0.165322962780713e-2;\n    const c4 = 0.837308034031215e-3;\n    const c3 = -0.59520293135187e-3;\n    const c2 = 0.79365066682539e-3;\n    const c1 = -0.277777777760991e-2;\n    const c0 = 0.833333333333333e-1;\n    //\n\n    let s11 = 0.0;\n    let c = 0.0;\n    let d = 0.0;\n    let h = 0.0;\n    let t = 0.0;\n    let u = 0.0;\n    let v = 0.0;\n    let w = 0.0;\n    let x = 0.0;\n    let s3 = 0.0;\n    let s5 = 0.0;\n    let s7 = 0.0;\n    let x2 = 0.0;\n    let s9 = 0.0;\n\n    if (a <= b) {\n      h = a / b;\n      c = h / (1.0 + h);\n      x = 1.0 / (1.0 + h);\n      d = b + (a - 0.5);\n    } else {\n      h = b / a;\n      c = 1.0 / (1.0 + h);\n      x = h / (1.0 + h);\n      d = a + (b - 0.5);\n    }\n\n    // C\n    // C  SET SN  = (1 - X**N)/(1 - X)\n    // C\n    x2 = x * x;\n    s3 = 1.0 + x + x2;\n    s5 = 1.0 + x + x2 * s3;\n    s7 = 1.0 + x + x2 * s5;\n    s9 = 1.0 + x + x2 * s7;\n    s11 = 1.0 + x + x2 * s9;\n    // C\n    // C  SET W  = DEL(B) - DEL(A + B)\n    // C\n    t = Math.pow(1.0 / b, 2);\n    w =\n      ((((c5 * s11 * t + c4 * s9) * t + c3 * s7) * t + c2 * s5) * t + c1 * s3) *\n      t +\n      c0;\n    w *= c / b;\n    // C\n    // C  Combine the results\n    // c\n    u = d * Toms708.alnrel(a / b);\n    v = a * (log(b) - 1.0);\n\n    if (u <= v) return w - u - v;\n\n    return w - v - u;\n  }\n\n  public static apser(a: number, b: number, x: number, eps: number): number {\n    //\n    // c*********************************************************************72\n    // c\n    // cc APSER evaluates I(1-X)(B,A) for A very small.\n    // c\n    // C     APSER YIELDS THE INCOMPLETE BETA RATIO I(SUB(1-X))(B,A) FOR\n    // C     A <= MIN(EPS,EPS*B), B*X <= 1, AND X <= 0.5. USED WHEN\n    // C     A IS VERY SMALL. USE ONLY IF ABOVE INEQUALITIES ARE SATISFIED.\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n    const g = 0.577215664901533;\n    //\n\n    let j = 0.0;\n    let bx = 0.0;\n    let c = 0.0;\n    let s = 0.0;\n    let t = 0.0;\n    let tol = 0.0;\n    let aj = 0.0;\n    bx = b * x;\n    t = x - bx;\n\n    if (b * eps > 2e-2) {\n      c = log(bx) + g + t;\n    } else {\n      c = log(x) + Toms708.psi(b) + g + t;\n    }\n\n    tol = 5.0 * eps * Math.abs(c);\n    j = 1.0;\n    s = 0.0;\n\n    do {\n      j++;\n      t *= x - bx / j;\n      aj = t / j;\n      s += aj;\n    } while (Math.abs(aj) > tol);\n    //\n    return -(a * (c + s));\n  }\n\n  public static basym(\n    a: number,\n    b: number,\n    lambda: number,\n    eps: number\n  ): number {\n    /*c*********************************************************************72\n    c\n    cc BASYM performs an asymptotic expansion for IX(A,B) for large A and B.\n    c\n    C     LAMBDA  = (A + B)*Y - B  AND EPS IS THE TOLERANCE USED.\n    C     IT IS ASSUMED THAT LAMBDA IS NONNEGATIVE AND THAT\n    C     A AND B ARE GREATER THAN OR EQUAL TO 15.\n    C\n    c  Reference:\n    c\n    c    Armido Didonato, Alfred Morris,\n    c    Algorithm 708: \n    c    Significant Digit Computation of the Incomplete Beta Function Ratios,\n    c    ACM Transactions on Mathematical Software,\n    c    Volume 18, Number 3, 1992, pages 360-373.\n    c*/\n    //double J0, J1, LAMBDA;\n\n    let a0 = new Array<number>(21).fill(0);\n    let b0 = new Array<number>(21).fill(0);\n    let c = new Array<number>(21).fill(0);\n    let d = new Array<number>(21).fill(0);\n\n    // C\n    // C  NUM IS THE MAXIMUM VALUE THAT N CAN TAKE IN THE DO LOOP\n    // C  ENDING AT ST<<<<ATEMENT 50. IT IS REQUIRED THAT NUM BE EVEN.\n    // C  THE ARRAYS A0, B0, C, D HAVE DIMENSION NUM + 1.\n    // C\n    let num = 20;\n    // C\n    // C  E0  = 2/SQRT(PI)\n    // C  E1  = 2**(-3/2)\n    // C\n    const e0 = 1.12837916709551;\n    const e1 = 0.353553390593274;\n\n    let h;\n    let r0;\n    let r1;\n    let w0;\n\n    if (a <= b) {\n      h = a / b;\n      r0 = 1.0 / (1.0 + h);\n      r1 = (b - a) / b;\n      w0 = 1.0 / Math.sqrt(a * (1.0 + h));\n    } else {\n      h = b / a;\n      r0 = 1.0 / (1.0 + h);\n      r1 = (b - a) / a;\n      w0 = 1.0 / Math.sqrt(b * (1.0 + h));\n    }\n\n    let f = a * Toms708.rlog1(-lambda / a) + b * Toms708.rlog1(lambda / b);\n    let t = Math.exp(-f);\n    if (t === 0.0) return 0;\n\n    let z0 = Math.sqrt(f);\n    let z = 0.5 * (z0 / e1);\n    let z2 = f + f;\n\n    a0[0] = 2.0 / 3.0 * r1;\n    c[0] = -0.5 * a0[0];\n    d[0] = -c[0];\n    let j0 = 0.5 / e0 * Toms708.erfc1(1, z0);\n    let j1 = e1;\n    let sum = j0 + d[0] * w0 * j1;\n\n    let s = 1.0;\n    let h2 = h * h;\n    let hn = 1.0;\n    let w = w0;\n    let znm1 = z;\n    let zn = z2;\n\n    for (let n = 2; n <= num; n += 2) {\n      hn = h2 * hn;\n      a0[n] = 2.0 * r0 * (1.0 + h * hn) / (n + 2.0);\n      let np1 = n + 1;\n      s = s + hn;\n      a0[np1] = 2.0 * r1 * s / (n + 3.0);\n\n      for (let i = n; i <= np1; i++) {\n        let r = -0.5 * (i + 1.0);\n        b0[1] = r * a0[1];\n\n        for (let m = 2; m <= i; m++) {\n          let bsum = 0.0;\n          let mm1 = m - 1;\n\n          for (let j = 1; j <= mm1; j++) {\n            let mmj = m - j;\n            bsum = bsum + (j * r - mmj) * a0[j] * b0[mmj];\n          }\n\n          b0[m] = r * a0[m] + bsum / m;\n        }\n\n        c[i] = b0[i] / (i + 1.0);\n\n        let dsum = 0.0;\n        let im1 = i - 1;\n\n        for (let j = 1; j <= im1; j++) {\n          let imj = i - j;\n          dsum = dsum + d[imj] * c[j];\n        }\n\n        d[i] = -(dsum + c[i]);\n      }\n\n      j0 = e1 * znm1 + (n - 1.0) * j0;\n      j1 = e1 * zn + n * j1;\n      znm1 = z2 * znm1;\n      zn = z2 * zn;\n      w = w0 * w;\n      let t0 = d[n] * w * j0;\n      w = w0 * w;\n      let t1 = d[np1] * w * j1;\n      sum = sum + (t0 + t1);\n      if (Math.abs(t0) + Math.abs(t1) <= eps * sum) break;\n    }\n\n    let u = Math.exp(-Toms708.bcorr(a, b));\n    return e0 * t * u * sum;\n  }\n\n  public static bcorr(a0: number, b0: number): number {\n    //\n    // c*********************************************************************72\n    // C\n    // cc BCORR evaluates a correction term for LN(GAMMA(A)).\n    // c\n    // C     EVALUATION OF  DEL(A0) + DEL(B0) - DEL(A0 + B0)  WHERE\n    // C     LN(GAMMA(A)) = (A - 0.5)*LN(A) - A + 0.5*LN(2*PI) + DEL(A).\n    // C     IT IS ASSUMED THAT A0 .GE. 8 AND B0 .GE. 8.\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n    const c5 = -0.165322962780713e-2;\n    const c4 = 0.837308034031215e-3;\n    const c3 = -0.59520293135187e-3;\n    const c2 = 0.79365066682539e-3;\n    const c1 = -0.277777777760991e-2;\n    const c0 = 0.833333333333333e-1;\n    //\n\n    let s11 = 0.0;\n    let a = 0.0;\n    let b = 0.0;\n    let c = 0.0;\n    let h = 0.0;\n    let t = 0.0;\n    let w = 0.0;\n    let x = 0.0;\n    let s3 = 0.0;\n    let s5 = 0.0;\n    let s7 = 0.0;\n    let x2 = 0.0;\n    let s9 = 0.0;\n\n    a = Math.min(a0, b0);\n    b = Math.max(a0, b0);\n\n    //\n    h = a / b;\n    c = h / (1.0 + h);\n    x = 1.0 / (1.0 + h);\n    x2 = x * x;\n\n    // C\n    // C  SET SN = (1 - X**N)/(1 - X)\n    // C\n    s3 = 1.0 + (x + x2);\n    s5 = 1.0 + (x + x2 * s3);\n    s7 = 1.0 + (x + x2 * s5);\n    s9 = 1.0 + (x + x2 * s7);\n    s11 = 1.0 + (x + x2 * s9);\n\n    // C\n    // C  SET W = DEL(B) - DEL(A + B)\n    // C\n    t = Math.pow(1.0 / b, 2);\n    w =\n      ((((c5 * s11 * t + c4 * s9) * t + c3 * s7) * t + c2 * s5) * t + c1 * s3) *\n      t +\n      c0;\n    w = w * (c / b);\n\n    // C\n    // C  COMPUTE  DEL(A) + W\n    // C\n    t = Math.pow(1.0 / a, 2);\n    return (((((c5 * t + c4) * t + c3) * t + c2) * t + c1) * t + c0) / a + w;\n    //\n  }\n\n  public static beta_cdf_values(\n    nData: NumberW,\n    a: NumberW,\n    b: NumberW,\n    x: NumberW,\n    fx: NumberW\n  ): void {\n    // C*********************************************************************72\n    // C\n    // Cc BETA_CDF_VALUES returns some values of the Beta  // CDF.\n    // C\n    // C  Discussion:\n    // C\n    // C    The incomplete Beta function may be written\n    // C\n    // C      BETA_INC(A,B,X) = Integral (0 to X) T**(A-1) * (1-T)**(B-1) dT\n    // C                      / Integral (0 to 1) T**(A-1) * (1-T)**(B-1) dT\n    // C\n    // C    Thus,\n    // C\n    // C      BETA_INC(A,B,0.0) = 0.0\n    // C      BETA_INC(A,B,1.0) = 1.0\n    // C\n    // C    The incomplete Beta function is also sometimes  // Called the\n    // C    \"modified\" Beta function, or the \"normalized\" Beta function\n    // C    or the Beta  // CDF (cumulative density function.\n    // C\n    // C    In Mathematica, the function  // Can be evaluated by:\n    // C\n    // C      BETA[X,A,B] / BETA[A,B]\n    // C\n    // C    The function  // Can also be evaluated by using the Statistics package:\n    // C\n    // C      Needs[\"Statistics`ContinuousDistributions`\"]\n    // C      dist = BetaDistribution [ a, b ]\n    // C       // CDF [ dist, x ]\n    // C\n    // C  Modified:\n    // C\n    // C    04 January 2006\n    // C\n    // C  Author:\n    // C\n    // C    John Burkardt\n    // C\n    // C  Reference:\n    // C\n    // C    Milton Abramowitz and Irene Stegun,\n    // C    Handbook of Mathematical Functions,\n    // C    US Department of  // Commerce, 1964.\n    // C\n    // C    Karl Pearson,\n    // C    Tables of the Incomplete Beta Function,\n    // C     // Cambridge University Press, 1968.\n    // C\n    // C    Stephen Wolfram,\n    // C    The Mathematica Book,\n    // C    Fourth Edition,\n    // C    Wolfram Media /  // Cambridge University Press, 1999.\n    // C\n    // C  Parameters:\n    // C\n    // C    Input/output, integer N_DATA.  The user sets N_DATA to 0 before the\n    // C    first  // Call.  On each  // Call, the routine increments N_DATA by 1, and\n    // C    returns the  // Corresponding data; when there is no more data, the\n    // C    output value of N_DATA will be 0 again.\n    // C\n    // C    Output, real A, B, the parameters of the function.\n    // C\n    // C    Output, real X, the argument of the function.\n    // C\n    // C    Output, real FX, the value of the function.\n    // C\n    // C      implicit none\n\n    const nMax = 42;\n\n    const aVec = [\n      0.5,\n      0.5,\n      0.5,\n      1.0,\n      1.0,\n      1.0,\n      1.0,\n      1.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      5.5,\n      10.0,\n      10.0,\n      10.0,\n      10.0,\n      20.0,\n      20.0,\n      20.0,\n      20.0,\n      20.0,\n      30.0,\n      30.0,\n      40.0,\n      0.1e1,\n      0.1e1,\n      0.1e1,\n      0.1e1,\n      0.1e1,\n      0.1e1,\n      0.1e1,\n      0.1e1,\n      0.2e1,\n      0.3e1,\n      0.4e1,\n      0.5e1\n    ];\n\n    const bVec = [\n      0.5,\n      0.5,\n      0.5,\n      0.5,\n      0.5,\n      0.5,\n      0.5,\n      1.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      2.0,\n      5.0,\n      0.5,\n      5.0,\n      5.0,\n      10.0,\n      5.0,\n      10.0,\n      10.0,\n      20.0,\n      20.0,\n      10.0,\n      10.0,\n      20.0,\n      0.5,\n      0.5,\n      0.5,\n      0.5,\n      0.2e1,\n      0.3e1,\n      0.4e1,\n      0.5e1,\n      0.2e1,\n      0.2e1,\n      0.2e1,\n      0.2e1\n    ];\n\n    const fxVec = [\n      0.6376856085851985e-1,\n      0.2048327646991335,\n      0.1e1,\n      0.0,\n      0.5012562893380045e-2,\n      0.513167019494862e-1,\n      0.2928932188134525,\n      0.5,\n      0.28e-1,\n      0.104,\n      0.216,\n      0.352,\n      0.5,\n      0.648,\n      0.784,\n      0.896,\n      0.972,\n      0.4361908850559777,\n      0.1516409096347099,\n      0.8978271484375e-1,\n      0.1e1,\n      0.5,\n      0.4598773297575791,\n      0.2146816102371739,\n      0.9507364826957875,\n      0.5,\n      0.8979413687105918,\n      0.2241297491808366,\n      0.7586405487192086,\n      0.7001783247477069,\n      0.513167019494862e-1,\n      0.1055728090000841,\n      0.1633399734659245,\n      0.2254033307585166,\n      0.36,\n      0.488,\n      0.5904,\n      0.67232,\n      0.216,\n      0.837e-1,\n      0.3078e-1,\n      0.10935e-1\n    ];\n\n    const xVec = [\n      0.01,\n      0.1,\n      1.0,\n      0.0,\n      0.01,\n      0.1,\n      0.5,\n      0.5,\n      0.1,\n      0.2,\n      0.3,\n      0.4,\n      0.5,\n      0.6,\n      0.7,\n      0.8,\n      0.9,\n      0.5,\n      0.9,\n      0.5,\n      1.0,\n      0.5,\n      0.8,\n      0.6,\n      0.8,\n      0.5,\n      0.6,\n      0.7,\n      0.8,\n      0.7,\n      0.1,\n      0.2,\n      0.3,\n      0.4,\n      0.2,\n      0.2,\n      0.2,\n      0.2,\n      0.3,\n      0.3,\n      0.3,\n      0.3\n    ];\n\n    if (nData.val < 0) nData.val = 0;\n\n    nData.val++;\n\n    if (nData.val > nMax) {\n      nData.val = 0;\n\n      a.val = b.val = x.val = fx.val = 0.0;\n    } else {\n      a.val = aVec[nData.val - 1];\n      b.val = bVec[nData.val - 1];\n      x.val = xVec[nData.val - 1];\n      fx.val = fxVec[nData.val - 1];\n    }\n  }\n\n  public static betaln(a0: number, b0: number): number {\n    //\n    // c*********************************************************************72\n    // c\n    // cc BETALN evaluates the logarithm of the Beta function.\n    // C\n    // C     E = 0.5*LN(2*PI)\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n    const e = 0.918938533204673;\n\n    let a = 0.0;\n    let b = 0.0;\n    let c = 0.0;\n    let h = 0.0;\n    let i = 0;\n    let n = 0;\n    let u = 0.0;\n    let v = 0.0;\n    let w = 0.0;\n    let z = 0.0;\n\n    a = Math.min(a0, b0);\n    b = Math.max(a0, b0);\n\n    if (a < 1) {\n      // C\n      // C  PROCEDURE WHEN A .LT. 1\n      // C\n      if (b < 8.0) return Toms708.gamln(a) + Toms708.algdiv(a, b);\n      else return Toms708.gamln(a) + Toms708.gamln(b) - Toms708.gamln(a + b);\n    } else if (a >= 1 && a < 8) {\n      // C\n      // C  PROCEDURE WHEN 1 <= A .LT. 8\n      // C\n      if (a < 2 && b < 2) {\n        return Toms708.gamln(a) + Toms708.gamln(b) - Toms708.gsumln(a, b);\n      } else if (b > 2) {\n        w = 0.0;\n        if (b < 8.0) {\n          // C\n          // C  REDUCTION OF B WHEN B .LT. 8\n          // C\n          n = trunc(b - 1.0);\n          z = 1.0;\n\n          for (i = 1; i <= n; i++) {\n            b--;\n            z *= b / (a + b);\n          }\n\n          return (\n            w +\n            log(z) +\n            (Toms708.gamln(a) + Toms708.gamln(b) - Toms708.gsumln(a, b))\n          );\n        } else return Toms708.gamln(a) + Toms708.algdiv(a, b);\n      } else if (a > 2) {\n        if (b > 1000.0) {\n          // C\n          // C  REDUCTION OF A WHEN B .GT. 1000\n          // C\n          n = trunc(a - 1.0);\n          w = 1.0;\n\n          for (i = 1; i <= n; i++) {\n            a--;\n            w = w * (a / (1.0 + a / b));\n          }\n\n          return (\n            log(w) - n * log(b) + (Toms708.gamln(a) + Toms708.algdiv(a, b))\n          );\n        }\n\n        // C\n        // C  REDUCTION OF A WHEN B <= 1000\n        // C\n\n        n = trunc(a - 1.0);\n        w = 1.0;\n\n        for (i = 1; i <= n; i++) {\n          a--;\n          h = a / b;\n          w *= h / (1.0 + h);\n        }\n\n        w = log(w);\n        if (b < 8.0) {\n          // C\n          // C  REDUCTION OF B WHEN B .LT. 8\n          // C\n          n = trunc(b - 1.0);\n          z = 1.0;\n\n          for (i = 1; i <= n; i++) {\n            b--;\n            z *= b / (a + b);\n          }\n\n          return (\n            w +\n            log(z) +\n            (Toms708.gamln(a) + Toms708.gamln(b) - Toms708.gsumln(a, b))\n          );\n        } else return w + Toms708.gamln(a) + Toms708.algdiv(a, b);\n      }\n    } //else\n    // C\n    // C  PROCEDURE WHEN A .GE. 8\n    // C\n    w = Toms708.bcorr(a, b);\n    h = a / b;\n    c = h / (1.0 + h);\n    u = -((a - 0.5) * log(c));\n    v = b * Toms708.alnrel(h);\n\n    if (u > v) return -0.5 * log(b) + e + w - u - v;\n    else return -0.5 * log(b) + e + w - v - u;\n  }\n\n  public static bfrac(\n    a: number,\n    b: number,\n    x: number,\n    y: number,\n    lambda: number,\n    eps: number\n  ) {\n    //\n    // c*********************************************************************72\n    // c\n    // cc BFRAC: continued fraction expansion for IX(A,B) when A and B are grea\n    // c\n    // C     IT IS ASSUMED THAT  LAMBDA = (A + B)*Y - B.\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n\n    let n = 0.0;\n    let yp1 = 0.0;\n    let alpha = 0.0;\n    let c = 0.0;\n    let e = 0.0;\n    let p = 0.0;\n    let r = 0.0;\n    let s = 0.0;\n    let t = 0.0;\n    let w = 0.0;\n    let c0 = 0.0;\n    let c1 = 0.0;\n    let anp1 = 0.0;\n    let bnp1 = 0.0;\n    let r0 = 0.0;\n    let beta = 0.0;\n    let an = 0.0;\n    let bn = 0.0;\n\n    let dResult = Toms708.brcomp(a, b, x, y);\n\n    if (dResult === 0.0) return 0;\n    //\n    c = 1.0 + lambda;\n    c0 = b / a;\n    c1 = 1.0 + 1.0 / a;\n    yp1 = y + 1.0;\n    //\n    n = 0.0;\n    p = 1.0;\n    s = a + 1.0;\n    an = 0.0;\n    bn = 1.0;\n    anp1 = 1.0;\n    bnp1 = c / c1;\n    r = c1 / c;\n\n    // C\n    // C  CONTINUED FRACTION CALCULATION\n    // C\n\n    while (true) {\n      n++;\n      t = n / a;\n      w = n * (b - n) * x;\n      e = a / s;\n      alpha = p * (p + c0) * e * e * (w * x);\n      e = (1.0 + t) / (c1 + t + t);\n      beta = n + w / s + e * (c + n * yp1);\n      p = 1.0 + t;\n      s = s + 2.0;\n      // C\n      // C  UPDATE AN, BN, ANP1, AND BNP1\n      // C\n      t = alpha * an + beta * anp1;\n      an = anp1;\n      anp1 = t;\n      t = alpha * bn + beta * bnp1;\n      bn = bnp1;\n      bnp1 = t;\n      //\n      r0 = r;\n      r = anp1 / bnp1;\n      if (Math.abs(r - r0) <= eps * r) break;\n\n      // C\n      // C  RESCALE AN, BN, ANP1, AND BNP1\n      // C\n      an = an / bnp1;\n      bn = bn / bnp1;\n      anp1 = r;\n      bnp1 = 1.0;\n    }\n    // C\n    // C  Termination\n    // c\n    dResult *= r;\n\n    return dResult;\n  }\n\n  public static bgrat(\n    a: number,\n    b: number,\n    x: number,\n    y: number,\n    w: NumberW,\n    eps: number,\n    ierr: NumberW\n  ) {\n    //\n    // c*********************************************************************72\n    // c\n    // cc BGRAT uses asymptotic expansion for IX(A,B) when B < A.\n    // c\n    // C     ASYMPTOTIC EXPANSION FOR IX(A,B) WHEN A IS LARGER THAN B.\n    // C     THE RESULT OF THE EXPANSION IS ADDED TO W. IT IS ASSUMED\n    // C     THAT A .GE. 15 AND B <= 1.  EPS IS THE TOLERANCE USED.\n    // C     IERR IS A VARIABLE THAT REPORTS THE STATUS OF THE RESULTS.\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n\n    let j = 0.0;\n    let l = 0.0;\n    let lnx = 0.0;\n    let nu = 0.0;\n    let n2 = 0.0;\n    let c = new Array<number>(30);\n    let d = new Array<number>(30);\n    let bm1 = 0.0;\n    let nm1 = 0;\n    let i = 0;\n    let n = 0;\n    //double p = 0.0;\n    let q = 0.0;\n    let r = 0.0;\n    let s = 0.0;\n    let t = 0.0;\n    let u = 0.0;\n    let v = 0.0;\n    let z = 0.0;\n    let sum = 0.0;\n    let bp2n = 0.0;\n    let t2 = 0.0;\n    let coef = 0.0;\n    let dj = 0.0;\n    let cn = 0.0;\n\n    bm1 = b - 0.5 - 0.5;\n    nu = a + 0.5 * bm1;\n\n    if (y <= 0.375) {\n      lnx = Toms708.alnrel(-y);\n    } else {\n      lnx = log(x);\n    }\n\n    z = -(nu * lnx);\n\n    if (b * z !== 0.0) {\n      // C\n      // C  COMPUTATION OF THE EXPANSION\n      // C  SET R = EXP(-Z)*Z**B/GAMMA(B)\n      // C\n      r = b * (1.0 + Toms708.gam1(b)) * Math.exp(b * log(z));\n      r *= Math.exp(a * lnx) * Math.exp(0.5 * bm1 * lnx);\n      u = Toms708.algdiv(b, a) + b * log(nu);\n      u = r * Math.exp(-u);\n\n      if (u === 0.0) {\n        ierr.val = 1;\n        return;\n      }\n\n      let p1 = new NumberW(0);\n      let q1 = new NumberW(0);\n      Toms708.grat1(b, z, r, p1, q1, eps);\n\n      // p = p1.val; // not necessary since p is never used\n      q = q1.val;\n      //\n      v = 0.25 * Math.pow(1.0 / nu, 2);\n      t2 = 0.25 * lnx * lnx;\n      l = w.val / u;\n      j = q / r;\n      sum = j;\n      t = 1.0;\n      cn = 1.0;\n      n2 = 0.0;\n\n      for (n = 1; n <= 30; n++) {\n        bp2n = b + n2;\n        j = (bp2n * (bp2n + 1.0) * j + (z + bp2n + 1.0) * t) * v;\n        n2 = n2 + 2.0;\n        t *= t2;\n        cn /= n2 * (n2 + 1.0);\n        c[n - 1] = cn;\n        s = 0.0;\n\n        if (n !== 1) {\n          nm1 = n - 1;\n          coef = b - n;\n          for (i = 1; i <= nm1; i++) {\n            s += coef * c[i - 1] * d[n - i - 1];\n            coef += b;\n          }\n        }\n\n        d[n - 1] = bm1 * cn + s / n;\n        dj = d[n - 1] * j;\n        sum += dj;\n\n        if (sum <= 0.0) {\n          ierr.val = 1;\n          return;\n        }\n\n        if (Math.abs(dj) <= eps * (sum + l)) {\n          break;\n        }\n      }\n      // C\n      // C  ADD THE RESULTS TO W\n      // C\n\n      ierr.val = 0;\n      w.val += u * sum;\n      return;\n    } else {\n      // C\n      // C  The expansion cannot be computed\n      // c\n      ierr.val = 1;\n      return;\n    }\n  }\n\n  public static brcomp(a: number, b: number, x: number, y: number) {\n    // C*********************************************************************72\n    // C\n    // Cc BRCOMP evaluates X**A*Y**B/BETA(A,B).\n    // C\n    // C  Reference:\n    // C\n    // C    Armido Didonato, Alfred Morris,\n    // C    Algorithm 708:\n    // C    Significant Digit // Computation of the Incomplete Beta Function Ratios,\n    // C    ACM Transactions on Mathematical Software,\n    // C    Volume 18, Number 3, 1992, pages 360-373.\n    // C\n    // C\n    // C  // CONST = 1/SQRT(2*PI)\n    // C\n    const Const = 0.398942280401433;\n\n    if (x === 0.0 || y === 0.0) return 0;\n\n    let b0;\n    let a0 = Math.min(a, b);\n    let lnx;\n    let lny;\n    let c;\n\n    if (a0 < 8.0) {\n      if (x <= 0.375) {\n        lnx = log(x);\n        lny = Toms708.alnrel(-x);\n      } else {\n        if (y <= 0.375) {\n          lnx = Toms708.alnrel(-y);\n          lny = log(y);\n        } else {\n          lnx = log(x);\n          lny = log(y);\n        }\n\n        let z = a * lnx + b * lny;\n\n        if (a0 >= 1.0) {\n          z -= Toms708.betaln(a, b);\n          return Math.exp(z);\n        }\n        // C;\n        // C  procedure for a < 1 or b < 1\n        // C\n        b0 = Math.max(a, b);\n\n        if (b0 < 8.0) {\n          if (b0 <= 1.0) {\n            // C\n            // C  algorithm for b0 <= 1\n            // C\n            let dResult = Math.exp(z);\n            if (dResult === 0.0) return 0;\n\n            let apb = a + b;\n            if (apb <= 1.0) {\n              z = 1.0 + Toms708.gam1(apb);\n            } else {\n              let u = a + b - 1.0;\n              z = (1.0 + Toms708.gam1(u)) / apb;\n            }\n            c = (1.0 + Toms708.gam1(a)) * (1.0 + Toms708.gam1(b)) / z;\n            dResult *= a0 * c / (1.0 + a0 / b0);\n            return dResult;\n          }\n        } else {\n          let u = Toms708.gamln1(a0);\n          let n = b0 - 1.0;\n          if (n >= 1) {\n            c = 1.0;\n            for (let i = 1; i <= n; i++) {\n              b0--;\n              c *= b0 / (a0 + b0);\n            }\n            u = log(c) + u;\n          }\n          z -= u;\n          b0--;\n          let apb = a0 + b0;\n          let t;\n\n          if (apb <= 1.0) {\n            t = 1.0 + Toms708.gam1(apb);\n          } else {\n            u = a0 + b0 - 1.0;\n            t = (1.0 + Toms708.gam1(u)) / apb;\n          }\n          return a0 * Math.exp(z) * (1.0 + Toms708.gam1(b0)) / t;\n        }\n        // C\n        // C  algorithm for b0 >= 8\n        // C\n        let u = Toms708.gamln1(a0) + Toms708.algdiv(a0, b0);\n        return a0 * Math.exp(z - u);\n      }\n    }\n    // C\n    // C  procedure for a >= 8 and b >= 8\n    // C\n    let x0;\n    let y0;\n    let lambda;\n    let e;\n    let h;\n    let u;\n    let v;\n    if (a <= b) {\n      h = a / b;\n      x0 = h / (1.0 + h);\n      y0 = 1.0 / (1.0 + h);\n      lambda = a - (a + b) * x;\n    } else {\n      h = b / a;\n      x0 = 1.0 / (1.0 + h);\n      y0 = h / (1.0 + h);\n      lambda = (a + b) * y - b;\n    }\n    e = -lambda / a;\n    if (Math.abs(e) <= 0.6) {\n      u = Toms708.rlog1(e);\n    } else {\n      u = e - log(x / x0);\n    }\n\n    e = lambda / b;\n\n    if (Math.abs(e) > 0.6) {\n      v = Toms708.rlog1(e);\n    } else {\n      v = e - log(y / y0);\n    }\n\n    let z = Math.exp(-(a * u + b * v));\n    return Const * Math.sqrt(b * x0) * z * Math.exp(-Toms708.bcorr(a, b));\n  }\n\n  public static brcmp1(mu: number, a: number, b: number, x: number, y: number) {\n    // C*********************************************************************\n    // C\n    // C BRCMP1 evaluates EXP(MU) * (X**A*Y**B/BETA(A,B)).\n    // C\n    // C  Reference:\n    // C\n    // C    Armido Didonato, Alfred Morris,\n    // C    Algorithm 708:\n    // C    Significant Digit Computation of the Incomplete Beta Function Ratios,\n    // C    ACM Transactions on Mathematical Software,\n    // C    Volume 18, Number 3, 1992, pages 360-373.\n    // C\n\n    // C  const = 1/sqrt(2*pi)\n    // C\n    const invSqrtPi = 0.398942280401433;\n    let c;\n    let u;\n    let apb;\n\n    let a0 = Math.min(a, b);\n\n    if (a0 < 8.0) {\n      let lnx;\n      let lny;\n\n      if (x <= 0.375) {\n        lnx = log(x);\n        lny = Toms708.alnrel(-x);\n      } else {\n        if (y <= 0.375) {\n          lnx = Toms708.alnrel(-y);\n          lny = log(y);\n        } else {\n          lnx = log(x);\n          lny = log(y);\n        }\n      }\n\n      let z = a * lnx + b * lny;\n      if (a0 <= 1.0) {\n        z -= Toms708.betaln(a, b);\n        return Toms708.esum(mu, z);\n      }\n      // C\n      // C  procedure for a < 1 or b < 1\n      // C\n      let b0 = Math.max(a, b);\n      if (b0 >= 8.0) {\n        u = Toms708.gamln1(a0) + Toms708.algdiv(a0, b0);\n        return a0 * Toms708.esum(mu, z - u);\n      }\n\n      if (b0 <= 1.0) {\n        // C\n        // C  algorithm for b0 <= 1\n        // C\n        let dResult = Toms708.esum(mu, z);\n\n        if (dResult === 0.0) return 0;\n\n        apb = a + b;\n\n        if (apb <= 1.0) {\n          z = 1.0 + Toms708.gam1(apb);\n        } else {\n          u = a + b - 1.0;\n          z = (1.0 + Toms708.gam1(u)) / apb;\n        }\n\n        c = (1.0 + Toms708.gam1(a)) * (1.0 + Toms708.gam1(b)) / z;\n        dResult *= a0 * c / (1.0 + a0 / b0);\n        return dResult;\n      }\n      // C\n      // C  algorithm for 1 < b0 < 8\n      // C\n\n      u = Toms708.gamln1(a0);\n      let n = trunc(b0 - 1.0);\n\n      if (n >= 1) {\n        c = 1.0;\n        for (let i = 1; i <= n; i++) {\n          b0 -= 1.0;\n          c = c * (b0 / (a0 + b0));\n        }\n        u = log(c) + u;\n      }\n\n      z -= u;\n      b0 -= 1.0;\n      apb = a0 + b0;\n      let t;\n\n      if (apb <= 1.0) {\n        t = 1.0 + Toms708.gam1(apb);\n      } else {\n        u = a0 + b0 - 1.0;\n        t = (1.0 + Toms708.gam1(u)) / apb;\n      }\n      return a0 * Toms708.esum(mu, z) * (1.0 + Toms708.gam1(b0)) / t;\n    }\n    // C\n    // C  procedure for a= 8 and b >= 8\n    // C\n\n    let h;\n    let x0;\n    let y0;\n    let lambda;\n\n    if (a <= b) {\n      h = a / b;\n      x0 = h / (1.0 + h);\n      y0 = 1.0 / (1.0 + h);\n      lambda = a - (a + b) * x;\n    } else {\n      h = b / a;\n      x0 = 1.0 / (1.0 + h);\n      y0 = h / (1.0 + h);\n      lambda = (a + b) * y - b;\n    }\n\n    let e = -lambda / a;\n\n    if (Math.abs(e) <= 0.6) {\n      u = Toms708.rlog1(e);\n    } else {\n      u = e - log(x / x0);\n    }\n\n    e = lambda / b;\n    let v;\n\n    if (Math.abs(e) <= 0.6) {\n      v = Toms708.rlog1(e);\n    } else {\n      v = e - log(y / y0);\n    }\n\n    let z = Toms708.esum(mu, -(a * u + b * v));\n    return invSqrtPi * Math.sqrt(b * x0) * z * Math.exp(-Toms708.bcorr(a, b));\n  }\n\n  public static bpser(a: number, b: number, x: number, eps: number) {\n    //\n    // c*********************************************************************72\n    // c\n    // cc BPSER evaluates IX(A,B) when B <= 1 or B*X <= 0.7.\n    // c\n    // C     POWER SERIES EXPANSION FOR EVALUATING IX(A,B) WHEN B <= 1\n    // C     OR B*X <= 0.7.  EPS IS THE TOLERANCE USED.\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n\n    let n = 0.0;\n    let apb = 0.0;\n    let c = 0.0;\n    let i = 0;\n    let m = 0;\n    let t = 0.0;\n    let u = 0.0;\n    let w = 0.0;\n    let z = 0.0;\n    let tol = 0.0;\n    let sum = 0.0;\n    let a0 = 0.0;\n    let b0 = 0.0;\n    let dResult = 0;\n\n    if (x === 0.0) {\n      return 0;\n    }\n    // C\n    // C  COMPUTE THE FACTOR X**A/(A*BETA(A,B))\n    // C\n    a0 = Math.min(a, b);\n    if (a0 >= 1.0) {\n      z = a * log(x) - Toms708.betaln(a, b);\n      dResult = Math.exp(z) / a;\n    } else {\n      b0 = Math.max(a, b);\n      if (b0 < 8.0) {\n        if (b0 <= 1.0) {\n          // C\n          // C  PROCEDURE FOR A0 .LT. 1 AND B0 <= 1\n          // C\n          dResult = Math.pow(x, a);\n          if (dResult === 0.0) {\n            return 0;\n          }\n          //\n          apb = a + b;\n          if (apb <= 1.0) {\n            z = 1.0 + Toms708.gam1(apb);\n          } else {\n            u = a + b - 1.0;\n            z = (1.0 + Toms708.gam1(u)) / apb;\n          } //\n          c = (1.0 + Toms708.gam1(a)) * (1.0 + Toms708.gam1(b)) / z;\n          dResult *= c * (b / apb);\n        } else {\n          // C\n          // C  PROCEDURE FOR A0 .LT. 1 AND 1 .LT. B0 .LT. 8\n          // C\n          //label40:\n          //\tDummy.label(\"Bpser\",40);\n          u = Toms708.gamln1(a0);\n          m = trunc(b0 - 1.0);\n\n          if (m >= 1) {\n            c = 1.0;\n            for (i = 1; i <= m; i++) {\n              b0--;\n              c *= b0 / (a0 + b0);\n            }\n            u = log(c) + u;\n          }\n\n          z = a * log(x) - u;\n          b0--;\n          apb = a0 + b0;\n\n          if (apb <= 1.0) {\n            t = 1.0 + Toms708.gam1(apb);\n          } else {\n            u = a0 + b0 - 1.0;\n            t = (1.0 + Toms708.gam1(u)) / apb;\n          }\n          dResult = Math.exp(z) * (a0 / a) * (1.0 + Toms708.gam1(b0)) / t;\n        }\n      } else {\n        // b0>8\n        // C\n        // C  PROCEDURE FOR A0 .LT. 1 AND B0 .GE. 8\n        // C\n        u = Toms708.gamln1(a0) + Toms708.algdiv(a0, b0);\n        z = a * log(x) - u;\n        dResult = a0 / a * Math.exp(z);\n      }\n    }\n    if (dResult === 0.0 || a <= 0.1 * eps) {\n      return dResult;\n    }\n    // C\n    // C  Compute the series\n    // c\n    sum = 0.0;\n    n = 0.0;\n    c = 1.0;\n    tol = eps / a;\n\n    do {\n      n++;\n      c *= (0.5 + (0.5 - b / n)) * x;\n      w = c / (a + n);\n      sum += w;\n    } while (Math.abs(w) > tol);\n\n    dResult *= 1.0 + a * sum;\n    return dResult;\n  }\n\n\n\n  public static bratio(\n    a: number,\n    b: number,\n    x: number,\n    y: number,\n    w: NumberW,\n    w1: NumberW,\n    ierr: NumberW\n  ) {\n    //\n    // c*********************************************************************72\n    // C\n    // cc BRATIO evaluates the incomplete Beta function IX(A,B).\n    // c\n    // c  Discussion:\n    // c\n    // C     IT IS ASSUMED THAT A AND B ARE NONNEGATIVE, AND THAT X <= 1\n    // C     AND Y = 1 - X.  BRATIO ASSIGNS W AND W1 THE VALUES\n    // C\n    // C                      W  = IX(A,B)\n    // C                      W1 = 1 - IX(A,B)\n    // C\n    // C     IERR IS A VARIABLE THAT REPORTS THE STATUS OF THE RESULTS.\n    // C     IF NO INPUT ERRORS ARE DETECTED THEN IERR IS SET TO 0 AND\n    // C     W AND W1 ARE COMPUTED. OTHERWISE, IF AN ERROR IS DETECTED,\n    // C     THEN W AND W1 ARE ASSIGNED THE VALUE 0 AND IERR IS SET TO\n    // C     ONE OF THE FOLLOWING VALUES ...\n    // C\n    // C        IERR = 1  IF A OR B IS NEGATIVE\n    // C        IERR = 2  IF A = B = 0\n    // C        IERR = 3  IF X .LT. 0 OR X .GT. 1\n    // C        IERR = 4  IF Y .LT. 0 OR Y .GT. 1\n    // C        IERR = 5  IF X + Y .NE. 1\n    // C        IERR = 6  IF X = A = 0\n    // C        IERR = 7  IF Y = B = 0\n    // C\n    // C     WRITTEN BY ALFRED H. MORRIS, JR.\n    // C        NAVAL SURFACE WARFARE CENTER\n    // C        DAHLGREN, VIRGINIA\n    // C     REVISED ... NOV 1991\n    // c\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    // c\n    // C  EPS IS A MACHINE DEPENDENT CONSTANT. EPS IS THE SMALLEST\n    // C  FLOATING POINT NUMBER FOR WHICH 1.0 + EPS .GT. 1.0\n    // C\n\n    let lambda = 0.0;\n    let ind = 0;\n    let n = 0;\n    let t = 0.0;\n    let eps = 0.0;\n    let z = 0.0;\n    let a0 = 0.0;\n    let b0 = 0.0;\n    let x0 = 0.0;\n    let y0 = 0.0;\n    eps = Toms708.spmpar(1);\n    printer_bratio('eps is: %d', eps);\n    w.val = 0.0;\n    w1.val = 0.0;\n\n    if (a < 0.0 || b < 0.0) {\n      ierr.val = 1;\n      return;\n    }\n\n    if (a === 0.0 && b === 0.0) {\n      ierr.val = 2;\n      return;\n    }\n\n    if (x < 0.0 || x > 1.0) {\n      ierr.val = 3;\n      return;\n    }\n\n    if (y < 0.0 || y > 1.0) {\n      ierr.val = 4;\n      return;\n    }\n\n    z = x + y - 0.5 - 0.5;\n    if (abs(z) > 3.0 * eps) {\n      ierr.val = 5;\n      return;\n    }\n\n    //\n    ierr.val = 0;\n    if (x === 0.0) {\n      if (a === 0.0) {\n        ierr.val = 6;\n        return;\n      } else {\n        w.val = 0.0;\n        w1.val = 1.0;\n        return;\n      }\n    }\n\n    if (y === 0.0) {\n      if (b === 0.0) {\n        ierr.val = 7;\n        return;\n      } else {\n        w.val = 1.0;\n        w1.val = 0.0;\n        return;\n      }\n    }\n\n    if (a === 0.0) {\n      w.val = 1.0;\n      w1.val = 0.0;\n      return;\n    }\n\n    if (b === 0.0) {\n      w.val = 0.0;\n      w1.val = 1.0;\n      return;\n    }\n\n    //\n    eps = Math.max(eps, 1e-15);\n    if (Math.max(a, b) < 1.0e-3 * eps) {\n      w.val = b / (a + b);\n      w1.val = a / (a + b);\n      return;\n    }\n    //\n    ind = 0;\n    a0 = a;\n    b0 = b;\n    x0 = x;\n    y0 = y;\n\n    if (min(a0, b0) <= 1.0) {\n      // C\n      // C  PROCEDURE FOR A0 <= 1 OR B0 <= 1\n      // C\n      if (x <= 0.5) {\n        ind = 1;\n        a0 = b;\n        b0 = a;\n        x0 = y;\n        y0 = x;\n      }\n      //\n\n      if (b0 < min(eps, eps * a0)) {\n        w.val = Toms708.fpser(a0, b0, x0, eps);\n        w1.val = 0.5 + (0.5 - w.val);\n\n        if (ind === 0) {\n          return;\n        } else {\n          t = w.val;\n          w.val = w1.val;\n          w1.val = t;\n          return;\n        }\n      }\n      if (a0 < min(eps, eps * b0) && b0 * x0 <= 1.0) {\n        w1.val = Toms708.apser(a0, b0, x0, eps);\n        w.val = 0.5 + (0.5 - w1.val);\n\n        if (ind === 0) {\n          return;\n        } else {\n          t = w.val;\n          w.val = w1.val;\n          w1.val = t;\n          return;\n        }\n      }\n\n      if (Math.max(a0, b0) <= 1.0) {\n        if (a0 >= Math.min(0.2, b0) || Math.pow(x0, a0) <= 0.9) {\n          w.val = Toms708.bpser(a0, b0, x0, eps);\n          w1.val = 0.5 + (0.5 - w.val);\n\n          if (ind === 0) {\n            return;\n          } else {\n            t = w.val;\n            w.val = w1.val;\n            w1.val = t;\n            return;\n          }\n        }\n\n        if (x0 >= 0.3) {\n          w1.val = Toms708.bpser(b0, a0, y0, eps);\n          w.val = 0.5 + (0.5 - w1.val);\n\n          if (ind === 0) {\n            return;\n          } else {\n            t = w.val;\n            w.val = w1.val;\n            w1.val = t;\n            return;\n          }\n        }\n\n        n = 20;\n        w1.val = Toms708.bup(b0, a0, y0, x0, n, eps);\n        b0 += n;\n\n        let ierr1 = new NumberW(0);\n\n        Toms708.bgrat(b0, a0, y0, x0, w1, 15.0 * eps, ierr1);\n        w.val = 0.5 + (0.5 - w1.val);\n\n        if (ind === 0) {\n          return;\n        } else {\n          t = w.val;\n          w.val = w1.val;\n          w1.val = t;\n          return;\n        }\n\n        //\n      }\n\n      if (b0 <= 1.0) {\n        w.val = Toms708.bpser(a0, b0, x0, eps);\n        w1.val = 0.5 + (0.5 - w.val);\n\n        if (ind === 0) {\n          return;\n        } else {\n          t = w.val;\n          w.val = w1.val;\n          w1.val = t;\n          return;\n        }\n      }\n\n      if (x0 >= 0.3) {\n        w1.val = Toms708.bpser(b0, a0, y0, eps);\n        w.val = 0.5 + (0.5 - w1.val);\n\n        if (ind === 0) {\n          return;\n        } else {\n          t = w.val;\n          w.val = w1.val;\n          w1.val = t;\n          return;\n        }\n      }\n\n      if (x0 < 0.1) {\n        if (pow(x0 * b0, a0) <= 0.7) {\n          w.val = Toms708.bpser(a0, b0, x0, eps);\n          w1.val = 0.5 + (0.5 - w.val);\n\n          if (ind === 0) {\n            return;\n          } else {\n            t = w.val;\n            w.val = w1.val;\n            w1.val = t;\n            return;\n          }\n        }\n      }\n\n      if (b0 > 15.0) {\n        let ierr1 = new NumberW(0);\n\n        Toms708.bgrat(b0, a0, y0, x0, w1, 15.0 * eps, ierr1);\n        w.val = 0.5 + (0.5 - w1.val);\n\n        if (ind === 0) {\n          return;\n        } else {\n          t = w.val;\n          w.val = w1.val;\n          w1.val = t;\n          return;\n        }\n      }\n\n      n = 20;\n      w1.val = Toms708.bup(b0, a0, y0, x0, n, eps);\n      b0 += n;\n\n      let ierr1 = new NumberW(0);\n\n      Toms708.bgrat(b0, a0, y0, x0, w1, 15.0 * eps, ierr1);\n      w.val = 0.5 + (0.5 - w1.val);\n\n      if (ind === 0) {\n        return;\n      } else {\n        t = w.val;\n        w.val = w1.val;\n        w1.val = t;\n        return;\n      }\n    }\n\n    // C\n    // C  PROCEDURE FOR A0 .GT. 1 AND B0 .GT. 1\n    // C\n\n    if (a <= b) {\n      lambda = a - (a + b) * x;\n    } else {\n      lambda = (a + b) * y - b;\n    }\n\n    if (lambda < 0.0) {\n      ind = 1;\n      a0 = b;\n      b0 = a;\n      x0 = y;\n      y0 = x;\n      lambda = abs(lambda);\n    }\n\n    if (b0 < 40.0 && b0 * x0 <= 0.7) {\n      w.val = Toms708.bpser(a0, b0, x0, eps);\n      w1.val = 0.5 + (0.5 - w.val);\n\n      if (ind === 0) {\n        return;\n      } else {\n        t = w.val;\n        w.val = w1.val;\n        w1.val = t;\n        return;\n      }\n    }\n\n    if (b0 < 40.0) {\n      n = Math.trunc(b0);\n      b0 -= n;\n\n      if (b0 === 0.0) {\n        n--;\n        b0 = 1.0;\n      }\n\n      w.val = Toms708.bup(b0, a0, y0, x0, n, eps);\n\n      if (x0 <= 0.7) {\n        w.val += Toms708.bpser(a0, b0, x0, eps);\n        w1.val = 0.5 + (0.5 - w.val);\n\n        if (ind === 0) {\n          return;\n        } else {\n          t = w.val;\n          w.val = w1.val;\n          w1.val = t;\n          return;\n        }\n      }\n      if (a0 <= 15.0) {\n        n = 20;\n        w.val += Toms708.bup(a0, b0, x0, y0, n, eps);\n        a0 += n;\n      }\n\n      let ierr1 = new NumberW(0);\n\n      Toms708.bgrat(a0, b0, x0, y0, w, 15.0 * eps, ierr1);\n      w1.val = 0.5 + (0.5 - w.val);\n\n      if (ind === 0) {\n        return;\n      } else {\n        t = w.val;\n        w.val = w1.val;\n        w1.val = t;\n        return;\n      }\n    }\n\n    if (a0 <= b0) {\n      if (a0 <= 100.0) {\n        w.val = Toms708.bfrac(a0, b0, x0, y0, lambda, 15.0 * eps);\n        w1.val = 0.5 + (0.5 - w.val);\n\n        if (ind === 0) {\n          return;\n        } else {\n          t = w.val;\n          w.val = w1.val;\n          w1.val = t;\n          return;\n        }\n      }\n\n      if (lambda > 0.03 * a0) {\n        w.val = Toms708.bfrac(a0, b0, x0, y0, lambda, 15.0 * eps);\n        w1.val = 0.5 + (0.5 - w.val);\n\n        if (ind === 0) {\n          return;\n        } else {\n          t = w.val;\n          w.val = w1.val;\n          w1.val = t;\n          return;\n        }\n      }\n\n      w.val = Toms708.basym(a0, b0, lambda, 100.0 * eps);\n      w1.val = 0.5 + (0.5 - w.val);\n\n      if (ind === 0) {\n        return;\n      } else {\n        t = w.val;\n        w.val = w1.val;\n        w1.val = t;\n        return;\n      }\n    } else {\n      if (b0 <= 100.0 || lambda > 0.03 * b0) {\n        w.val = Toms708.bfrac(a0, b0, x0, y0, lambda, 15.0 * eps);\n        w1.val = 0.5 + (0.5 - w.val);\n\n        if (ind === 0) {\n          return;\n        } else {\n          t = w.val;\n          w.val = w1.val;\n          w1.val = t;\n          return;\n        }\n      }\n\n      w.val = Toms708.basym(a0, b0, lambda, 100.0 * eps);\n      w1.val = 0.5 + (0.5 - w.val);\n\n      if (ind === 0) {\n        return;\n      } else {\n        t = w.val;\n        w.val = w1.val;\n        w1.val = t;\n        return;\n      }\n    }\n  }\n\n  static bup(\n    a: number,\n    b: number,\n    x: number,\n    y: number,\n    n: number,\n    eps: number\n  ) {\n    //\n    // c*********************************************************************72\n    // c\n    // cc BUP evaluates IX(A,B) - IX(A + N,B), where N is a positive integer.\n    // c\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360 - 373.\n    // c\n    // C     EPS IS THE TOLERANCE USED.\n    // C\n    // C\n    // C  OBTAIN THE SCALING FACTOR EXP(-MU) AND EXP(MU)*(X**A*Y**B/BETA(A,B))/\n    // C\n\n    let dResult;\n\n    let mu = 0;\n    let d = 1.0;\n    let t = 0;\n    let r = 0;\n    let w = 0;\n\n    let k;\n    let l;\n    let apb = a + b;\n    let ap1 = a + 1.0;\n\n    if (n !== 1 && a > 1.0) {\n      if (apb >= 1.1 * ap1) {\n        mu = trunc(Math.abs(Toms708.exparg(1)));\n        k = trunc(Toms708.exparg(0));\n\n        if (k < mu) {\n          mu = k;\n        }\n\n        t = mu;\n        d = Math.exp(-t);\n      }\n    }\n\n    dResult = Toms708.brcmp1(mu, a, b, x, y) / a;\n\n    if (n === 1 || dResult === 0.0) {\n      return dResult;\n    }\n\n    let nm1 = n - 1;\n    w = d;\n\n    // C\n    // C  LET K BE THE INDEX OF THE MAXIMUM TERM\n    // C\n\n    k = 0;\n    if (b <= 1.0) {\n      let kp1 = k + 1;\n\n      for (let i = kp1; i <= nm1; i++) {\n        l = i - 1;\n        d = (apb + l) / (ap1 + l) * x * d;\n        w += d;\n\n        if (d <= eps * w) break;\n      }\n\n      return dResult * w;\n    }\n\n    if (y > 1.0e-4) {\n      r = (b - 1.0) * x / y - a;\n\n      if (r < 1.0) {\n        let kp1 = k + 1;\n\n        for (let i = kp1; i <= nm1; i++) {\n          l = i - 1;\n          d = (apb + l) / (ap1 + l) * x * d;\n          w += d;\n\n          if (d <= eps * w) break;\n        }\n\n        return dResult * w;\n      }\n      k = nm1;\n      t = nm1;\n\n      if (r < t) {\n        k = trunc(r);\n      }\n    } else {\n      k = nm1;\n    }\n\n    // C\n    // C  ADD THE INCREASING TERMS OF THE SERIES\n    // C\n    for (let i = 1; i <= k; i++) {\n      l = i - 1;\n      d = (apb + l) / (ap1 + l) * x * d;\n      w += d;\n    }\n\n    if (k === nm1) {\n      return dResult * w;\n    }\n\n    // C\n    // C  ADD THE REMAINING TERMS OF THE SERIES\n    // C\n\n    let kp1 = k + 1;\n\n    for (let i = kp1; i <= nm1; i++) {\n      l = i - 1;\n      d = (apb + l) / (ap1 + l) * x * d;\n      w += d;\n\n      if (d <= eps * w) break;\n    }\n\n    return dResult * w;\n  }\n\n  public static erf(x: number): number {\n    //\n    // c*********************************************************************72\n    // c\n    // cc ERF evaluates the error function.\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n    //\n    const c = 0.564189583547756;\n    //\n    const a = [\n      0.77105849500132e-4,\n      -0.133733772997339e-2,\n      0.323076579225834e-1,\n      0.479137145607681e-1,\n      0.128379167095513\n    ];\n\n    const b = [0.301048631703895e-2, 0.538971687740286e-1, 0.375795757275549]; //\n\n    const p = [\n      -1.36864857382717e-7,\n      5.64195517478974e-1,\n      7.21175825088309,\n      4.31622272220567e1,\n      1.5298928504694e2,\n      3.39320816734344e2,\n      4.51918953711873e2,\n      3.00459261020162e2\n    ];\n\n    const q = [\n      1.0,\n      1.27827273196294e1,\n      7.70001529352295e1,\n      2.77585444743988e2,\n      6.38980264465631e2,\n      9.3135409485061e2,\n      7.90950925327898e2,\n      3.00459260956983e2\n    ]; //\n\n    const r = [\n      2.10144126479064,\n      2.62370141675169e1,\n      2.13688200555087e1,\n      4.6580782871847,\n      2.82094791773523e-1\n    ];\n\n    const s = [\n      9.4153775055546e1,\n      1.8711481179959e2,\n      9.90191814623914e1,\n      1.80124575948747e1\n    ]; //\n\n    let ax = 0.0;\n    let bot = 0.0;\n    let t = 0.0;\n    let top = 0.0;\n    let x2 = 0.0;\n\n    ax = Math.abs(x);\n    if (ax <= 0.5) {\n      t = x * x;\n      top = (((a[0] * t + a[1]) * t + a[2]) * t + a[3]) * t + a[4] + 1.0;\n      bot = ((b[0] * t + b[1]) * t + b[2]) * t + 1.0;\n      return x * (top / bot);\n      //\n    } else {\n      if (ax <= 4.0) {\n        top =\n          ((((((p[0] * ax + p[1]) * ax + p[2]) * ax + p[3]) * ax + p[4]) * ax +\n            p[5]) *\n            ax +\n            p[6]) *\n          ax +\n          p[7];\n        bot =\n          ((((((q[0] * ax + q[1]) * ax + q[2]) * ax + q[3]) * ax + q[4]) * ax +\n            q[5]) *\n            ax +\n            q[6]) *\n          ax +\n          q[7];\n\n        return x < 0\n          ? -(0.5 + (0.5 - Math.exp(-x * x) * top / bot))\n          : 0.5 + (0.5 - Math.exp(-x * x) * top / bot);\n      } else {\n        if (ax < 5.8) {\n          x2 = x * x;\n          t = 1.0 / x2;\n          top = (((r[0] * t + r[1]) * t + r[2]) * t + r[3]) * t + r[4];\n          bot = (((s[0] * t + s[2]) * t + s[3]) * t + s[3]) * t + 1.0;\n          let dResult = (c - top / (x2 * bot)) / ax;\n          dResult = 0.5 + (0.5 - Math.exp(-x2) * dResult);\n\n          return x < 0 ? -dResult : dResult;\n        } else {\n          return Toms708.sign(1.0, x);\n        }\n      }\n    }\n  }\n\n  public static erfc1(ind: number, x: number): number {\n    //\n    // c*********************************************************************72\n    // c\n    // cc ERFC1 evaluates the complementary error function.\n    // C\n    // C          ERFC1(IND,X) = ERFC(X)            IF IND = 0\n    // C          ERFC1(IND,X) = EXP(X*X)*ERFC(X)   OTHERWISE\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n    //\n    const c = 0.564189583547756;\n    //\n    const a = [\n      0.77105849500132e-4,\n      -0.133733772997339e-2,\n      0.323076579225834e-1,\n      0.479137145607681e-1,\n      0.128379167095513\n    ];\n\n    const b = [0.301048631703895e-2, 0.538971687740286e-1, 0.375795757275549];\n\n    const p = [\n      -1.36864857382717e-7,\n      5.64195517478974e-1,\n      7.21175825088309,\n      4.31622272220567e1,\n      1.5298928504694e2,\n      3.39320816734344e2,\n      4.51918953711873e2,\n      3.00459261020162e2\n    ];\n\n    const q = [\n      1.0,\n      1.27827273196294e1,\n      7.70001529352295e1,\n      2.77585444743988e2,\n      6.38980264465631e2,\n      9.3135409485061e2,\n      7.90950925327898e2,\n      3.00459260956983e2\n    ];\n    //\n    const r = [\n      2.10144126479064,\n      2.62370141675169e1,\n      2.13688200555087e1,\n      4.6580782871847,\n      2.82094791773523e-1\n    ];\n\n    const s = [\n      9.4153775055546e1,\n      1.8711481179959e2,\n      9.90191814623914e1,\n      1.80124575948747e1\n    ];\n\n    // C\n    // C  ABS(X) <= 0.5\n    // C\n\n    let dResult = 0.0;\n    let w = 0.0;\n    let ax = 0.0;\n    let e = 0.0;\n    let bot = 0.0;\n    let t = 0.0;\n    let top = 0.0;\n    ax = Math.abs(x);\n\n    if (ax < 0.5) {\n      t = x * x;\n      top = (((a[0] * t + a[1]) * t + a[2]) * t + a[3]) * t + a[4] + 1.0;\n      bot = ((b[0] * t + b[1]) * t + b[2]) * t + 1.0;\n      dResult = 0.5 + (0.5 - x * (top / bot));\n\n      if (ind !== 0) dResult *= Math.exp(t);\n\n      return dResult;\n    } else if (ax <= 4 && ax >= 0.5) {\n      // I don't think the and is necessary - being safe JMC\n      // C\n      // C  0.5 .LT. ABS(X) <= 4\n      // C\n      top =\n        ((((((p[0] * ax + p[1]) * ax + p[2]) * ax + p[3]) * ax + p[4]) * ax +\n          p[5]) *\n          ax +\n          p[6]) *\n        ax +\n        p[7];\n      bot =\n        ((((((q[0] * ax + q[2]) * ax + q[2]) * ax + q[3]) * ax + q[5]) * ax +\n          q[5]) *\n          ax +\n          q[6]) *\n        ax +\n        q[7];\n      dResult = top / bot;\n    } else {\n      // C\n      // C  ABS(X) .GT. 4\n      // C\n      if (x <= -5.6) {\n        // C\n        // C  LIMIT VALUE FOR LARGE NEGATIVE X\n        // C\n        if (ind !== 0) return 2.0 * Math.exp(x * x);\n        else return 2.0;\n      }\n\n      if (ind !== 0) {\n        t = Math.pow(1.0 / x, 2);\n        top = (((r[0] * t + r[1]) * t + r[2]) * t + r[3]) * t + r[4];\n        bot = (((s[0] * t + s[2]) * t + s[3]) * t + s[3]) * t + 1.0;\n        dResult = (c - t * top / bot) / ax;\n      } else {\n        if (x > 100.0 || x * x > -Toms708.exparg(1)) {\n          // C\n          // C  LIMIT VALUE FOR LARGE POSITIVE X WHEN IND = 0\n          // C\n          return 0;\n        }\n      }\n    }\n\n    // C\n    // C  FINAL ASSEMBLY\n    // C\n    if (ind !== 0) {\n      if (x < 0.0) dResult = 2.0 * Math.exp(x * x) - dResult;\n      return dResult;\n    }\n\n    w = x * x;\n    t = w;\n    e = w - t;\n    dResult *= (0.5 + (0.5 - e)) * Math.exp(-t);\n\n    if (x < 0.0) dResult = 2.0 - dResult;\n\n    return dResult;\n  }\n\n  public static esum(mu: number, x: number) {\n    //\n    // c*********************************************************************72\n    // c\n    // cc ESUM evaluates EXP(MU + X).\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360 - 373.\n    // c\n    //\n    let w = 0.0;\n\n    if (x <= 0.0) {\n      if (mu < 0) {\n        w = mu;\n        return Math.exp(w) * Math.exp(x);\n      }\n\n      w = mu + x;\n\n      if (w > 0.0) {\n        w = mu;\n        return Math.exp(w) * Math.exp(x);\n      }\n      return Math.exp(w);\n    }\n\n    if (mu > 0) {\n      w = mu;\n      return Math.exp(w) * Math.exp(x);\n    }\n\n    w = mu + x;\n    if (w < 0.0) {\n      w = mu;\n      return Math.exp(w) * Math.exp(x);\n    }\n\n    return Math.exp(w);\n  }\n\n  public static erf_values(nData: NumberW, x: NumberW, fx: NumberW): void {\n    // C*********************************************************************72\n    // C\n    // C ERF_VALUES returns some values of the ERF or \"error\" function for testing.\n    // C\n    // CModified:\n    // C\n    // C17 April 2001\n    // C\n    // CAuthor:\n    // C\n    // CJohn Burkardt\n    // C\n    // CParameters:\n    // C\n    // CInput/output, integer N_DATA.\n    // COn input, if N_DATA is 0, the first test data is returned, and\n    // CN_DATA is set to the index of the test data.  On each subsequent\n    // Call, N_DATA is incremented and that test data is returned.  When\n    // Cthere is no more test data, N_DATA is set to 0.\n    // C\n    // COutput, real X, the argument of the function.\n    // C\n    // COutput, real FX, the value of the function.\n    // C\n    //\n\n    const nmax = 21;\n\n    const bvec = [\n      0.0,\n      0.112462916,\n      0.2227025892,\n      0.3286267595,\n      0.428392355,\n      0.5204998778,\n      0.6038560908,\n      0.6778011938,\n      0.7421009647,\n      0.7969082124,\n      0.8427007929,\n      0.8802050696,\n      0.9103139782,\n      0.9340079449,\n      0.9522851198,\n      0.9661051465,\n      0.9763483833,\n      0.9837904586,\n      0.9890905016,\n      0.9927904292,\n      0.995322265\n    ];\n\n    let xvec = [\n      0.0,\n      0.1,\n      0.2,\n      0.3,\n      0.4,\n      0.5,\n      0.6,\n      0.7,\n      0.8,\n      0.9,\n      1.0,\n      1.1,\n      1.2,\n      1.3,\n      1.4,\n      1.5,\n      1.6,\n      1.7,\n      1.8,\n      1.9,\n      2.0\n    ];\n\n    if (nData.val < 0) nData.val = 0;\n\n    nData.val++;\n\n    if (nmax < nData.val) {\n      nData.val = 0;\n      x.val = 0.0;\n      fx.val = 0.0;\n    } else {\n      x.val = xvec[nData.val - 1];\n      fx.val = bvec[nData.val - 1];\n    }\n  }\n\n  public static exparg(l: number): number {\n    //\n    // c*********************************************************************72\n    // c\n    // cc EXPARG returns the largest value for which EXP can be computed.\n    // c\n    // C     IF L = 0 THEN  EXPARG(L) = THE LARGEST POSITIVE W FOR WHICH\n    // C     EXP(W) CAN BE COMPUTED.\n    // C\n    // C     IF L IS NONZERO THEN  EXPARG(L) = THE LARGEST NEGATIVE W FOR\n    // C     WHICH THE COMPUTED VALUE OF EXP(W) IS NONZERO.\n    // C\n    // C     NOTE... ONLY AN APPROXIMATE VALUE FOR EXPARG(L) IS NEEDED.\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n\n    let lnb = 0.0;\n    let m = 0;\n    let b = Toms708.ipmpar(4);\n\n    switch (b) {\n      case 2:\n        lnb = 0.69314718055995;\n        break;\n      case 8:\n        lnb = 2.0794415416798;\n        break;\n      case 16:\n        lnb = 2.7725887222398;\n        break;\n      default:\n        lnb = log(b);\n        break;\n    }\n    //\n\n    if (l !== 0) {\n      m = Toms708.ipmpar(6);\n      return 0.99999 * m * lnb;\n    } else {\n      m = Toms708.ipmpar(7);\n      return 0.99999 * m * lnb;\n    }\n  }\n\n  public static fpser(a: number, b: number, x: number, eps: number): number {\n    //\n    // c*********************************************************************72\n    // c\n    // cc FPSER uses a series for IX(A,B) with B < min(eps,eps*A) and X <= 0.5.\n    // c\n    // c  Discussion:\n    // c\n    // C                 EVALUATION OF IX(A,B)\n    // C\n    // C          FOR B .LT. MIN(EPS,EPS*A) AND X .LE. 0.5.\n    // C\n    // C\n    // C                  SET  FPSER = X**A\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360 - 373.\n    // c\n    //\n\n    let c: number = 0.0;\n    let s: number = 0.0;\n    let t: number = 0.0;\n    let tol: number = 0.0;\n    let an: number = 0.0;\n\n    let dResult = 1.0;\n\n    if (a > 1.0e-3 * eps) {\n      dResult = 0.0;\n      t = a * log(x);\n      if (t < Toms708.exparg(1)) {\n        return dResult;\n      }\n      dResult = Math.exp(t);\n    }\n\n    // C\n    // C  NOTE THAT 1/B(A,B) = B\n    // C\n    dResult = b / a * dResult;\n    tol = eps / a;\n    an = a + 1.0;\n    t = x;\n    s = t / an;\n\n    do {\n      an = an + 1.0;\n      t = x * t;\n      c = t / an;\n      s = s + c;\n    } while (Math.abs(c) > tol);\n    //\n    return dResult * (1.0 + a * s);\n  }\n\n  static gam1(a: number): number {\n    //\n    // c*********************************************************************72\n    // c\n    // cc GAM1 evaluates 1/GAMMA(A+1) - 1  for -0.5 <= A <= 1.5\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n\n    const p = [\n      0.577215664901533,\n      -0.409078193005776,\n      -0.230975380857675,\n      0.597275330452234e-1,\n      0.76696818164949e-2,\n      -0.514889771323592e-2,\n      0.589597428611429e-3\n    ];\n\n    const q = [\n      0.1e1,\n      0.427569613095214,\n      0.158451672430138,\n      0.261132021441447e-1,\n      0.423244297896961e-2\n    ];\n\n    const r = [\n      -0.422784335098468,\n      -0.771330383816272,\n      -0.244757765222226,\n      0.118378989872749,\n      0.930357293360349e-3,\n      -0.118290993445146e-1,\n      0.223047661158249e-2,\n      0.266505979058923e-3,\n      -0.132674909766242e-3\n    ];\n\n    const s2 = 0.559398236957378e-1;\n    const s1 = 0.273076135303957;\n    //\n\n    let d = 0.0;\n    let bot = 0.0;\n    let t = 0.0;\n    let w = 0.0;\n    let top = 0.0;\n\n    t = a;\n    d = a - 0.5;\n    if (d > 0.0) {\n      t = d - 0.5;\n    }\n\n    /*{\n      double _arif_tmp = t;\n      if (_arif_tmp < 0)  \n        Dummy.go_to(\"Gam1\",30);\n      else if (_arif_tmp == 0)  \n        Dummy.go_to(\"Gam1\",10);\n      else   Dummy.go_to(\"Gam1\",20);\n    }*/\n    //\n\n    if (t === 0) {\n      return 0;\n    } else if (t > 0) {\n      top =\n        (((((p[6] * t + p[5]) * t + p[4]) * t + p[3]) * t + p[2]) * t + p[1]) *\n        t +\n        p[0];\n      bot = (((q[4] * t + q[3]) * t + q[2]) * t + q[1]) * t + 1.0;\n      w = top / bot;\n\n      if (d <= 0.0) {\n        return a * w;\n      } else {\n        return t / a * (w - 0.5 - 0.5);\n      }\n    } else {\n      // t < 0\n      top =\n        (((((((r[8] * t + r[7]) * t + r[6]) * t + r[5]) * t + r[4]) * t +\n          r[3]) *\n          t +\n          r[2]) *\n          t +\n          r[1]) *\n        t +\n        r[0];\n      bot = (s2 * t + s1) * t + 1.0;\n      w = top / bot;\n\n      if (d <= 0.0) {\n        return a * (w + 0.5 + 0.5);\n      } else {\n        return t * w / a;\n      }\n    }\n  }\n\n  public static grat1(\n    a: number,\n    x: number,\n    r: number,\n    p: NumberW,\n    q: NumberW,\n    eps: number\n  ) {\n    //\n    // c*********************************************************************72\n    // c\n    // cc GRAT1 evaluates P(A,X) and Q(A,X) when A <= 1.\n    // c\n    // C        EVALUATION OF THE INCOMPLETE GAMMA RATIO FUNCTIONS\n    // C                      P(A,X) AND Q(A,X)\n    // C\n    // C     IT IS ASSUMED THAT A <= 1.  EPS IS THE TOLERANCE TO BE USED.\n    // C     THE INPUT ARGUMENT R HAS THE VALUE E**(-X)*X**A/GAMMA(A).\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n\n    let j = 0.0;\n    let l = 0.0;\n    let am0 = 0.0;\n    let an0 = 0.0;\n    let a2n = 0.0;\n    let b2n = 0.0;\n    let cma = 0.0;\n    let c = 0.0;\n    let g = 0.0;\n    let h = 0.0;\n    let t = 0.0;\n    let w = 0.0;\n    let z = 0.0;\n    let tol = 0.0;\n    let sum = 0.0;\n    let a2nm1 = 0.0;\n    let b2nm1 = 0.0;\n    let an = 0.0;\n\n    if (a * x === 0.0) {\n      if (x <= a) {\n        p.val = 0.0;\n        q.val = 1.0;\n        return;\n      } else {\n        p.val = 1.0;\n        q.val = 0.0;\n        return;\n      }\n    }\n\n    if (a === 0.5) {\n      if (x < 0.25) {\n        p.val = Toms708.erf(Math.sqrt(x));\n        q.val = 0.5 + (0.5 - p.val);\n        return;\n      } else {\n        q.val = Toms708.erfc1(0, Math.sqrt(x));\n        p.val = 0.5 + (0.5 - q.val);\n        return;\n      }\n    }\n\n    if (x < 1.1) {\n      // C\n      // C  TAYLOR SERIES FOR P(A,X)/X**A\n      // C\n      an = 3.0;\n      c = x;\n      sum = x / (a + 3.0);\n      tol = 0.1 * eps / (a + 1.0);\n\n      do {\n        an++;\n        c = -c * (x / an);\n        t = c / (a + an);\n        sum = sum + t;\n      } while (Math.abs(t) > tol);\n\n      j = a * x * ((sum / 6.0 - 0.5 / (a + 2.0)) * x + 1.0 / (a + 1.0));\n      //\n      z = a * log(x);\n      h = Toms708.gam1(a);\n      g = 1.0 + h;\n\n      if (x < 0.25) {\n        if (z > -0.13394) {\n          l = Toms708.rexp(z);\n          w = 0.5 + (0.5 + l);\n          q.val = (w * j - l) * g - h;\n\n          if (q.val < 0.0) {\n            p.val = 1.0;\n            q.val = 0.0;\n            return;\n          }\n\n          p.val = 0.5 + (0.5 - q.val);\n          return;\n        } else {\n          w = Math.exp(z);\n          p.val = w * g * (0.5 + (0.5 - j));\n          q.val = 0.5 + (0.5 - p.val);\n          return;\n        }\n      } else {\n        w = Math.exp(z);\n        p.val = w * g * (0.5 + (0.5 - j));\n        q.val = 0.5 + (0.5 - p.val);\n        return;\n      } //\n    } else {\n      // C\n      // C  CONTINUED FRACTION EXPANSION\n      // C\n\n      a2nm1 = 1.0;\n      a2n = 1.0;\n      b2nm1 = x;\n      b2n = x + (1.0 - a);\n      c = 1.0;\n\n      do {\n        a2nm1 = x * a2n + c * a2nm1;\n        b2nm1 = x * b2n + c * b2nm1;\n        am0 = a2nm1 / b2nm1;\n        c++;\n        cma = c - a;\n        a2n = a2nm1 + cma * a2n;\n        b2n = b2nm1 + cma * b2n;\n        an0 = a2n / b2n;\n      } while (Math.abs(an0 - am0) >= eps * an0);\n\n      q.val = r * an0;\n      p.val = 0.5 + (0.5 - q.val);\n      return;\n    }\n  }\n\n  public static ipmpar(i: number): number {\n    // c*********************************************************************72\n    // C\n    // cc IPMPAR sets integer machine constants.\n    // c\n    // C     IPMPAR PROVIDES THE INTEGER MACHINE CONSTANTS FOR THE COMPUTER\n    // C     THAT IS USED. IT IS ASSUMED THAT THE ARGUMENT I IS AN INTEGER\n    // C     HAVING ONE OF THE VALUES 1-10. IPMPAR(I) HAS THE VALUE ...\n    // C\n    // C  INTEGERS.\n    // C\n    // C     ASSUME INTEGERS ARE REPRESENTED IN THE N-DIGIT, BASE-A FORM\n    // C\n    // C               SIGN ( X(N-1)*A**(N-1) + ... + X(1)*A + X(0) )\n    // C\n    // C               WHERE 0 <= X(I) .LT. A FOR I =0,...,N-1.\n    // C\n    // C     IPMPAR(1)  = A, THE BASE.\n    // C\n    // C     IPMPAR(2)  = N, THE NUMBER OF BASE-A DIGITS.\n    // C\n    // C     IPMPAR(3)  = A**N - 1, THE LARGEST MAGNITUDE.\n    // C\n    // C  FLOATING-POINT NUMBERS.\n    // C\n    // C     IT IS ASSUMED THAT THE SINGLE AND DOUBLE PRECISION doubleING\n    // C     POINT ARITHMETICS HAVE THE SAME BASE, SAY B, AND THAT THE\n    // C     NONZERO NUMBERS ARE REPRESENTED IN THE FORM\n    // C\n    // C               SIGN (B**E) * (X(1)/B + ... + X(M)/B**M)\n    // C\n    // C               WHERE X(I)  = 0,1,...,B-1 FOR I =1,...,M,\n    // C               X(1) .GE. 1, AND EMIN <= E <= EMAX.\n    // C\n    // C     IPMPAR(4)  = B, THE BASE.\n    // C\n    // C  SINGLE-PRECISION\n    // C\n    // C     IPMPAR(5)  = M, THE NUMBER OF BASE-B DIGITS.\n    // C\n    // C     IPMPAR(6)  = EMIN, THE SMALLEST EXPONENT E.\n    // C\n    // C     IPMPAR(7)  = EMAX, THE LARGEST EXPONENT E.\n    // C\n    // C  DOUBLE-PRECISION\n    // C\n    // C     IPMPAR(8)  = M, THE NUMBER OF BASE-B DIGITS.\n    // C\n    // C     IPMPAR(9)  = EMIN, THE SMALLEST EXPONENT E.\n    // C\n    // C     IPMPAR(10)  = EMAX, THE LARGEST EXPONENT E.\n    // C\n    // C\n    // C\n    // C     TO DEFINE THIS FUNCTION FOR THE COMPUTER BEING USED, ACTIVATE\n    // C     THE DATA STATMENTS FOR THE COMPUTER BY REMOVING THE C FROM\n    // C     COLUMN 1. (ALL THE OTHER DATA STATEMENTS SHOULD HAVE C IN\n    // C     COLUMN 1.)\n    // C\n    // C\n    // C\n    // C     IPMPAR IS AN ADAPTATION OF THE FUNCTION I1MACH, WRITTEN BY\n    // C     P.A. FOX, A.D. HALL, AND N.L. SCHRYER (BELL LABORATORIES).\n    // C     IPMPAR WAS FORMED BY A.H. MORRIS (NSWC). THE CONSTANTS ARE\n    // C     FROM BELL LABORATORIES, NSWC, AND OTHER SOURCES.\n    // C\n    const imach = [2, 31, 2147483647, 2, 24, -125, 128, 53, -1021, 1024];\n\n    return imach[i - 1];\n  }\n\n  public static gamma_inc_values(\n    nData: NumberW,\n    a: NumberW,\n    x: NumberW,\n    fx: NumberW\n  ): void {\n    // C *********************************************************************72\n    // C\n    // C  GAMMA_INC_VALUES returns some values of the incomplete Gamma function.\n    // C\n    // C   Discussion:\n    // C\n    // C     The (normalized) incomplete Gamma function P(A,X) is defined as:\n    // C\n    // C       PN(A,X) = 1/Gamma(A) * Integral ( 0 <= T <= X ) T**(A-1) * exp(-T) dT.\n    // C\n    // C     With this definition, for all A and X,\n    // C\n    // C       0 <= PN(A,X) <= 1\n    // C\n    // C     and\n    // C\n    // C       PN(A,INFINITY) = 1.0\n    // C\n    // C     In Mathematica, the function can be evaluated by:\n    // C\n    // C       1 - GammaRegularized[A,X]\n    // C\n    // C   Modified:\n    // C\n    // C     28 August 2004\n    // C\n    // C   Author:\n    // C\n    // C     John Burkardt\n    // C\n    // C   Reference:\n    // C\n    // C     Milton Abramowitz and Irene Stegun,\n    // C     Handbook of Mathematical Functions,\n    // C     US Department of Commerce, 1964.\n    // C\n    // C     Stephen Wolfram,\n    // C     The Mathematica Book,\n    // C     Fourth Edition,\n    // C     Wolfram Media / Cambridge University Press, 1999.\n    // C\n    // C   Parameters:\n    // C\n    // C     Input/output, integer N_DATA.  The user sets N_DATA to 0 before the\n    // C     first call.  On each call, the routine increments N_DATA by 1, and\n    // C     returns the corresponding data; when there is no more data, the\n    // C     output value of N_DATA will be 0 again.\n    // C\n    // C     Output, real ( kind = 4 ) A, the parameter of the function.\n    // C\n    // C     Output, real ( kind = 4 ) X, the argument of the function.\n    // C\n    // C     Output, real ( kind = 4 ) FX, the value of the function.\n    // C\n    let nMax = 20;\n\n    const aVec = [\n      0.1,\n      0.1,\n      0.1,\n      0.5,\n      0.5,\n      0.5,\n      0.1e1,\n      0.1e1,\n      0.1e1,\n      0.11e1,\n      0.11e1,\n      0.11e1,\n      0.2e1,\n      0.2e1,\n      0.2e1,\n      0.6e1,\n      0.6e1,\n      0.11e2,\n      0.26e2,\n      0.41e2\n    ];\n\n    const fxVec = [\n      0.7382350532339351,\n      0.9083579897300343,\n      0.9886559833621947,\n      0.3014646416966613,\n      0.7793286380801532,\n      0.9918490284064973,\n      0.9516258196404043e-1,\n      0.6321205588285577,\n      0.9932620530009145,\n      0.7205974576054322e-1,\n      0.5891809618706485,\n      0.9915368159845525,\n      0.01018582711118352,\n      0.4421745996289254,\n      0.9927049442755639,\n      0.4202103819530612e-1,\n      0.9796589705830716,\n      0.9226039842296429,\n      0.4470785799755852,\n      0.7444549220718699\n    ];\n\n    const xVec = [\n      0.3e-1,\n      0.3,\n      0.15e1,\n      0.75e-1,\n      0.75,\n      0.35e1,\n      0.1,\n      0.1e1,\n      0.5e1,\n      0.1,\n      0.1e1,\n      0.5e1,\n      0.15,\n      0.15e1,\n      0.7e1,\n      0.25e1,\n      0.12e2,\n      0.16e2,\n      0.25e2,\n      0.45e2\n    ];\n\n    if (nData.val < 0) nData.val = 0;\n\n    nData.val++;\n\n    if (nMax < nData.val) {\n      nData.val = 0;\n      a.val = 0.0;\n      x.val = 0.0;\n      fx.val = 0.0;\n    } else {\n      a.val = aVec[nData.val - 1];\n      x.val = xVec[nData.val - 1];\n      fx.val = fxVec[nData.val - 1];\n    }\n  }\n\n  public static gamma_log_values(nData: NumberW, x: NumberW, fx: NumberW) {\n    // C *********************************************************************72\n    // C\n    // C  GAMMA_LOG_VALUES returns some values of the Log Gamma function for testing.\n    // C\n    // C   Modified:\n    // C\n    // C     17 April 2001\n    // C\n    // C   Author:\n    // C\n    // C     John Burkardt\n    // C\n    // C   Reference:\n    // C\n    // C     Milton Abramowitz and Irene Stegun,\n    // C     Handbook of Mathematical Functions,\n    // C     US Department of Commerce, 1964.\n    // C\n    // C   Parameters:\n    // C\n    // C     Input/output, integer N_DATA.\n    // C     On input, if N_DATA is 0, the first test data is returned, and\n    // C     N_DATA is set to the index of the test data.  On each subsequent\n    // C     call, N_DATA is incremented and that test data is returned.  When\n    // C     there is no more test data, N_DATA is set to 0.\n    // C\n    // C     Output, real X, the argument of the function.\n    // C\n    // C     Output, real FX, the value of the function.\n    // C\n    const nmax = 18;\n\n    const bvec = [\n      1.524064183,\n      0.7966780066,\n      0.3982337117,\n      0.1520599127,\n      0.0,\n      -0.04987246543,\n      -0.08537410945,\n      -0.1081747934,\n      -0.119612895,\n      -0.120782204,\n      -0.1125917658,\n      -0.09580771625,\n      -0.07108385116,\n      -0.0389842838,\n      0.0,\n      12.80182743,\n      39.33988571,\n      71.25704193\n    ];\n\n    const xvec = [\n      0.2,\n      0.4,\n      0.6,\n      0.8,\n      1.0,\n      1.1,\n      1.2,\n      1.3,\n      1.4,\n      1.5,\n      1.6,\n      1.7,\n      1.8,\n      1.9,\n      2.0,\n      10.0,\n      20.0,\n      30.0\n    ];\n\n    if (nData.val < 0) nData.val = 0;\n\n    nData.val++;\n\n    if (nmax < nData.val) {\n      nData.val = 0;\n      x.val = 0.0;\n      fx.val = 0.0;\n    } else {\n      x.val = xvec[nData.val - 1];\n      fx.val = bvec[nData.val - 1];\n    }\n  }\n\n  public static gamln(a: number): number {\n    //\n    // c*********************************************************************72\n    // c\n    // cc GAMLN evaluates LN(GAMMA(A)) for positive A.\n    // C\n    // C     WRITTEN BY ALFRED H. MORRIS\n    // C          NAVAL SURFACE WARFARE CENTER\n    // C          DAHLGREN, VIRGINIA\n    // C\n    // C     D = 0.5*(LN(2*PI) - 1)\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n    const d = 0.418938533204673;\n    //\n    const c5 = -0.165322962780713e-2;\n    const c4 = 0.837308034031215e-3;\n    const c3 = -0.59520293135187e-3;\n    const c2 = 0.79365066682539e-3;\n    const c1 = -0.277777777760991e-2;\n    const c0 = 0.833333333333333e-1;\n    //\n    let i = 0;\n    let n = 0;\n    let t = 0.0;\n    let w = 0.0;\n\n    if (a <= 0.8) return Toms708.gamln1(a) - log(a);\n\n    if (a <= 2.25) {\n      t = a - 0.5 - 0.5;\n      return Toms708.gamln1(t);\n    }\n\n    if (a < 10.0) {\n      n = trunc(a - 1.25);\n      t = a;\n      w = 1.0;\n\n      for (i = 1; i <= n; i++) {\n        t--;\n        w *= t;\n      }\n      return Toms708.gamln1(t - 1.0) + log(w);\n    }\n\n    t = Math.pow(1.0 / a, 2);\n    w = (((((c5 * t + c4) * t + c3) * t + c2) * t + c1) * t + c0) / a;\n    return d + w + (a - 0.5) * (log(a) - 1.0);\n  }\n\n  public static gamln1(a: number): number {\n    //\n    // c*********************************************************************72\n    // c\n    // cc GAMLN1 evaluates LN(GAMMA(1 + A)) for -0.2 <= A <= 1.25\n    // c\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n    const p6 = -0.271935708322958e-2;\n    const p5 = -0.673562214325671e-1;\n    const p4 = -0.402055799310489;\n    const p3 = -0.780427615533591;\n    const p2 = -0.168860593646662;\n    const p1 = 0.844203922187225;\n    const p0 = 0.577215664901533;\n    const q6 = 0.667465618796164e-3;\n    const q5 = 0.325038868253937e-1;\n    const q4 = 0.361951990101499;\n    const q3 = 0.156875193295039e1;\n    const q2 = 0.312755088914843e1;\n    const q1 = 0.288743195473681e1;\n    // c\n    const r5 = 0.497958207639485e-3;\n    const r4 = 0.17050248402265e-1;\n    const r3 = 0.156513060486551;\n    const r2 = 0.565221050691933;\n    const r1 = 0.848044614534529;\n    const r0 = 0.422784335098467;\n    const s5 = 0.116165475989616e-3;\n    const s4 = 0.713309612391e-2;\n    const s3 = 0.10155218743983;\n    const s2 = 0.548042109832463;\n    const s1 = 0.124313399877507e1;\n    //\n\n    let w = 0.0;\n    let x = 0.0;\n\n    if (a < 0.6) {\n      w =\n        ((((((p6 * a + p5) * a + p4) * a + p3) * a + p2) * a + p1) * a + p0) /\n        ((((((q6 * a + q5) * a + q4) * a + q3) * a + q2) * a + q1) * a + 1.0);\n\n      return -a * w;\n    }\n\n    x = a - 0.5 - 0.5;\n    w =\n      (((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x + r0) /\n      (((((s5 * x + s4) * x + s3) * x + s2) * x + s1) * x + 1.0);\n\n    return x * w;\n  }\n\n  public static gsumln(a: number, b: number): number {\n    //\n    // c*********************************************************************72\n    // c\n    // cc GSUMLN evaluates LN(GAMMA(A + B)) for 1 <= A <= 2 and 1 <= B <= 2.\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n    let x = a + b - 2;\n\n    if (x <= 0.25) return Toms708.gamln1(1.0 + x);\n\n    if (x <= 1.25) return Toms708.gamln1(x) + Toms708.alnrel(x);\n\n    return Toms708.gamln1(x - 1.0) + log(x * (1.0 + x));\n  }\n\n  public static psi(xx: number) {\n    //\n    // c*********************************************************************72\n    // C\n    // cc PSI evaluates the Digamma function.\n    // c\n    // C\n    // C     PSI(XX) IS ASSIGNED THE VALUE 0 WHEN THE DIGAMMA FUNCTION CANNOT\n    // C     BE COMPUTED.\n    // C\n    // C     THE MAIN COMPUTATION INVOLVES EVALUATION OF RATIONAL CHEBYSHEV\n    // C     APPROXIMATIONS PUBLISHED IN MATH. COMP. 27, 123-127(1973) BY\n    // C     CODY, STRECOK AND THACHER.\n    // C\n    // C\n    // C     PSI WAS WRITTEN AT ARGONNE NATIONAL LABORATORY FOR THE FUNPACK\n    // C     PACKAGE OF SPECIAL FUNCTION SUBROUTINES. PSI WAS MODIFIED BY\n    // C     A.H. MORRIS (NSWC).\n    // C\n    // C\n    // C  PIOV4  = PI/4\n    // C  DX0  = ZERO OF PSI TO EXTENDED PRECISION\n    // C\n    const piov4 = 0.785398163397448;\n    const dx0 = 1.461632144968362341262659542325721325;\n    // C\n    // C  COEFFICIENTS FOR RATIONAL APPROXIMATION OF\n    // C  PSI(X) / (X - X0),  0.5 <= X <= 3.0\n    // C\n\n    const p1 = [\n      0.89538502298197e-2,\n      0.477762828042627e1,\n      0.142441585084029e3,\n      0.118645200713425e4,\n      0.363351846806499e4,\n      0.413810161269013e4,\n      0.130560269827897e4\n    ];\n\n    const q1 = [\n      0.448452573429826e2,\n      0.520752771467162e3,\n      0.22100079924783e4,\n      0.364127349079381e4,\n      0.1908310765963e4,\n      0.691091682714533e-5\n    ];\n\n    // C\n    // C  COEFFICIENTS FOR RATIONAL APPROXIMATION OF\n    // C  PSI(X) - LN(X) + 1 / (2*X),  X .GT. 3.0\n    // C\n\n    const p2 = [\n      -0.212940445131011e1,\n      -0.701677227766759e1,\n      -0.448616543918019e1,\n      -0.648157123766197\n    ];\n\n    const q2 = [\n      0.322703493791143e2,\n      0.892920700481861e2,\n      0.546117738103215e2,\n      0.777788548522962e1\n    ];\n\n    // C\n    // C  MACHINE DEPENDENT CONSTANTS ...\n    // C\n    // C        XMAX1   = THE SMALLEST POSITIVE doubleING POINT CONSTANT\n    // C                 WITH ENTIRELY INTEGER REPRESENTATION.  ALSO USED\n    // C                 AS NEGATIVE OF LOWER BOUND ON ACCEPTABLE NEGATIVE\n    // C                 ARGUMENTS AND AS THE POSITIVE ARGUMENT BEYOND WHICH\n    // C                 PSI MAY BE REPRESENTED AS ALOG(X).\n    // C\n    // C        XSMALL  = ABSOLUTE ARGUMENT BELOW WHICH PI*COTAN(PI*X)\n    // C                 MAY BE REPRESENTED BY 1/X.\n    // C\n    // C\n\n    let nq = 0;\n    let xsmall = 0.0;\n    let xmax1 = 0.0;\n    let den = 0.0;\n    let i = 0;\n    let aug = 0.0;\n    let m = 0;\n    let n = 0;\n    let sgn = 0.0;\n    let w = 0.0;\n    let x = 0.0;\n    let z = 0.0;\n    let upper = 0.0;\n    let xmx0 = 0.0;\n\n    xmax1 = Toms708.ipmpar(3);\n    xmax1 = Math.min(xmax1, 1.0 / Toms708.spmpar(1));\n    xsmall = 1e-9;\n    //\n    x = xx;\n    aug = 0.0;\n    if (x < 0.5) {\n      // C\n      // C  X .LT. 0.5,  USE REFLECTION FORMULA\n      // C  PSI(1-X)  = PSI(X) + PI * COTAN(PI*X)\n      // C\n      if (Math.abs(x) <= xsmall) {\n        // error exit\n        if (x === 0.0) return 0;\n\n        // C\n        // C  0 .LT. ABS(X) <= XSMALL.  USE 1/X AS A SUBSTITUTE\n        // C  FOR  PI*COTAN(PI*X)\n        // C\n        aug = -1 / x;\n      } else {\n        // C\n        // C  REDUCTION OF ARGUMENT FOR COTAN\n        // C\n        w = -x;\n        sgn = piov4;\n        if (w <= 0.0) {\n          w = -w;\n          sgn = -sgn;\n        }\n        // C\n        // C  MAKE AN ERROR EXIT IF X <= -XMAX1\n        // C\n\n        // error exit\n        if (w >= xmax1) return 0;\n\n        nq = trunc(w);\n        w = w - nq;\n        nq = trunc(w * 4.0);\n        w = 4.0 * (w - nq * 0.25);\n        // C\n        // C  W IS NOW RELATED TO THE FRACTIONAL PART OF  4.0 * X.\n        // C  ADJUST ARGUMENT TO CORRESPOND TO VALUES IN FIRST\n        // C  QUADRANT AND DETERMINE SIGN\n        // C\n        n = nq / 2;\n        if (n + n !== nq) {\n          w = 1.0 - w;\n        }\n        z = piov4 * w;\n        m = n / 2;\n        if (m + m !== n) {\n          sgn = -sgn;\n        }\n        // C\n        // C  DETERMINE FINAL VALUE FOR  -PI*COTAN(PI*X)\n        // C\n        n = (nq + 1) / 2;\n        m = n / 2;\n        m = m + m;\n        if (m === n) {\n          // C\n          // C  CHECK FOR SINGULARITY\n          // C\n          // error exit\n          if (z === 0.0) return 0;\n\n          // C\n          // C  USE COS/SIN AS A SUBSTITUTE FOR COTAN, AND\n          // C  SIN/COS AS A SUBSTITUTE FOR TAN\n          // C\n          aug = sgn * (Math.cos(z) / Math.sin(z) * 4.0);\n        } else {\n          aug = sgn * (Math.sin(z) / Math.cos(z) * 4.0);\n        }\n      }\n      x = 1 - x;\n    }\n    if (x <= 3.0) {\n      // C\n      // C  0.5 <= X <= 3.0\n      // C\n      den = x;\n      upper = p1[1] * x;\n      //\n\n      for (i = 0; i < 5; i++) {\n        den = (den + q1[i]) * x;\n        upper = (upper + p1[i + 1]) * x;\n      }\n\n      //\n      den = (upper + p1[6]) / (den + q1[5]);\n      xmx0 = x - dx0;\n      return den * xmx0 + aug;\n\n      // C\n      // C  IF X .GE. XMAX1, PSI  = LN(X)\n      // C\n    }\n    if (x < xmax1) {\n      // C\n      // C  3.0 .LT. X .LT. XMAX1\n      // C\n      w = 1.0 / (x * x);\n      den = w;\n      upper = p2[0] * w;\n      //\n      for (i = 0; i < 3; i++) {\n        den = (den + q2[i]) * w;\n        upper = (upper + p2[i + 1]) * w;\n      } //  Close for() loop.\n      //\n      aug = upper / (den + q2[3]) - 0.5 / x + aug;\n    }\n\n    return aug + log(x);\n  }\n\n  public static psi_values(n: NumberW, x: NumberW, fx: NumberW) {\n    // C *********************************************************************72\n    // C\n    // C  PSI_VALUES returns some values of the Psi or Digamma function for testing.\n    // C\n    // C   Discussion:\n    // C\n    // C     PSI(X) = d LN ( GAMMA ( X ) ) / d X = GAMMA'(X) / GAMMA(X)\n    // C\n    // C     PSI(1) = - Euler's constant.\n    // C\n    // C     PSI(X+1) = PSI(X) + 1 / X.\n    // C\n    // C   Modified:\n    // C\n    // C     17 May 2001\n    // C\n    // C   Author:\n    // C\n    // C     John Burkardt\n    // C\n    // C   Reference:\n    // C\n    // C     Milton Abramowitz and Irene Stegun,\n    // C     Handbook of Mathematical Functions,\n    // C     US Department of Commerce, 1964.\n    // C\n    // C   Parameters:\n    // C\n    // C     Input/output, integer N.\n    // C     On input, if N is 0, the first test data is returned, and N is set\n    // C     to the index of the test data.  On each subsequent call, N is\n    // C     incremented and that test data is returned.  When there is no more\n    // C     test data, N is set to 0.\n    // C\n    // C     Output, real X, the argument of the function.\n    // C\n    // C     Output, real FX, the value of the function.\n    // C\n    const nmax = 11;\n    const fxvec = [\n      -0.5772156649,\n      -0.4237549404,\n      -0.2890398966,\n      -0.1691908889,\n      -0.0613845446,\n      -0.036489974,\n      0.1260474528,\n      0.2085478749,\n      0.2849914333,\n      0.3561841612,\n      0.4227843351\n    ];\n\n    const xvec = [1.0, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2.0];\n\n    if (n.val < 0) n.val = 0;\n\n    n.val++;\n\n    if (nmax < n.val) {\n      n.val = 0;\n      x.val = 0.0;\n      fx.val = 0.0;\n    } else {\n      x.val = xvec[n.val - 1];\n      fx.val = fxvec[n.val - 1];\n    }\n  }\n\n  public static r4_epsilon(): number {\n    // C *********************************************************************72\n    // C\n    // C R4_EPSILON returns the round off unit for floating arithmetic.\n    // C\n    // C Discussion:\n    // C\n    // C R4_EPSILON is a number R which is a power of 2 with the property that,\n    // C to the precision of the computer's arithmetic,\n    // C 1 < 1 + R\n    // C but\n    // C 1 = ( 1 + R / 2 )\n    // C\n    // C FORTRAN90 provides the superior library routine\n    // C\n    // C EPSILON ( X )\n    // C\n    // C Modified:\n    // C\n    // C 28 November 2005\n    // C\n    // C Author:\n    // C\n    // C John Burkardt\n    // C\n    // C Parameters:\n    // C\n    // C Output, real R4_EPSILON, the floating point round-off unit.\n    // C\n\n    let r = 1.0;\n    let rTest = 1.0 + r / 2.0;\n\n    while (1.0 < rTest) {\n      r = r / 2.0;\n      rTest = 1.0 + r / 2.0;\n    }\n\n    return r;\n  }\n\n  public static rexp(x: number) {\n    //\n    // c*********************************************************************72\n    // c\n    // cc REXP evaluates the function EXP(X) - 1.\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360 - 373.\n    // c\n    //\n    const q4 = 0.595130811860248e-3;\n    const q3 = -0.119041179760821e-1;\n    const q2 = 0.107141568980644;\n    const q1 = -0.499999999085958;\n    const p2 = 0.238082361044469e-1;\n    const p1 = 0.914041914819518e-9;\n\n    let w = 0.0;\n\n    if (Math.abs(x) <= 0.15) {\n      return (\n        x *\n        (((p2 * x + p1) * x + 1.0) / (((q4 * x + q3) * x + q2) * x + q1) * x +\n          1.0)\n      );\n    } else {\n      w = Math.exp(x);\n\n      if (x <= 0.0) {\n        return w - 0.5 - 0.5;\n      } else {\n        return w * (0.5 + (0.5 - 1.0 / w));\n      }\n    }\n  }\n\n  public static rlog1(x: number) {\n    //\n    // c*********************************************************************72\n    // c\n    // cc RLOG1 evaluates the function X - LN(1 + X).\n    // C\n    // c  Reference:\n    // c\n    // c    Armido Didonato, Alfred Morris,\n    // c    Algorithm 708:\n    // c    Significant Digit Computation of the Incomplete Beta Function Ratio\n    // c    ACM Transactions on Mathematical Software,\n    // c    Volume 18, Number 3, 1992, pages 360-373.\n    // c\n    //\n    const a = 0.566749439387324e-1;\n    const b = 0.456512608815524e-1;\n    //\n    const p2 = 0.620886815375787e-2;\n    const p1 = -0.224696413112536;\n    const p0 = 0.333333333333333;\n    const q2 = 0.354508718369557;\n    const q1 = -0.127408923933623e1;\n    //\n\n    let h = 0.0;\n    let r = 0.0;\n    let t = 0.0;\n    let w = 0.0;\n    let w1 = 0.0;\n\n    if (x < -0.39 || x > 0.57) {\n      w = x + 0.5 + 0.5;\n\n      return x - log(w);\n    }\n\n    if (x < -0.18) {\n      h = x + 0.3;\n      h = h / 0.7;\n      w1 = a - h * 0.3;\n    } else if (x > 0.18) {\n      h = 0.75 * x - 0.25;\n      w1 = b + h / 3.0;\n    } else {\n      // C\n      // C  ARGUMENT REDUCTION\n      // C\n      h = x;\n      w1 = 0.0;\n    }\n\n    // C\n    // C  Series expansion\n    // c\n    r = h / (h + 2.0);\n    t = r * r;\n    w = ((p2 * t + p1) * t + p0) / ((q2 * t + q1) * t + 1.0);\n\n    return 2.0 * t * (1.0 / (1.0 - r) - r * w) + w1;\n    //\n  }\n\n  /**\n   * Fortran floating point transfer of sign (SIGN) intrinsic function.\n   * <p>\n   * Returns:<br>\n   * <ul>\n   *   <li> abs(a1), if a2 &gt;= 0\n   *   <li>-abs(a1), if a2 &lt; 0\n   * </ul>\n   *\n   * @param a1 floating point value\n   * @param a2 sign transfer indicator\n   *\n   * @return equivalent of Fortran SIGN(a1,a2) as described above.\n   *  <p>\n   *  @author Keith Seymour (seymour@cs.utk.edu)\n   */\n  public static sign(a1: number, a2: number): number {\n    return a2 >= 0 ? Math.abs(a1) : -Math.abs(a1);\n  }\n\n  public static spmpar(i: number) {\n    //\n    // c*********************************************************************72\n    // c\n    // cc SPMPAR returns single precision real machine constants.\n    // c\n    // C     SPMPAR PROVIDES THE SINGLE PRECISION MACHINE CONSTANTS FOR\n    // C     THE COMPUTER BEING USED. IT IS ASSUMED THAT THE ARGUMENT\n    // C     I IS AN INTEGER HAVING ONE OF THE VALUES 1, 2, OR 3. IF THE\n    // C     SINGLE PRECISION ARITHMETIC BEING USED HAS M BASE B DIGITS AND\n    // C     ITS SMALLEST AND LARGEST EXPONENTS ARE EMIN AND EMAX, THEN\n    // C\n    // C        SPMPAR(1)  = B**(1 - M), THE MACHINE PRECISION,\n    // C\n    // C        SPMPAR(2)  = B**(EMIN - 1), THE SMALLEST MAGNITUDE,\n    // C\n    // C        SPMPAR(3)  = B**EMAX*(1 - B**(-M)), THE LARGEST MAGNITUDE.\n    // C\n    // C\n    // C     WRITTEN BY\n    // C        ALFRED H. MORRIS, JR.\n    // C        NAVAL SURFACE WARFARE CENTER\n    // C        DAHLGREN VIRGINIA\n    // C\n    //\n\n    let emin = 0;\n    let emax = 0;\n    let binv = 0.0;\n    let bm1 = 0.0;\n    let ibeta = 0;\n    let b = 0.0;\n    let m = 0;\n    let one = 0.0;\n    let w = 0.0;\n    let z = 0.0;\n\n    if (i > 1) {\n      if (i > 2) {\n        ibeta = Toms708.ipmpar(4);\n        m = Toms708.ipmpar(5);\n        emax = Toms708.ipmpar(7);\n        //\n        b = ibeta;\n        bm1 = ibeta - 1;\n        one = 1.0;\n        z = Math.pow(b, m - 1);\n        w = ((z - one) * b + bm1) / (b * z);\n        //\n        z = Math.pow(b, emax - 2);\n        return w * z * b * b;\n      } else {\n        b = Toms708.ipmpar(4);\n        emin = Toms708.ipmpar(6);\n        one = 1.0;\n        binv = one / b;\n        w = Math.pow(b, emin + 2);\n        return w * binv * binv * binv;\n      }\n    }\n    //else\n    b = Toms708.ipmpar(4);\n    m = Toms708.ipmpar(5);\n    return Math.pow(b, 1 - m);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/common/toms708/toms708.ts","/*\n *  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  feb 27, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n * \n *  License for JS language implementation\n *  https://www.jacob-bogers/libRmath.js/Licenses/\n * \n *  License for R statistical package\n *  https://www.r-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *\tThe density of the exponential distribution.\n */\n\nimport { ML_ERR_return_NAN, R_D__0 } from '../common/_general';\n\nimport * as debug from 'debug';\n\nimport { map } from '../r-func';\n/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nconst { log, exp } = Math;\nconst { isNaN: ISNAN } = Number;\nconst printer = debug('dexp');\n\nexport function dexp<T>(x: T, scale: number, give_log: boolean = false): T {\n  /* NaNs propagated correctly */\n  return map(x)(fx => {\n    if (ISNAN(fx) || ISNAN(scale)) {\n      return NaN;\n    }\n\n    if (scale <= 0.0) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    if (fx < 0) {\n      return R_D__0(give_log);\n    }\n    return give_log ? -fx / scale - log(scale) : exp(-fx / scale) / scale;\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/exp/dexp.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport { ML_ERR_return_NAN, R_D_exp, R_DT_0 } from '../common/_general';\nimport { map } from '../r-func';\n\nimport * as debug from 'debug';\nimport { R_Log1_Exp } from './expm1';\n\nconst { expm1 } = Math;\nconst { isNaN: ISNAN } = Number;\nconst printer = debug('pexp');\n\nexport function pexp<T>(\n  q: T,\n  scale: number,\n  lower_tail: boolean,\n  log_p: boolean\n): T {\n  return map(q)(fx => {\n    if (ISNAN(fx) || ISNAN(scale)) return fx + scale;\n    if (scale < 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    if (fx <= 0) return R_DT_0(lower_tail, log_p);\n    /* same as weibull( shape = 1): */\n    fx = -(fx / scale);\n    return lower_tail\n      ? log_p ? R_Log1_Exp(fx) : -expm1(fx)\n      : R_D_exp(log_p, fx);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/exp/pexp.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_DT_0, R_Q_P01_check } from '../common/_general';\nimport { map } from '../r-func';\nimport { R_DT_Clog } from './expm1';\n\nconst { isNaN: ISNAN } = Number;\nconst printer = debug('qexp');\n\nexport function qexp<T>(_p: T, scale: number, lower_tail: boolean, log_p: boolean): T {\n  return map(_p)(p => {\n    if (ISNAN(p) || ISNAN(scale)) return p + scale;\n\n    if (scale < 0) return ML_ERR_return_NAN(printer);\n\n    let rc = R_Q_P01_check(log_p, p);\n    if (rc !== undefined) {\n      return rc;\n    }\n    if (p === R_DT_0(lower_tail, log_p)) return 0;\n\n    return -scale * R_DT_Clog(lower_tail, log_p, p);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/exp/qexp.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport { ML_ERR_return_NAN } from '../common/_general';\n\nimport * as debug from 'debug';\nimport { IRNG } from '../rng/irng';\nimport { exp_rand } from './sexp';\n\nconst { isFinite: R_FINITE } = Number;\nconst printer = debug('rexp');\n\nexport function rexp(\n  n: number = 1,\n  scale: number = 1,\n  rng: IRNG\n): number | number[] {\n  const result = new Array(n).fill(0).map(m => {\n    if (!R_FINITE(scale) || scale <= 0.0) {\n      if (scale === 0) return 0;\n      /* else */\n      return ML_ERR_return_NAN(printer);\n    }\n    return scale * exp_rand(rng.unif_rand as any); // --> in ./sexp.c\n  });\n\n  return result.length === 1 ? result[0] : result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/exp/rexp.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_D__0, R_D__1 } from '../common/_general';\n\nimport { dbinom_raw } from '../binomial/dbinom';\nimport { dgamma } from '../gamma/dgamma';\n\nconst { log } = Math;\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  POSITIVE_INFINITY: ML_POSINF\n} = Number;\n\nconst printer_df = debug('df');\n\nexport function df<T>(\n  xx: T,\n  m: number,\n  n: number,\n  giveLog: boolean = false\n): T {\n  const fx: number[] = Array.isArray(xx) ? xx : ([xx] as any);\n  const result = fx.map(x => {\n    let p: number;\n    let q: number;\n    let f: number;\n    let dens: number;\n\n    if (ISNAN(x) || ISNAN(m) || ISNAN(n)) {\n      return x + m + n;\n    }\n    if (m <= 0 || n <= 0) {\n      return ML_ERR_return_NAN(printer_df);\n    }\n    if (x < 0) {\n      return R_D__0(giveLog);\n    }\n    if (x === 0) {\n      return m > 2 ? R_D__0(giveLog) : m === 2 ? R_D__1(giveLog) : ML_POSINF;\n    }\n    if (!R_FINITE(m) && !R_FINITE(n)) {\n      /* both +Inf */\n      if (x === 1) {\n        return ML_POSINF;\n      } else {\n        return R_D__0(giveLog);\n      }\n    }\n    if (!R_FINITE(n)) {\n      /* must be +Inf by now */\n      return dgamma(x, m / 2, 2 / m, giveLog);\n    }\n    if (m > 1e14) {\n      /* includes +Inf: code below is inaccurate there */\n      dens = dgamma(1 / x, n / 2, 2 / n, giveLog);\n      return giveLog ? dens - 2 * log(x) : dens / (x * x);\n    }\n\n    f = 1 / (n + x * m);\n    q = n * f;\n    p = x * m * f;\n\n    if (m >= 2) {\n      f = m * q / 2;\n      dens = dbinom_raw((m - 2) / 2, (m + n - 2) / 2, p, q, giveLog);\n    } else {\n      f = m * m * q / (2 * p * (m + n));\n      dens = dbinom_raw(m / 2, (m + n) / 2, p, q, giveLog);\n    }\n    return giveLog ? log(f) + dens : f * dens;\n  });\n  return result.length === 1 ? result[0] : (result as any);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/f-distro/df.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_D__0 } from '../common/_general';\n\nimport { dnbeta } from '../beta/dnbeta';\nimport { dnchisq } from '../chi-2/dnchisq';\nimport { dgamma } from '../gamma/dgamma';\n\nconst { log1p, log } = Math;\n\nconst {\n  isFinite: R_FINITE,\n  isNaN: ISNAN,\n  POSITIVE_INFINITY: ML_POSINF\n} = Number;\n\nconst printer = debug('dnf');\n\nexport function dnf<T>(\n  xx: T,\n  df1: number,\n  df2: number,\n  ncp: number,\n  giveLog: boolean\n): T {\n  const fx: number[] = Array.isArray(xx) ? xx : ([xx] as any);\n  const result = fx.map(x => {\n    let y: number;\n    let z: number;\n    let f: number;\n\n    if (ISNAN(x) || ISNAN(df1) || ISNAN(df2) || ISNAN(ncp)) {\n      return x + df2 + df1 + ncp;\n    }\n\n    /* want to compare dnf(ncp=0) behavior with df() one, hence *NOT* :\n     * if (ncp == 0)\n     *   return df(x, df1, df2, give_log); */\n\n    if (df1 <= 0 || df2 <= 0 || ncp < 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n    if (x < 0) {\n      return R_D__0(giveLog);\n    }\n    if (!R_FINITE(ncp)) {\n      /* ncp = +Inf -- FIXME?: in some cases, limit exists */\n      return ML_ERR_return_NAN(printer);\n    }\n\n    /* This is not correct for  df1 == 2, ncp > 0 - and seems unneeded:\n     *  if (x == 0.) return(df1 > 2 ? R_D__0 : (df1 == 2 ? R_D__1 : ML_POSINF));\n     */\n    if (!R_FINITE(df1) && !R_FINITE(df2)) {\n      /* both +Inf */\n      /* PR: not sure about this (taken from  ncp==0)  -- FIXME ? */\n      if (x === 1) return ML_POSINF;\n      else return R_D__0(giveLog);\n    }\n    if (!R_FINITE(df2))\n      /* i.e.  = +Inf */\n      return df1 * dnchisq(x * df1, df1, ncp, giveLog);\n    /*\t ==  dngamma(x, df1/2, 2./df1, ncp, give_log)  -- but that does not exist */\n    if (df1 > 1e14 && ncp < 1e7) {\n      /* includes df1 == +Inf: code below is inaccurate there */\n      f =\n        1 +\n        ncp / df1; /* assumes  ncp << df1 [ignores 2*ncp^(1/2)/df1*x term] */\n      z = dgamma(1 / x / f, df2 / 2, 2 / df2, giveLog);\n      return giveLog ? z - 2 * log(x) - log(f) : z / (x * x) / f;\n    }\n\n    y = df1 / df2 * x;\n    z = dnbeta(y / (1 + y), df1 / 2, df2 / 2, ncp, giveLog) as number;\n    return giveLog\n      ? z + log(df1) - log(df2) - 2 * log1p(y)\n      : z * (df1 / df2) / (1 + y) / (1 + y);\n  });\n  return result.length === 1 ? result[0] : result as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/f-distro/dnf.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_DT_0, R_DT_1, R_P_bounds_01 } from '../common/_general';\n\n//import { INormal } from '../exp/expm1'normal';\nimport { pbeta } from '../beta/pbeta';\nimport { pchisq } from '../chi-2/pchisq';\n\nconst {\n  isNaN: ISNAN,\n  POSITIVE_INFINITY: ML_POSINF,\n  NaN: ML_NAN,\n  isFinite: ML_VALID\n} = Number;\n\nconst { LN2: M_LN2 } = Math;\n\nconst printer_pf = debug('pf');\n\nexport function pf<T>(\n  q: T,\n  df1: number,\n  df2: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  const fx: number[] = Array.isArray(q) ? q : [q] as any;\n\n  const result = fx.map(x => {\n    if (ISNAN(x) || ISNAN(df1) || ISNAN(df2)) return x + df2 + df1;\n\n    if (df1 <= 0 || df2 <= 0) {\n      return ML_ERR_return_NAN(printer_pf);\n    }\n\n    let rc = R_P_bounds_01(lowerTail, logP, x, 0, ML_POSINF);\n    if (rc !== undefined) {\n      return rc;\n    }\n\n    /* move to pchisq for very large values - was 'df1 > 4e5' in 2.0.x,\n       now only needed for df1 = Inf or df2 = Inf {since pbeta(0,*)=0} : */\n    if (df2 === ML_POSINF) {\n      if (df1 === ML_POSINF) {\n        if (x < 1) return R_DT_0(lowerTail, logP);\n        if (x === 1) return logP ? -M_LN2 : 0.5;\n        if (x > 1) return R_DT_1(lowerTail, logP);\n      }\n\n      return pchisq(x * df1, df1, lowerTail, logP);\n    }\n\n    if (df1 === ML_POSINF)\n      /* was \"fudge\"\t'df1 > 4e5' in 2.0.x */\n      return pchisq(df2 / x, df2, !lowerTail, logP);\n\n    /* Avoid squeezing pbeta's first parameter against 1 :  */\n    if (df1 * x > df2)\n      x = pbeta(df2 / (df2 + df1 * x), df2 / 2, df1 / 2, !lowerTail, logP);\n    else\n      x = pbeta(df1 * x / (df2 + df1 * x), df1 / 2, df2 / 2, lowerTail, logP);\n\n    return ML_VALID(x) ? x : ML_NAN;\n  });\n  return result.length === 1 ? result[0] : (result as any);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/f-distro/pf.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_P_bounds_01 } from '../common/_general';\n\nimport { pnbeta2 } from '../beta/pnbeta';\nimport { pnchisq } from '../chi-2/pnchisq';\n\n\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  POSITIVE_INFINITY: ML_POSINF\n} = Number;\n\nconst printer_pnf = debug('pnf');\nexport function pnf<T>(\n  xx: T,\n  df1: number,\n  df2: number,\n  ncp: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  const fx: number[] = Array.isArray(xx) ? xx : ([xx] as any);\n  const result = fx.map(x => {\n    let y;\n\n    if (ISNAN(x) || ISNAN(df1) || ISNAN(df2) || ISNAN(ncp))\n      return x + df2 + df1 + ncp;\n\n    if (df1 <= 0 || df2 <= 0 || ncp < 0) return ML_ERR_return_NAN(printer_pnf);\n    if (!R_FINITE(ncp)) return ML_ERR_return_NAN(printer_pnf);\n    if (!R_FINITE(df1) && !R_FINITE(df2))\n      /* both +Inf */\n      return ML_ERR_return_NAN(printer_pnf);\n\n    let rc = R_P_bounds_01(lowerTail, logP, x, 0, ML_POSINF);\n    if (rc !== undefined) {\n      return rc;\n    }\n    if (df2 > 1e8)\n      /* avoid problems with +Inf and loss of accuracy */\n      return pnchisq(x * df1, df1, ncp, lowerTail, logP);\n\n    y = df1 / df2 * x;\n    return pnbeta2(\n      y / (1 + y),\n      1 / (1 + y),\n      df1 / 2,\n      df2 / 2,\n      ncp,\n      lowerTail,\n      logP\n    );\n  });\n  return result.length === 1 ? result[0] : (result as any);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/f-distro/pnf.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_Q_P01_boundaries } from '../common/_general';\n\nimport { qbeta } from '../beta/qbeta';\nimport { qchisq } from '../chi-2/qchisq';\n\nconst printer = debug('qf');\n\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  NaN: ML_NAN,\n  POSITIVE_INFINITY: ML_POSINF,\n  isFinite: ML_VALID\n} = Number;\n\nexport function qf<T>(\n  pp: T,\n  df1: number,\n  df2: number,\n  lower_tail: boolean,\n  log_p: boolean\n): T {\n  const fp: number[] = Array.isArray(pp) ? pp : ([pp] as any);\n  const result = fp.map(p => {\n    if (ISNAN(p) || ISNAN(df1) || ISNAN(df2)) return p + df1 + df2;\n\n    if (df1 <= 0 || df2 <= 0) return ML_ERR_return_NAN(printer);\n\n    let rc = R_Q_P01_boundaries(lower_tail, log_p, p, 0, ML_POSINF);\n    if (rc !== undefined) {\n      return rc;\n    }\n\n    /* fudge the extreme DF cases -- qbeta doesn't do this well.\n       But we still need to fudge the infinite ones.\n     */\n\n    if (df1 <= df2 && df2 > 4e5) {\n      if (!R_FINITE(df1))\n        /* df1 == df2 == Inf : */\n        return 1;\n      /* else */\n      return qchisq(p, df1, lower_tail, log_p) / df1;\n    }\n    if (df1 > 4e5) {\n      /* and so  df2 < df1 */\n      return df2 / qchisq(p, df2, !lower_tail, log_p);\n    }\n\n    // FIXME: (1/qb - 1) = (1 - qb)/qb; if we know qb ~= 1, should use other tail\n    p = (1 / qbeta(p, df2 / 2, df1 / 2, !lower_tail, log_p) - 1) * (df2 / df1);\n    return ML_VALID(p) ? p : ML_NAN;\n  });\n  return result.length === 1 ? result[0] : (result as any);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/f-distro/qf.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_Q_P01_boundaries } from '../common/_general';\n\n\nimport { qnbeta } from '../beta/qnbeta';\nimport { qnchisq } from '../chi-2/qnchisq';\n\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  POSITIVE_INFINITY: ML_POSINF\n} = Number;\n\nconst printer = debug('qnf');\n\nexport function qnf<T>(\n  pp: T,\n  df1: number,\n  df2: number,\n  ncp: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  const fp: number[] = Array.isArray(pp) ? pp : ([pp] as any);\n\n  const result = fp.map(p => {\n    let y;\n\n    if (ISNAN(p) || ISNAN(df1) || ISNAN(df2) || ISNAN(ncp))\n      return p + df1 + df2 + ncp;\n\n    switch (true) {\n      case df1 <= 0 || df2 <= 0 || ncp < 0:\n      case !R_FINITE(ncp):\n      case !R_FINITE(df1) && !R_FINITE(df2):\n        return ML_ERR_return_NAN(printer);\n      default:\n        // pass through\n        break;\n    }\n    //if (df1 <= 0 || df2 <= 0 || ncp < 0) ML_ERR_return_NAN(printer);\n    //if (!R_FINITE(ncp)) ML_ERR_return_NAN;\n    //if (!R_FINITE(df1) && !R_FINITE(df2)) ML_ERR_return_NAN;\n    let rc = R_Q_P01_boundaries(lowerTail, logP, p, 0, ML_POSINF);\n    if (rc !== undefined) {\n      return rc;\n    }\n\n    if (df2 > 1e8)\n      /* avoid problems with +Inf and loss of accuracy */\n      return qnchisq(p, df1, ncp, lowerTail, logP) / df1;\n\n    y = qnbeta(p, df1 / 2, df2 / 2, ncp, lowerTail, logP);\n    return y / (1 - y) * (df2 / df1);\n  });\n  return result.length === 1 ? result[0] : result as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/f-distro/qnf.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN } from '../common/_general';\n\n\nimport { rchisq } from '../chi-2/rchisq';\nimport { map, seq } from '../r-func';\nimport { IRNGNormal } from '../rng/normal';\n\nconst printer = debug('rf');\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst sequence = seq()();\n\nexport function rf(\n  n: number,\n  n1: number,\n  n2: number,\n  rng: IRNGNormal\n): number | number[] {\n\n  return map(sequence(n))(() => {\n    let v1;\n    let v2;\n    if (ISNAN(n1) || ISNAN(n2) || n1 <= 0 || n2 <= 0) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    v1 = R_FINITE(n1) ? (rchisq(1, n1, rng) as number) / n1 : 1;\n    v2 = R_FINITE(n2) ? (rchisq(1, n2, rng) as number) / n2 : 1;\n    return v1 / v2;\n  }) as any;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/f-distro/rf.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nconst { max: fmax2, log1p, exp, abs: fabs } = Math;\n\nexport function logspace_add(logx: number, logy: number) {\n  return fmax2(logx, logy) + log1p(exp(-fabs(logx - logy)));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/logspace-add.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport {\n  DBL_MANT_DIG,\n  DBL_MAX_EXP,\n  DBL_MIN_EXP,\n  imin2,\n  M_LOG10_2,\n  R_pow_di\n} from '../common/_general';\nimport { NumberW } from '../common/toms708';\nimport { map, multiplexer } from '../r-func';\n\nconst printer = debug('dpsifn');\n\nconst {\n  NaN: ML_NAN,\n  POSITIVE_INFINITY: ML_POSINF,\n  isNaN: ISNAN,\n  EPSILON: DBL_EPSILON\n} = Number;\n\nconst n_max = 100;\n\nconst {\n  pow,\n  abs: fabs,\n  max: fmax2,\n  min: fmin2,\n  exp,\n  log,\n  sin,\n  cos,\n  PI: M_PI,\n  round,\n  round: R_forceint\n} = Math;\n\n/* From R, currently only used for kode = 1, m = 1 : */\nfunction dpsifn(\n  x: number,\n  n: number,\n  kode: number,\n  m: number,\n  ans: number[],\n  nz: NumberW,\n  ierr: NumberW\n): void {\n  const bvalues = [\n    /* Bernoulli Numbers */\n    1.0,\n    -5.0e-1,\n    1.66666666666666667e-1,\n    -3.33333333333333333e-2,\n    2.38095238095238095e-2,\n    -3.33333333333333333e-2,\n    7.57575757575757576e-2,\n    -2.53113553113553114e-1,\n    1.16666666666666667,\n    -7.09215686274509804,\n    5.49711779448621554e1,\n    -5.29124242424242424e2,\n    6.1921231884057971e3,\n    -8.65802531135531136e4,\n    1.42551716666666667e6,\n    -2.7298231067816092e7,\n    6.01580873900642368e8,\n    -1.51163157670921569e10,\n    4.29614643061166667e11,\n    -1.37116552050883328e13,\n    4.88332318973593167e14,\n    -1.92965793419400681e16\n  ];\n  //  ints\n  let nx: number;\n  let xinc = 0 as number;\n  let xdmln = 0 as number;\n  let i; //i\n  let j; //j\n  let k; //k\n  let mm; //mm\n  let mx; //mx\n  let nn; //nn\n  let np; //np\n  let fn; //fn\n\n  //double\n  let arg;\n  let den;\n  let elim;\n  let eps;\n  let fln;\n  let fx;\n  let rln;\n  let rxsq;\n  let r1m4;\n  let r1m5;\n  let s;\n  let slope;\n  let t;\n  let ta;\n  let tk;\n  let tol;\n  let tols;\n  let tss;\n  let tst;\n  let tt;\n  let t1;\n  let t2;\n  let wdtol;\n  let xdmy = 0;\n  let xln = 0.0; /* -Wall */\n  let xm;\n  let xmin;\n  let xq;\n  let yint;\n  // array\n  let trm = new Array(23).fill(0);\n\n  let trmr = new Array(n_max + 1).fill(0);\n\n  ierr.val = 0;\n\n  if (n < 0 || kode < 1 || kode > 2 || m < 1) {\n    ierr.val = 1;\n    return;\n  }\n\n  if (x <= 0) {\n    /* use\tAbramowitz & Stegun 6.4.7 \"Reflection Formula\"\n         *\tpsi(k, x) = (-1)^k psi(k, 1-x)\t-  pi^{n+1} (d/dx)^n cot(x)\n         */\n    if (x === round(x)) {\n      /* non-positive integer : +Inf or NaN depends on n */\n      for (j = 0; j < m; j++ /* k = j + n : */)\n        ans[j] = (j + n) % 2 ? ML_POSINF : ML_NAN;\n      return;\n    }\n    /* This could cancel badly */\n    dpsifn(1 - x, n, /*kode = */ 1, m, ans, nz, ierr);\n    /* ans[j] === (-1)^(k+1) / gamma(k+1) * psi(k, 1 - x)\n         *\t     for j = 0:(m-1) ,\tk = n + j\n         */\n\n    /* Cheat for now: only work for\t m = 1, n in {0,1,2,3} : */\n    if (m > 1 || n > 3) {\n      /* doesn't happen for digamma() .. pentagamma() */\n      /* not yet implemented */\n      ierr.val = 4;\n      return;\n    }\n    x *= M_PI; /* pi * x */\n    if (n === 0) tt = cos(x) / sin(x);\n    else if (n === 1) tt = -1 / R_pow_di(sin(x), 2);\n    else if (n === 2) tt = 2 * cos(x) / R_pow_di(sin(x), 3);\n    else if (n === 3)\n      tt =\n        -2 *\n        (2 * R_pow_di(cos(x), 2) + 1) /\n        R_pow_di(sin(x), 4); /* can not happen! */\n    else tt = ML_NAN;\n    /* end cheat */\n\n    s = n % 2 ? -1 : 1; /* s = (-1)^n */\n    /* t := pi^(n+1) * d_n(x) / gamma(n+1)\t, where\n         *\t\t   d_n(x) := (d/dx)^n cot(x)*/\n    t1 = t2 = s = 1;\n    for (k = 0, j = k - n; j < m; k++ , j++ , s = -s) {\n      /* k === n+j , s = (-1)^k */\n      t1 *= M_PI; /* t1 === pi^(k+1) */\n      if (k >= 2) t2 *= k; /* t2 === k! === gamma(k+1) */\n      if (j >= 0)\n        /* by cheat above,  tt === d_k(x) */\n        ans[j] = s * (ans[j] + t1 / t2 * tt);\n    }\n    if (n === 0 && kode === 2)\n      /* unused from R, but \"wrong\": xln === 0 :*/\n      ans[0] += xln;\n    return;\n  } /* x <= 0 */\n\n  /* else :  x > 0 */\n  nz.val = 0;\n  xln = log(x);\n  if (kode === 1 && m === 1) {\n    /* the R case  ---  for very large x: */\n    let lrg = 1 / (2 * DBL_EPSILON);\n    if (n === 0 && x * xln > lrg) {\n      ans[0] = -xln;\n      return;\n    } else if (n >= 1 && x > n * lrg) {\n      ans[0] = exp(-n * xln) / n; /* === x^-n / n  ===  1/(n * x^n) */\n      return;\n    }\n  }\n  mm = m;\n  nx = imin2(-DBL_MIN_EXP, DBL_MAX_EXP); /* = 1021 */\n  r1m5 = M_LOG10_2;\n  r1m4 = Number.EPSILON * 0.5;\n  wdtol = fmax2(r1m4, 0.5e-18); /* 1.11e-16 */\n\n  /* elim = approximate exponential over and underflow limit */\n  elim = 2.302 * (nx * r1m5 - 3.0); /* = 700.6174... */\n\n  let L10 = false; // goto flag\n  let L20 = false;\n  let L30 = false;\n\n  while (true) {\n    nn = n + mm - 1;\n    fn = nn;\n    t = (fn + 1) * xln;\n\n    /* overflow and underflow test for small and large x */\n\n    if (fabs(t) > elim) {\n      if (t <= 0.0) {\n        nz.val = 0;\n        ierr.val = 2;\n        return;\n      }\n    } else {\n      if (x < wdtol) {\n        ans[0] = R_pow_di(x, -n - 1);\n        if (mm !== 1) {\n          for (k = 1; k < mm; k++) ans[k] = ans[k - 1] / x;\n        }\n        if (n === 0 && kode === 2) ans[0] += xln;\n        return;\n      }\n\n      /* compute xmin and the number of terms of the series,  fln+1 */\n\n      rln = r1m5 * DBL_MANT_DIG;\n      rln = fmin2(rln, 18.06);\n      fln = fmax2(rln, 3.0) - 3.0;\n      yint = 3.5 + 0.4 * fln;\n      slope = 0.21 + fln * (0.0006038 * fln + 0.008677);\n      xm = yint + slope * fn;\n      mx = (xm >> 0) + 1;\n      xmin = mx;\n      //\n      if (n !== 0) {\n        xm = -2.302 * rln - fmin2(0.0, xln);\n        arg = xm / n;\n        arg = fmin2(0.0, arg);\n        eps = exp(arg);\n        xm = 1.0 - eps;\n        if (fabs(arg) < 1.0e-3) xm = -arg;\n        fln = x * xm / eps;\n        xm = xmin - x;\n        if (xm > 7.0 && fln < 15.0) break;\n      }\n      xdmy = x;\n      xdmln = xln;\n      xinc = 0.0;\n      if (x < xmin) {\n        nx = x >> 0;\n        xinc = xmin - nx;\n        xdmy = x + xinc;\n        xdmln = log(xdmy);\n      }\n\n      /* generate w(n+mm-1, x) by the asymptotic expansion */\n\n      t = fn * xdmln;\n      t1 = xdmln + xdmln;\n      t2 = t + xdmln;\n      tk = fmax2(fabs(t), fmax2(fabs(t1), fabs(t2)));\n      if (tk <= elim) {\n        /* for all but large x */\n        L10 = true;\n        break;\n      } // if\n    } // if else\n    nz.val++; /* underflow */\n    mm--;\n    ans[mm] = 0;\n    if (mm === 0) {\n      return;\n    }\n  } /* end{for()} */\n  if (!L10) {\n    nn = (fln >> 0) + 1;\n    np = n + 1;\n    t1 = (n + 1) * xln;\n    t = exp(-t1);\n    s = t;\n    den = x;\n    for (i = 1; i <= nn; i++) {\n      den += 1;\n      trm[i] = pow(den, -np);\n      s += trm[i];\n    }\n    ans[0] = s;\n    if (n === 0 && kode === 2) ans[0] = s + xln;\n\n    if (mm !== 1) {\n      /* generate higher derivatives, j > n */\n\n      tol = wdtol / 5.0;\n      for (j = 1; j < mm; j++) {\n        t /= x;\n        s = t;\n        tols = t * tol;\n        den = x;\n        for (i = 1; i <= nn; i++) {\n          den += 1;\n          trm[i] /= den;\n          s += trm[i];\n          if (trm[i] < tols) break;\n        } //for\n        ans[j] = s;\n      } //for\n    }\n    return;\n  }\n  //L10:\n  tss = exp(-t);\n  tt = 0.5 / xdmy;\n  t1 = tt;\n  tst = wdtol * tt;\n  if (nn !== 0) t1 = tt + 1.0 / fn;\n  rxsq = 1.0 / (xdmy * xdmy);\n  ta = 0.5 * rxsq;\n  t = (fn + 1) * ta;\n  s = t * bvalues[2];\n  //\n\n  if (fabs(s) >= tst) {\n    tk = 2.0;\n    for (k = 4; k <= 22; k++) {\n      t = t * ((tk + fn + 1) / (tk + 1.0)) * ((tk + fn) / (tk + 2.0)) * rxsq;\n      trm[k] = t * bvalues[k - 1];\n      if (fabs(trm[k]) < tst) break;\n      s += trm[k];\n      tk += 2;\n    } //for\n  } //if\n  s = (s + t1) * tss;\n  // while (true) is a goto capture\n  while (true) {\n    if (xinc !== 0.0) {\n      /* backward recur from xdmy to x */\n\n      nx = xinc >> 0;\n      np = nn + 1;\n      if (nx > n_max) {\n        nz.val = 0;\n        ierr.val = 3;\n        return;\n      } else {\n        if (nn === 0) {\n          L20 = true;\n          break;\n        }\n        xm = xinc - 1.0;\n        fx = x + xm;\n\n        /* this loop should not be changed. fx is accurate when x is small */\n        for (i = 1; i <= nx; i++) {\n          trmr[i] = pow(fx, -np);\n          s += trmr[i];\n          xm -= 1;\n          fx = x + xm;\n        }\n      }\n    }\n\n    ans[mm - 1] = s;\n    if (fn === 0) {\n      L30 = true;\n      break;\n    }\n    /* generate lower derivatives,  j < n+mm-1 */\n    for (j = 2; j <= mm; j++) {\n      fn--;\n      tss *= xdmy;\n      t1 = tt;\n      if (fn !== 0) t1 = tt + 1.0 / fn;\n      t = (fn + 1) * ta;\n      s = t * bvalues[2];\n      if (fabs(s) >= tst) {\n        tk = 4 + fn;\n        for (k = 4; k <= 22; k++) {\n          trm[k] = trm[k] * (fn + 1) / tk;\n          if (fabs(trm[k]) < tst) break;\n          s += trm[k];\n          tk += 2;\n        }\n      }\n      s = (s + t1) * tss;\n      if (xinc !== 0.0) {\n        if (fn === 0) {\n          L20 = true;\n          break;\n        }\n        xm = xinc - 1.0;\n        fx = x + xm;\n        for (i = 1; i <= nx; i++) {\n          trmr[i] = trmr[i] * fx;\n          s += trmr[i];\n          xm -= 1;\n          fx = x + xm;\n        }\n      }\n      ans[mm - j] = s;\n      if (fn === 0) {\n        L30 = true;\n        break;\n        //goto L30;\n      }\n    } //for\n    return;\n  } // goto capture end\n  //L20:\n  printer(L20 ? 'goto L20 was set!' : 'goto L20 was not set');\n\n  if (!L30) {\n    for (i = 1; i <= nx; i++) {\n      s += 1 / (x + (nx - i));\n      /* avoid disastrous cancellation, PR#13714 */\n    }\n  }\n  //L30:\n  if (kode !== 2)\n    /* always */\n    ans[0] = s - xdmln;\n  else if (xdmy !== x) {\n    xq = xdmy / x;\n    ans[0] = s - log(xq);\n  }\n  return;\n} /* dpsifn() */\n\n/*\n#ifdef MATHLIB_STANDALONE\n# define ML_TREAT_psigam(_IERR_)\t\\\n    if(_IERR_ !== 0) {\t\t\t\\\n    errno = EDOM;\t\t\t\\\n    return ML_NAN;\t\t\t\\\n    }\n#else\n# define ML_TREAT_psigam(_IERR_)\t\\\n    if(_IERR_ !== 0)\t\t\t\\\n    return ML_NAN\n#endif\n*/\nconst print_psigamma = debug('psigamma');\n\nexport function psigamma(_x: number | number[], _deriv: number | number[] = 0): number | number[] {\n  /* n-th derivative of psi(x);  e.g., psigamma(x,0) === digamma(x) */\n  // double\n  let ans = [0];\n  // ints\n  let nz = new NumberW();\n  let ierr = new NumberW();\n  return multiplexer(_x, _deriv)((x, deriv) => {\n    let k;\n    let n;\n    nz.val = 0;\n    ierr.val = 0;\n    ans[0] = 0;\n\n    if (ISNAN(x)) return x;\n    deriv = R_forceint(deriv);\n    n = deriv >> 0;\n    if (n > n_max) {\n      print_psigamma('\"deriv = %d > %d (= n_max)', n, n_max);\n      return ML_NAN;\n    }\n    dpsifn(x, n, 1, 1, ans, nz, ierr);\n    if (ierr.val !== 0) {\n      return ML_NAN;\n    }\n\n    /* Now, ans ===  A := (-1)^(n+1) / gamma(n+1) * psi(n, x) */\n    ans[0] = -ans[0]; /* = (-1)^(0+1) * gamma(0+1) * A */\n    for (k = 1; k <= n; k++) ans[0] *= -k; /* = (-1)^(k+1) * gamma(k+1) * A */\n    return ans[0]; /* = psi(n, x) */\n  });\n}\n\n//https://commons.wikimedia.org/wiki/File:Digamma_function_plot.png\n\nexport function digamma(_x: number | number): number | number[] {\n  let ans = [0];\n  let nz = new NumberW();\n  let ierr = new NumberW();\n\n  return map(_x)(x => {\n    ans[0] = 0;\n    nz.val = 0;\n    ierr.val = 0;\n    if (ISNAN(x)) return x;\n    dpsifn(x, 0, 1, 1, ans, nz, ierr);\n    if (ierr.val !== 0) {\n      return ML_NAN;\n    }\n    return -ans[0];\n  });\n}\n\n//https://commons.wikimedia.org/wiki/Category:Polygamma_function#/media/File:Trigamma_function_plot.png\n\nexport function trigamma(_x: number | number[]): number | number[] {\n  let ans = [0];\n  let nz = new NumberW(0);\n  let ierr = new NumberW(0);\n\n  return map(_x)(x => {\n    ans[0] = 0;\n    nz.val = 0;\n    ierr.val = 0;\n\n    if (ISNAN(x)) return x;\n    dpsifn(x, 1, 1, 1, ans, nz, ierr);\n    if (ierr.val !== 0) {\n      return ML_NAN;\n    }\n    return ans[0];\n  });\n}\n//https://commons.wikimedia.org/wiki/Category:Polygamma_function#/media/File:Tetragamma_function_plot.png\nexport function tetragamma(_x: number | number[]): number | number[] {\n  let ans = [0];\n  let nz = new NumberW();\n  let ierr = new NumberW();\n  return map(_x)(x => {\n    ans[0] = 0;\n    nz.val = 0;\n    ierr.val = 0;\n\n    if (ISNAN(x)) return x;\n    dpsifn(x, 2, 1, 1, ans, nz, ierr);\n    if (ierr.val !== 0) {\n      return ML_NAN;\n    }\n    return -2.0 * ans[0];\n  });\n}\n// replaced by psigamma function\nexport function pentagamma(_x: number): number {\n  let ans = [0];\n  let nz = new NumberW();\n  let ierr = new NumberW();\n  return map(_x)(x => {\n    ans[0] = 0;\n    nz.val = 0;\n    ierr.val = 0;\n\n    if (ISNAN(x)) return x;\n    dpsifn(x, 3, 1, 1, ans, nz, ierr);\n    if (ierr.val !== 0) {\n      return ML_NAN;\n    }\n    return 6.0 * ans[0];\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/gamma/polygamma.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { dbinom_raw } from '../binomial/dbinom';\nimport { ML_ERR_return_NAN, R_D__0, R_D_nonint_check } from '../common/_general';\n\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst { round: R_forceint, log } = Math;\n\nconst printer = debug('dgeom');\n\nexport function dgeom<T>(xx: T, p: number, giveLog: boolean = false): T {\n\n  const fx: number[] = Array.isArray(xx) ? xx : [xx] as any;\n\n  const result = fx.map(x => {\n\n    let prob: number;\n\n    if (ISNAN(x) || ISNAN(p)) return x + p;\n\n    if (p <= 0 || p > 1) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    let rc = R_D_nonint_check(giveLog, x, printer);\n    if (rc !== undefined) {\n      return rc;\n    }\n    if (x < 0 || !R_FINITE(x) || p === 0) {\n      return R_D__0(giveLog);\n    }\n    x = R_forceint(x);\n\n    /* prob = (1-p)^x, stable for small p */\n    prob = dbinom_raw(0, x, p, 1 - p, giveLog);\n\n    return giveLog ? log(p) + prob : p * prob;\n  });\n\n  return result.length === 1 ? result[0] : result as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/geometric/dgeom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_DT_0, R_DT_1 } from '../common/_general';\n\nimport { R_DT_Clog } from '../exp/expm1';\n\nconst { expm1, log1p, log, exp, floor } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst printer = debug('pgeom');\n\nexport function pgeom<T>(\n  xx: T,\n  p: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  const fx: number[] = Array.isArray(xx) ? xx : ([xx] as any);\n\n  const result = fx.map(x => {\n    if (ISNAN(x) || ISNAN(p)) return x + p;\n\n    if (p <= 0 || p > 1) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    if (x < 0) return R_DT_0(lowerTail, logP);\n    if (!R_FINITE(x)) return R_DT_1(lowerTail, logP);\n    x = floor(x + 1e-7);\n\n    if (p === 1) {\n      /* we cannot assume IEEE */\n      x = lowerTail ? 1 : 0;\n      return logP ? log(x) : x;\n    }\n    x = log1p(-p) * (x + 1);\n    if (logP) return R_DT_Clog(lowerTail, logP, x);\n    else return lowerTail ? -expm1(x) : exp(x);\n  });\n  return result.length === 1 ? result[0] : (result as any);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/geometric/pgeom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_Q_P01_boundaries } from '../common/_general';\n\nimport { R_DT_Clog } from '../exp/expm1';\n\nconst { ceil, max: fmax2, log1p } = Math;\nconst { POSITIVE_INFINITY: ML_POSINF, isNaN: ISNAN } = Number;\nconst printer = debug('qgeom');\n\nexport function qgeom<T>(\n  pp: T,\n  prob: number,\n  lower_tail: boolean = true,\n  log_p: boolean = false\n): T {\n  const fp: number[] = Array.isArray(pp) ? pp : ([pp] as any);\n\n  const result = fp.map(p => {\n    if (prob <= 0 || prob > 1) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    let rc = R_Q_P01_boundaries(lower_tail, log_p, p, 0, ML_POSINF);\n    if (rc !== undefined) {\n      return rc;\n    }\n\n    if (ISNAN(p) || ISNAN(prob)) return p + prob;\n\n    if (prob === 1) return 0;\n    /* add a fuzz to ensure left continuity, but value must be >= 0 */\n    return fmax2(\n      0,\n      ceil(R_DT_Clog(lower_tail, log_p, p) / log1p(-prob) - 1 - 1e-12)\n    );\n  });\n  return result.length === 1 ? result[0] : result as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/geometric/qgeom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { exp_rand } from '../exp/sexp';\nimport { rpois } from '../poisson/rpois';\nimport { IRNGNormal } from '../rng/normal';\n\nconst { isFinite: R_FINITE } = Number;\n\nconst printer = debug('rgeom');\n\nexport function rgeom(\n  N: number,\n  p: number,\n  rng: IRNGNormal\n): number | number {\n  const result = new Array(N).fill(0).map(() => {\n    if (!R_FINITE(p) || p <= 0 || p > 1) return ML_ERR_return_NAN(printer);\n\n    return rpois(\n      1,\n      exp_rand(rng.unif_rand as any) * ((1 - p) / p),\n      rng\n    ) as number;\n  });\n  return result.length === 1 ? result[0] : (result as any);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/geometric/rgeom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { internal_lbeta } from '../beta/lbeta';\nconst { log } = Math;\n// used by \"qhyper\"\nexport function lfastchoose(n: number, k: number) {\n  return -log(n + 1) - internal_lbeta(n - k + 1, k + 1);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/hypergeometric/lfastchoose.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_D_Lval, R_DT_0, R_DT_1 } from '../common/_general';\nimport { R_DT_log } from '../exp/expm1';\nimport { map } from '../r-func';\nimport { dhyper } from './dhyper';\n\nconst { floor, round: R_forceint, log1p } = Math;\nconst { EPSILON: DBL_EPSILON, isNaN: ISNAN, isFinite: R_FINITE } = Number;\n\n//NOTE: p[d]hyper is not  typo!!\n//const printer_pdhyper = debug('pdhyper');\n\nfunction pdhyper(\n  x: number,\n  NR: number,\n  NB: number,\n  n: number,\n  log_p: boolean\n): number {\n  /*\n     * Calculate\n     *\n     *\t    phyper (x, NR, NB, n, TRUE, FALSE)\n     *   [log]  ----------------------------------\n     *\t       dhyper (x, NR, NB, n, FALSE)\n     *\n     * without actually calling phyper.  This assumes that\n     *\n     *     x * (NR + NB) <= n * NR\n     *\n     */\n\n  let sum = 0;\n  let term = 1;\n\n  while (x > 0 && term >= DBL_EPSILON * sum) {\n    term *= x * (NB - n + x) / (n + 1 - x) / (NR + 1 - x);\n    sum += term;\n    x--;\n  }\n\n  let ss = sum;\n  return log_p ? log1p(ss) : 1 + ss;\n}\n\n/* FIXME: The old phyper() code was basically used in ./qhyper.c as well\n * -----  We need to sync this again!\n*/\nconst printer_phyper = debug('phyper');\n\nexport function phyper<T>(\n  xx: T,\n  nr: number,\n  nb: number,\n  nn: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  /* Sample of  n balls from  NR red  and\t NB black ones;\t x are red */\n\n  return map(xx)(x => {\n    let d: number;\n    let pd: number;\n    let lower_tail = lowerTail; //copy it gets changed\n    let log_p = logP;\n    let NR = nr;\n    let NB = nb;\n    let n = nn;\n    if (ISNAN(x) || ISNAN(NR) || ISNAN(NB) || ISNAN(n)) return x + NR + NB + n;\n\n    x = floor(x + 1e-7);\n    NR = R_forceint(NR);\n    NB = R_forceint(NB);\n    n = R_forceint(n);\n\n    if (NR < 0 || NB < 0 || !R_FINITE(NR + NB) || n < 0 || n > NR + NB) {\n      return ML_ERR_return_NAN(printer_phyper);\n    }\n\n    if (x * (NR + NB) > n * NR) {\n      /* Swap tails.\t*/\n      let oldNB = NB;\n      NB = NR;\n      NR = oldNB;\n      x = n - x - 1;\n      lower_tail = !lower_tail;\n    }\n\n    if (x < 0) return R_DT_0(lower_tail, log_p);\n    if (x >= NR || x >= n) return R_DT_1(lower_tail, log_p);\n\n    d = dhyper(x, NR, NB, n, log_p);\n    pd = pdhyper(x, NR, NB, n, log_p);\n\n    return log_p\n      ? R_DT_log(lower_tail, log_p, d + pd)\n      : R_D_Lval(lower_tail, d * pd);\n  }) as any;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/hypergeometric/phyper.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n//\nimport { rbinom } from '../binomial/rbinom';\nimport {\n  imax2,\n  imin2,\n  M_LN_SQRT_2PI,\n  ML_ERR_return_NAN\n} from '../common/_general';\nimport { IRNG } from '../rng/irng';\nimport { qhyper } from './qhyper';\n//\nconst { log, round: R_forceint, exp, sqrt } = Math;\nconst { isFinite: R_FINITE, MAX_SAFE_INTEGER: INT_MAX } = Number;\nconst printer_afc = debug('afc');\n\n// afc(i) :=  ln( i! )\t[logarithm of the factorial i]\nexport function afc(i: number): number {\n  // If (i > 7), use Stirling's approximation, otherwise use table lookup.\n  const al = [\n    0.0 /*ln(0!)=ln(1)*/,\n    0.0 /*ln(1!)=ln(1)*/,\n    0.69314718055994530941723212145817 /*ln(2) */,\n    1.7917594692280550008124773583807 /*ln(6) */,\n    3.17805383034794561964694160129705 /*ln(24)*/,\n    4.78749174278204599424770093452324,\n    6.57925121201010099506017829290394,\n    8.52516136106541430016553103634712\n    /* 10.60460290274525022841722740072165, approx. value below =\n           10.6046028788027; rel.error = 2.26 10^{-9}\n    \n          FIXME: Use constants and if(n > ..) decisions from ./stirlerr.c\n          -----  will be even *faster* for n > 500 (or so)\n        */\n  ];\n\n  if (i < 0) {\n    printer_afc('rhyper.c: afc(i), i=%d < 0 -- SHOULD NOT HAPPEN!', i);\n    return -1; // unreached\n  }\n  if (i <= 7) {\n    return al[i];\n  }\n  // else i >= 8 :\n  let di = i;\n  let i2 = di * di;\n  return (\n    (di + 0.5) * log(di) -\n    di +\n    M_LN_SQRT_2PI +\n    (0.0833333333333333 - 0.00277777777777778 / i2) / di\n  );\n}\n\nexport function rhyper(\n  N: number,\n  nn1in: number,\n  nn2in: number,\n  kkin: number,\n  rng: IRNG\n): number | number[] {\n\n  const result = new Array(N).fill(0).map(() => {\n    return _rhyper(nn1in, nn2in, kkin, rng);\n  });\n  return result.length === 1 ? result[0] : result;\n\n}\n\n//     rhyper(NR, NB, n) -- NR 'red', NB 'blue', n drawn, how many are 'red'\nconst printer_rhyper = debug('_rhyper');\n\nfunction _rhyper(\n  nn1in: number,\n  nn2in: number,\n  kkin: number,\n  rng: IRNG\n): number {\n  /* extern double afc(int); */\n\n  let nn1 = 0;\n  let nn2 = 0;\n  let kk = 0;\n  let ix = 0; // return value (coerced to double at the very end)\n  let setup1 = false;\n  let setup2 = false;\n\n  /* These should become 'thread_local globals' : */\n  let ks = -1;\n  let n1s = -1;\n  let n2s = -1;\n  let m = 0;\n  let minjx = 0;\n  let maxjx = 0;\n  let k = 0;\n  let n1 = 0;\n  let n2 = 0; // <- not allowing larger integer par\n  let tn = 0;\n\n  // II :\n  let w = 0;\n  // III:\n  let a = 0;\n  let d = 0;\n  let s = 0;\n  let xl = 0;\n  let xr = 0;\n  let kl = 0;\n  let kr = 0;\n  let lamdl = 0;\n  let lamdr = 0;\n  let p1 = 0;\n  let p2 = 0;\n  let p3 = 0;\n\n  /* check parameter validity */\n\n  if (!R_FINITE(nn1in) || !R_FINITE(nn2in) || !R_FINITE(kkin))\n    return ML_ERR_return_NAN(printer_rhyper);\n\n  nn1in = R_forceint(nn1in);\n  nn2in = R_forceint(nn2in);\n  kkin = R_forceint(kkin);\n\n  if (nn1in < 0 || nn2in < 0 || kkin < 0 || kkin > nn1in + nn2in)\n    return ML_ERR_return_NAN(printer_rhyper);\n  if (nn1in >= INT_MAX || nn2in >= INT_MAX || kkin >= INT_MAX) {\n    /* large n -- evade integer overflow (and inappropriate algorithms)\n           -------- */\n    // FIXME: Much faster to give rbinom() approx when appropriate; -> see Kuensch(1989)\n    // Johnson, Kotz,.. p.258 (top) mention the *four* different binomial approximations\n    if (kkin === 1) {\n      // Bernoulli\n      return rbinom(1, kkin, nn1in / (nn1in + nn2in), rng) as number;\n    }\n    // Slow, but safe: return  F^{-1}(U)  where F(.) = phyper(.) and  U ~ U[0,1]\n    return qhyper(rng.unif_rand() as number, nn1in, nn2in, kkin, false, false);\n  }\n  nn1 = nn1in;\n  nn2 = nn2in;\n  kk = kkin;\n\n  /* if new parameter values, initialize */\n  if (nn1 !== n1s || nn2 !== n2s) {\n    setup1 = true;\n    setup2 = true;\n  } else if (kk !== ks) {\n    setup1 = false;\n    setup2 = true;\n  } else {\n    setup1 = false;\n    setup2 = false;\n  }\n  if (setup1) {\n    n1s = nn1;\n    n2s = nn2;\n    tn = nn1 + nn2;\n    if (nn1 <= nn2) {\n      n1 = nn1;\n      n2 = nn2;\n    } else {\n      n1 = nn2;\n      n2 = nn1;\n    }\n  }\n  if (setup2) {\n    ks = kk;\n    if (kk + kk >= tn) {\n      k = tn - kk;\n    } else {\n      k = kk;\n    }\n  }\n  if (setup1 || setup2) {\n    m = (k + 1) * (n1 + 1) / (tn + 2);\n    minjx = imax2(0, k - n2);\n    maxjx = imin2(n1, k);\n\n    printer_rhyper(\n      'rhyper(nn1=%d, nn2=%d, kk=%d), setup: floor(mean)= m=%d, jx in (%d..%d)',\n      nn1,\n      nn2,\n      kk,\n      m,\n      minjx,\n      maxjx\n    );\n  }\n  /* generate random variate --- Three basic cases */\n\n  //let goto_L_finis = false;\n  if (minjx === maxjx) {\n    /* I: degenerate distribution ---------------- */\n\n    printer_rhyper('rhyper(), branch I (degenerate)');\n\n    ix = maxjx;\n    //goto_L_finis = true;\n    //goto L_finis; // return appropriate variate\n  } else if (m - minjx < 10) {\n    // II: (Scaled) algorithm HIN (inverse transformation) ----\n    const scale = 1e25; // scaling factor against (early) underflow\n    const con = 57.5646273248511421;\n    // 25*log(10) = log(scale) { <==> exp(con) == scale }\n    if (setup1 || setup2) {\n      let lw; // log(w);  w = exp(lw) * scale = exp(lw + log(scale)) = exp(lw + con)\n      if (k < n2) {\n        lw = afc(n2) + afc(n1 + n2 - k) - afc(n2 - k) - afc(n1 + n2);\n      } else {\n        lw = afc(n1) + afc(k) - afc(k - n2) - afc(n1 + n2);\n      }\n      w = exp(lw + con);\n    }\n    let p = 0;\n    let u = 0;\n    printer_rhyper('rhyper(), branch II; w = %d > 0', w);\n\n    //L10:\n    let goto_L10 = false;\n    while (true) {\n      p = w;\n      ix = minjx;\n      u = (rng.unif_rand() as number) * scale;\n\n      printer_rhyper('  _new_ u = %d', u);\n\n      while (u > p) {\n        u -= p;\n        p *= (n1 - ix) * (k - ix);\n        ix++;\n        p = p / ix / (n2 - k + ix);\n        printer_rhyper('       ix=%d, u=%d, p=%d (u-p=%d)\\n', ix, u, p, u - p);\n        if (ix > maxjx) {\n          goto_L10 = true;\n          break;\n          //goto L10;\n          // FIXME  if(p == 0.)  we also \"have lost\"  => goto L10\n        }\n      }\n      if (!goto_L10) {\n        break;\n      }\n    }\n  } else {\n    /* III : H2PE Algorithm --------------------------------------- */\n    // never used??\n    //let u = 0;\n    // let v = 0;\n\n    if (setup1 || setup2) {\n      s = sqrt((tn - k) * k * n1 * n2 / (tn - 1) / tn / tn);\n\n      /* remark: d is defined in reference without int. */\n      /* the truncation centers the cell boundaries at 0.5 */\n\n      d = 1.5 * s + 0.5;\n      xl = m - d + 0.5;\n      xr = m + d + 0.5;\n      a = afc(m) + afc(n1 - m) + afc(k - m) + afc(n2 - k + m);\n      kl = exp(a - afc(xl) - afc(n1 - xl) - afc(k - xl) - afc(n2 - k + xl));\n      kr = exp(\n        a -\n        afc(xr - 1) -\n        afc(n1 - xr + 1) -\n        afc(k - xr + 1) -\n        afc(n2 - k + xr - 1)\n      );\n      lamdl = -log(xl * (n2 - k + xl) / (n1 - xl + 1) / (k - xl + 1));\n      lamdr = -log((n1 - xr + 1) * (k - xr + 1) / xr / (n2 - k + xr));\n      p1 = d + d;\n      p2 = p1 + kl / lamdl;\n      p3 = p2 + kr / lamdr;\n    }\n\n    printer_rhyper(\n      'rhyper(), branch III {accept/reject}: (xl,xr)= (%d,%d); (lamdl,lamdr)= (%d,%d)\\n',\n      xl,\n      xr,\n      lamdl,\n      lamdr\n    );\n    printer_rhyper('-------- p123= c(%d,%d,%d)\\n', p1, p2, p3);\n\n    let n_uv = 0;\n    //L30:\n    //let goto_L30 = false;\n    while (true) {\n      let u: number = (rng.unif_rand() as number) * p3;\n      let v: number = rng.unif_rand() as number;\n      n_uv++;\n      if (n_uv >= 10000) {\n        printer_rhyper(\n          'rhyper() branch III: giving up after %d rejections',\n          n_uv\n        );\n        return ML_ERR_return_NAN(printer_rhyper);\n      }\n\n      printer_rhyper(' ... L30: new (u=%d, v ~ U[0,1])[%d]\\n', u, n_uv);\n\n      if (u < p1) {\n        /* rectangular region */\n        ix = xl + u;\n      } else if (u <= p2) {\n        /* left tail */\n        ix = xl + log(v) / lamdl;\n        if (ix < minjx) {\n          //goto_L30 = true;\n          continue;\n          //goto L30;\n        }\n        v = v * (u - p1) * lamdl;\n      } else {\n        /* right tail */\n        ix = xr - log(v) / lamdr;\n        if (ix > maxjx) {\n          //goto_L30 = true;\n          continue;\n          //goto L30;\n        }\n        v = v * (u - p2) * lamdr;\n      }\n\n      /* acceptance/rejection test */\n      let reject = true;\n\n      if (m < 100 || ix <= 50) {\n        /* explicit evaluation */\n        /* The original algorithm (and TOMS 668) have\n                   f = f * i * (n2 - k + i) / (n1 - i) / (k - i);\n                   in the (m > ix) case, but the definition of the\n                   recurrence relation on p134 shows that the +1 is\n                   needed. */\n        let i;\n        let f = 1.0;\n        if (m < ix) {\n          for (i = m + 1; i <= ix; i++)\n            f = f * (n1 - i + 1) * (k - i + 1) / (n2 - k + i) / i;\n        } else if (m > ix) {\n          for (i = ix + 1; i <= m; i++)\n            f = f * i * (n2 - k + i) / (n1 - i + 1) / (k - i + 1);\n        }\n        if (v <= f) {\n          reject = false;\n        }\n      } else {\n        const deltal = 0.0078;\n        const deltau = 0.0034;\n\n        let e;\n        let g;\n        let r;\n        let t;\n        let y;\n        let de;\n        let dg;\n        let dr;\n        let ds;\n        let dt;\n        let gl;\n        let gu;\n        let nk;\n        let nm;\n        let ub;\n        let xk;\n        let xm;\n        let xn;\n        let y1;\n        let ym;\n        let yn;\n        let yk;\n        let alv;\n\n        printer_rhyper(\" ... accept/reject 'large' case v=%d\", v);\n\n        /* squeeze using upper and lower bounds */\n        y = ix;\n        y1 = y + 1.0;\n        ym = y - m;\n        yn = n1 - y + 1.0;\n        yk = k - y + 1.0;\n        nk = n2 - k + y1;\n        r = -ym / y1;\n        s = ym / yn;\n        t = ym / yk;\n        e = -ym / nk;\n        g = yn * yk / (y1 * nk) - 1.0;\n        dg = 1.0;\n        if (g < 0.0) dg = 1.0 + g;\n        gu = g * (1.0 + g * (-0.5 + g / 3.0));\n        gl = gu - 0.25 * (g * g * g * g) / dg;\n        xm = m + 0.5;\n        xn = n1 - m + 0.5;\n        xk = k - m + 0.5;\n        nm = n2 - k + xm;\n        ub =\n          y * gu -\n          m * gl +\n          deltau +\n          xm * r * (1 + r * (-0.5 + r / 3.0)) +\n          xn * s * (1 + s * (-0.5 + s / 3.0)) +\n          xk * t * (1 + t * (-0.5 + t / 3.0)) +\n          nm * e * (1 + e * (-0.5 + e / 3.0));\n        /* test against upper bound */\n        alv = log(v);\n        if (alv > ub) {\n          reject = true;\n        } else {\n          /* test against lower bound */\n          dr = xm * (r * r * r * r);\n          if (r < 0.0) dr /= 1.0 + r;\n          ds = xn * (s * s * s * s);\n          if (s < 0.0) ds /= 1.0 + s;\n          dt = xk * (t * t * t * t);\n          if (t < 0.0) dt /= 1.0 + t;\n          de = nm * (e * e * e * e);\n          if (e < 0.0) de /= 1.0 + e;\n          if (\n            alv <\n            ub - 0.25 * (dr + ds + dt + de) + (y + m) * (gl - gu) - deltal\n          ) {\n            reject = false;\n          } else {\n            /** Stirling's formula to machine accuracy\n             */\n            if (\n              alv <=\n              a - afc(ix) - afc(n1 - ix) - afc(k - ix) - afc(n2 - k + ix)\n            ) {\n              reject = false;\n            } else {\n              reject = true;\n            }\n          }\n        }\n      } // else\n      if (reject) {\n        //goto_L30 = true;\n        continue;\n      }\n      break;\n    } // for the goto_L30\n  }\n\n  //L_finis:\n  /* return appropriate variate */\n\n  if (kk + kk >= tn) {\n    if (nn1 > nn2) {\n      ix = kk - nn2 + ix;\n    } else {\n      ix = nn1 - ix;\n    }\n  } else {\n    if (nn1 > nn2) ix = kk - ix;\n  }\n  return ix;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/hypergeometric/rhyper.ts","'use strict';\n\nexport { Beta } from './beta';\nexport { Binomial } from './binomial';\nexport { NegativeBinomial } from './binomial-negative';\nexport { Cauchy } from './cauchy';\nexport { ChebyshevSeries } from './chebyshev';\nexport { ChiSquared } from './chi-2';\nexport { Exponential } from './exp';\nexport { FDist } from './f-distro';\nexport { Gamma } from './gamma';\nexport { Geometric } from './geometric';\nexport { HyperGeometric } from './hypergeometric';\nexport { Logistic } from './logis';\nexport { LogNormal } from './lognormal';\nexport { Multinomial, IdmultinomOptions } from './multinom';\nexport { Normal } from './normal';\nexport { Poisson } from './poisson';\nexport { rng, IRNG, IRNGNormal } from './rng';\nexport { SignRank } from './signrank';\n//  stirling, no need to export, it is a util\nexport { StudentT } from './student-t';\n//  trigonometry, no need to export, it is a util\nexport { Tukey } from './tukey';\nexport { Uniform } from './uniform';\nexport { Weibull } from './weibull';\nexport { Wilcoxon } from './wilcoxon';\n/*\n  Class of Special functions collected here.  \n*/\nimport { special as besselSpecial } from './bessel';\nimport { special as betaSpecial } from './beta';\nimport { special as chooseSpecial } from './common';\nimport { special as gammaSpecial } from './gamma';\n\nexport const special = Object.freeze({\n  ...gammaSpecial,\n  ...betaSpecial,\n  ...chooseSpecial,\n  ...besselSpecial\n});\n\nimport {\n  any,\n  arrayrify,\n  //asVector,\n  asArray,\n  div,\n  each,\n  // forceToArray,\n  flatten,\n  flatten as c, //alias\n  isOdd,\n  ISummary,\n  map,\n  mult,\n  multiplex,\n  multiplexer,\n  numberPrecision,\n  selector,\n  seq,\n  sum,\n  summary,\n  Welch_Satterthwaite\n} from './r-func';\n\nexport { ISummary };\n\nexport const R = {\n  any,\n  arrayrify,\n  asArray,\n  //asVector,\n  div,\n  flatten,\n  isOdd,\n  map,\n  each,\n  mult,\n  multiplex,\n  multiplexer,\n  numberPrecision,\n  selector,\n  seq,\n  sum,\n  summary,\n  Welch_Satterthwaite,\n  c\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/index.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { map } from '../r-func';\n\nconst { log, exp, abs: fabs } = Math;\nconst { isNaN: ISNAN } = Number;\n\nconst printer_dlogis = debug('dlogis');\n\nexport function dlogis<T>(\n  xx: T,\n  location: number = 0,\n  scale: number = 1,\n  give_log: boolean = false\n): T {\n  return map(xx)(x => {\n    let e: number;\n    let f: number;\n\n    if (ISNAN(x) || ISNAN(location) || ISNAN(scale)) return NaN;\n    if (scale <= 0.0) {\n      return ML_ERR_return_NAN(printer_dlogis);\n    }\n\n    x = fabs((x - location) / scale);\n    e = exp(-x);\n    f = 1.0 + e;\n    return give_log ? -(x + log(scale * f * f)) : e / (scale * f * f);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/logis/dlogis.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_P_bounds_Inf_01 } from '../common/_general';\nimport { map } from '../r-func';\n\nconst { exp, log1p } = Math;\nconst { isNaN: ISNAN } = Number;\n\n\nexport function Rf_log1pexp(x: number): number {\n  if (x <= 18) return log1p(exp(x));\n  if (x > 33.3) return x;\n  // else: 18.0 < x <= 33.3 :\n  return x + exp(-x);\n}\n\nconst printer_plogis = debug('plogis');\n\nexport function plogis<T>(\n  xx: T,\n  location: number = 0,\n  scale: number = 1,\n  lower_tail: boolean = true,\n  log_p: boolean = false\n): T {\n\n\n  return map(xx)(x => {\n    if (ISNAN(x) || ISNAN(location) || ISNAN(scale))\n      return x + location + scale;\n\n    if (scale <= 0.0) {\n      return ML_ERR_return_NAN(printer_plogis);\n    }\n\n    x = (x - location) / scale;\n    if (ISNAN(x)) {\n      return ML_ERR_return_NAN(printer_plogis);\n    }\n    let rc = R_P_bounds_Inf_01(lower_tail, log_p, x);\n    if (rc !== undefined) {\n      return rc;\n    }\n\n    if (log_p) {\n      // log(1 / (1 + exp( +- x ))) = -log(1 + exp( +- x))\n      return -Rf_log1pexp(lower_tail ? -x : x);\n    } else {\n      return 1 / (1 + exp(lower_tail ? -x : x));\n    }\n  }) as any;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/logis/plogis.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_Q_P01_boundaries } from '../common/_general';\n\nimport { R_Log1_Exp } from '../exp/expm1';\n\nimport { map } from '../r-func';\n\nconst {\n  isNaN: ISNAN,\n  POSITIVE_INFINITY: ML_POSINF,\n  NEGATIVE_INFINITY: ML_NEGINF\n} = Number;\n\nconst { log } = Math;\n\nconst printer_qlogis = debug('qlogis');\n\nexport function qlogis<T>(\n  pp: T,\n  location: number = 0,\n  scale: number = 1,\n  lower_tail: boolean = true,\n  log_p: boolean = false\n): T {\n  return map(pp)(p => {\n    if (ISNAN(p) || ISNAN(location) || ISNAN(scale))\n      return p + location + scale;\n\n    let rc = R_Q_P01_boundaries(lower_tail, log_p, p, ML_NEGINF, ML_POSINF);\n    if (rc !== undefined) {\n      return rc;\n    }\n\n    if (scale < 0) {\n      return ML_ERR_return_NAN(printer_qlogis);\n    }\n    if (scale === 0) return location;\n\n    /* p := logit(p) = log( p / (1-p) )\t : */\n    if (log_p) {\n      if (lower_tail) p = p - R_Log1_Exp(p);\n      else p = R_Log1_Exp(p) - p;\n    } else p = log(lower_tail ? p / (1 - p) : (1 - p) / p);\n\n    return location + scale * p;\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/logis/qlogis.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { map, seq } from '../r-func';\nimport { IRNG } from '../rng';\n\nconst { log } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst sequence = seq()();\nconst printer_rlogis = debug('rlogis');\n\nexport function rlogis(\n  N: number,\n  location: number = 0,\n  scale: number = 1,\n  rng: IRNG\n): number | number[] {\n  return map(sequence(N))(() => {\n    if (ISNAN(location) || !R_FINITE(scale)) {\n      return ML_ERR_return_NAN(printer_rlogis);\n    }\n\n    if (scale === 0 || !R_FINITE(location)) return location;\n    else {\n      let u: number = rng.unif_rand() as number;\n      return location + scale * log(u / (1 - u));\n    }\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/logis/rlogis.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport {\n  M_1_SQRT_2PI,\n  M_LN_SQRT_2PI,\n  ML_ERR_return_NAN,\n  R_D__0\n} from '../common/_general';\nimport { map } from '../r-func';\n\nconst { isNaN: ISNAN, POSITIVE_INFINITY: ML_POSINF } = Number;\nconst { log, exp } = Math;\nconst printer = debug('dlnorm');\n\nexport function dlnorm<T>(\n  x: T,\n  meanlog: number,\n  sdlog: number,\n  give_log: boolean\n): T {\n  return map(x)(fx => {\n    if (ISNAN(fx) || ISNAN(meanlog) || ISNAN(sdlog)) {\n      return fx + meanlog + sdlog;\n    }\n    if (sdlog <= 0) {\n      if (sdlog < 0) {\n        return ML_ERR_return_NAN(printer);\n      }\n      // sdlog == 0 :\n      return log(fx) === meanlog ? ML_POSINF : R_D__0(give_log);\n    }\n    if (fx <= 0) {\n      return R_D__0(give_log);\n    }\n    let y = (log(fx) - meanlog) / sdlog;\n    return give_log\n      ? -(M_LN_SQRT_2PI + 0.5 * y * y + log(fx * sdlog))\n      : M_1_SQRT_2PI * exp(-0.5 * y * y) / (fx * sdlog);\n    /* M_1_SQRT_2PI = 1 / sqrt(2 * pi) */\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/lognormal/dlnorm.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_DT_0 } from '../common/_general';\nimport { pnorm5 as pnorm } from '../normal/pnorm';\nimport { map } from '../r-func';\n\nconst { isNaN: ISNAN } = Number;\nconst { log } = Math;\n\nconst printer = debug('plnorm');\n\nexport function plnorm<T>(\n  x: T,\n  meanlog: number = 0,\n  sdlog: number = 1,\n  lower_tail: boolean = true,\n  log_p: boolean = false\n): T {\n\n  return map(x)(fx => {\n    if (ISNAN(fx) || ISNAN(meanlog) || ISNAN(sdlog))\n      return fx + meanlog + sdlog;\n\n    if (sdlog < 0) return ML_ERR_return_NAN(printer);\n\n    if (fx > 0) return pnorm(log(fx), meanlog, sdlog, lower_tail, log_p);\n    return R_DT_0(lower_tail, log_p);\n  }) as any;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/lognormal/plnorm.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { R_Q_P01_boundaries } from '../common/_general';\n\nimport { qnorm } from '../normal/qnorm';\nimport { map } from '../r-func';\n\nconst { exp } = Math;\nconst { isNaN: ISNAN, POSITIVE_INFINITY: ML_POSINF } = Number;\n\nexport function qlnorm<T>(\n  pp: T,\n  meanlog: number = 0,\n  sdlog: number = 1,\n  lower_tail: boolean = true,\n  log_p: boolean = false\n): T {\n  return map(pp)(p => {\n    if (ISNAN(p) || ISNAN(meanlog) || ISNAN(sdlog)) return p + meanlog + sdlog;\n\n    R_Q_P01_boundaries(lower_tail, log_p, p, 0, ML_POSINF);\n\n    return exp(qnorm(p, meanlog, sdlog, lower_tail, log_p));\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/lognormal/qlnorm.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { rnorm } from '../normal/rnorm';\nimport { arrayrify, map, seq } from '../r-func';\nimport { IRNGNormal } from '../rng/normal';\n\nconst exp = arrayrify(Math.exp);\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst printer = debug('rlnorm');\nconst sequence = seq()();\n\nexport function rlnorm(\n  N: number,\n  meanlog: number = 0,\n  sdlog: number = 1,\n  rng: IRNGNormal\n): number | number[] {\n  if (ISNAN(meanlog) || !R_FINITE(sdlog) || sdlog < 0) {\n    return map(sequence(N))(() => ML_ERR_return_NAN(printer));\n  }\n  return exp(rnorm(N, meanlog, sdlog, rng));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/lognormal/rlnorm.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\nimport { special } from '../gamma';\nimport { any, arrayrify, flatten, sum } from '../r-func';\nconst { isFinite } = Number;\n\nconst div = arrayrify((a: number, b: number) => a / b);\nconst { lgamma } = special;\nconst add = arrayrify((a: number, b: number) => a + b);\nconst log = arrayrify(Math.log);\n\nexport interface IdmultinomOptions {\n  x: number[];\n  size?: number;\n  prob: number[];\n  asLog?: boolean;\n}\n\nexport function dmultinom(\n  o: IdmultinomOptions\n): number {\n  // init\n  // first prob and x must have the same length\n  o.asLog = !!o.asLog;\n  let x: number[] = flatten(o.x).filter(f => !!f) as any;\n  //\n  let prob: number[] = flatten(o.prob) as any;\n  let badProb = !!prob.find(f => !isFinite(f) || f < 0);\n  let s = sum(prob);\n  if (badProb || s === 0) {\n    throw new Error('probabilities must be finite, non-negative and not all 0');\n  }\n  prob = flatten(div(prob, s));\n  x = x.map(Math.round);\n  if (any(x)(v => v < 0)) {\n    throw new Error('probabilities must be finite, non-negative and not all 0');\n  }\n  const N = sum(x);\n  const size = !!o.size ? o.size : N;\n  if (size !== N) {\n    throw new Error(`size:${size} != sum(x):${N}, i.e. one is wrong`);\n  }\n  const i0 = prob.map(p => p === 0);\n  if (any(i0)(v => !!v)) {\n    if (i0.find((_v, i) => x[i] !== 0)) {\n      return o.asLog ? -Infinity : 0;\n    }\n    x = x.filter((_v, i) => i0[i]);\n    prob = prob.filter((_v, i) => i0[i]);\n  }\n  // checks after cleaning\n  const errMsg: string[] = [];\n  if (prob.length <= 1) {\n    errMsg.push(`number of propabilities need to be at least 2, it is:${prob.length}`);\n  }\n  if (x.length <= 1) {\n    errMsg.push(`number of quantiles need to be at least 2, it is :${x.length}`);\n  }\n  if (x.length !== prob.length) {\n    errMsg.push(`number of effective quantiles:${x.length} is not equal to number of effective probabilities:${prob.length}.`);\n  }\n  if (errMsg.length) {\n    throw new Error(errMsg.join('\\n'));\n  }\n  const s1 = lgamma(add(x, 1));\n  const s2 = log(prob);\n  const s3 = x.map((v, i) => v * s2[i] - s1[i]);\n\n  const r = lgamma(size + 1) + sum(s3);\n  return o.asLog ? r : Math.exp(r);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/multinom/dmultinom.ts","/* GNUv3 License\n\nCopyright (c) Jacob K. F. Bogers <jkfbogers@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\nimport * as debug from 'debug';\n\nconst { isFinite: R_FINITE } = Number;\nconst { abs: fabs } = Math;\n\nimport { rbinom } from '../binomial/rbinom';\nimport { flatten, possibleScalar,  sum } from '../r-func';\nimport { IRNG } from '../rng/irng';\n\nconst printer_rmultinom = debug('rmultinom');\n//const sequence = seq()();\n\nexport function rmultinom(\n  n: number,\n  size: number,\n  prob: number | number[],\n  rng: IRNG\n): (number[]) | (number[][]) {\n  const result = Array.from({length:n}).map(() => _rmultinom(size, prob, rng));\n  return possibleScalar(result);\n}\n\n//workhorse\nfunction _rmultinom(\n  size: number,\n  prob: number | number[],\n  rng: IRNG\n): number[] {\n  /* `Return' vector  rN[1:K] {K := length(prob)}\n     *  where rN[j] ~ Bin(n, prob[j]) ,  sum_j rN[j] == n,  sum_j prob[j] == 1,\n     */\n  const rN: number[] = [];\n  let p = flatten(prob);\n  const K = p.length;\n  //let pp;\n  /* This calculation is sensitive to exact values, so we try to\n       ensure that the calculations are as accurate as possible\n       so different platforms are more likely to give the same\n       result. */\n\n  if (p.length === 0) {\n    printer_rmultinom('list of probabilities cannot be empty');\n    return rN;\n  }\n  if (size < 0) {\n    printer_rmultinom('Illegal Argument:size is negative');\n    rN.splice(0);\n    return rN;\n  }\n  /* Note: prob[K] is only used here for checking  sum_k prob[k] = 1 ;\n     *       Could make loop one shorter and drop that check !\n     */\n  //check probabilities\n  if (p.find(pp => !R_FINITE(pp) || pp < 0)) {\n    printer_rmultinom('some propbabilities are invalid or negative numbers');\n    rN.splice(0);\n    return rN;\n  }\n\n  rN.splice(0, rN.length, ...new Array(K).fill(0)); //remove, insert and init\n\n  if (size === 0) {\n    return rN;\n  }\n  /* Generate the first K-1 obs. via binomials */\n  // context vars for the next loop\n  let _size = size;\n  let p_tot = sum(p);\n\n  printer_rmultinom('%o', { p, p_tot, _size, K, rN });\n  for (let k = 0; k < K - 1; k++) {\n    //can happen, protect against devide by zero\n    if (fabs(p_tot) < Number.EPSILON) {\n      rN[k] = _size;\n      _size = 0;\n      p_tot = 0;\n      continue;\n    }\n\n    const pp = p[k] / p_tot;\n\n    if (pp === 0) {\n      rN[k] = 0;\n      continue;\n    }\n    // nothing left, rest will be zero\n    if (_size === 0) {\n      rN[k] = 0;\n      continue;\n    }\n    /* printf(\"[%d] %.17f\\n\", k+1, pp); */\n    rN[k] = pp < 1 ? (rbinom(1, _size, pp, rng) as number) : _size;\n    //adjust size\n    _size -= rN[k];\n    //adjust probabilities\n    p_tot -= p[k];\n    printer_rmultinom('%o', { p_tot, _size, k, rN });\n  }\n  rN[K - 1] = _size; //left over\n  return rN;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/multinom/rmultinom.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 19, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000-2014 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *\tThe quantile function of the Poisson distribution.\n *\n *  METHOD\n *\n *\tUses the Cornish-Fisher Expansion to include a skewness\n *\tcorrection to a normal approximation.  This gives an\n *\tinitial value which never seems to be off by more than\n *\t1 or 2.\t A search is then conducted of values close to\n *\tthis initial start point.\n */\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_Q_P01_boundaries } from '../common/_general';\n\nimport { NumberW } from '../common/toms708';\n\nimport { ppois } from './ppois';\n\nimport { qnorm } from '../normal/qnorm';\n\nimport { R_DT_qIv } from '../exp/expm1'; \n\nimport { map } from '../r-func';\n\nconst { max: fmax2, sqrt, floor, round: nearbyint } = Math;\nconst {\n  isNaN: ISNAN,\n  EPSILON: DBL_EPSILON,\n  POSITIVE_INFINITY: ML_POSINF,\n  isFinite: R_FINITE\n} = Number;\n\nfunction do_search(\n  y: number,\n  z: NumberW,\n  p: number,\n  lambda: number,\n  incr: number\n): number {\n  if (z.val >= p) {\n    // search to the left\n    while (true) {\n      if (y === 0 || (z.val = ppois(y - incr, lambda, true, false)) < p)\n        return y;\n      y = fmax2(0, y - incr);\n    }\n  } else {\n    // search to the right\n\n    while (true) {\n      y = y + incr;\n      if ((z.val = ppois(y, lambda, true, false)) >= p) return y;\n    }\n  }\n}\n\nexport function qpois<T>(\n  pp: T,\n  lambda: number,\n  lower_tail: boolean = true,\n  log_p: boolean = false\n  //normal: INormal\n): T {\n  return map(pp)(p => {\n    return _qpois(p, lambda, lower_tail, log_p /*, normal*/);\n  }) as any;\n}\n\nconst printer_qpois = debug('_qpois');\n\nfunction _qpois(\n  p: number,\n  lambda: number,\n  lower_tail: boolean,\n  log_p: boolean\n  // normal: INormal\n): number {\n  let mu;\n  let sigma;\n  let gamma;\n  let y;\n  let z = new NumberW(0);\n\n  if (ISNAN(p) || ISNAN(lambda)) return p + lambda;\n\n  if (!R_FINITE(lambda)) {\n    return ML_ERR_return_NAN(printer_qpois);\n  }\n  if (lambda < 0) return ML_ERR_return_NAN(printer_qpois);\n  if (lambda === 0) return 0;\n\n  let rc = R_Q_P01_boundaries(lower_tail, log_p, p, 0, ML_POSINF);\n  if (rc !== undefined) {\n    return rc;\n  }\n\n  mu = lambda;\n  sigma = sqrt(lambda);\n  /* gamma = sigma; PR#8058 should be kurtosis which is mu^-0.5 */\n  gamma = 1.0 / sigma;\n\n  /* Note : \"same\" code in qpois.c, qbinom.c, qnbinom.c --\n     * FIXME: This is far from optimal [cancellation for p ~= 1, etc]: */\n  if (!lower_tail || log_p) {\n    p = R_DT_qIv(lower_tail, log_p, p); /* need check again (cancellation!): */\n    if (p === 0) return 0;\n    if (p === 1) return ML_POSINF;\n  }\n  /* temporary hack --- FIXME --- */\n  if (p + 1.01 * DBL_EPSILON >= 1) return ML_POSINF;\n\n  /* y := approx.value (Cornish-Fisher expansion) :  */\n  z.val = qnorm(p, 0, 1, /*lower_tail*/ true, /*log_p*/ false);\n\n  y = nearbyint(mu + sigma * (z.val + gamma * (z.val * z.val - 1) / 6));\n\n  z.val = ppois(y, lambda, /*lower_tail*/ true, /*log_p*/ false);\n\n  /* fuzz to ensure left continuity; 1 - 1e-7 may lose too much : */\n  p *= 1 - 64 * DBL_EPSILON;\n\n  /* If the mean is not too large a simple search is OK */\n  if (lambda < 1e5) return do_search(y, z, p, lambda, 1);\n  /* Otherwise be a bit cleverer in the search */\n  {\n    let incr = floor(y * 0.001);\n    let oldincr;\n    do {\n      oldincr = incr;\n      y = do_search(y, z, p, lambda, incr);\n      incr = fmax2(1, floor(incr / 100));\n    } while (oldincr > 1 && incr > lambda * 1e-15);\n    return y;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/poisson/qpois.ts","'use strict';\n\n/* ===================  Knuth TAOCP  2002 ========================== */\n\n/*    This program by D E Knuth is in the public domain and freely copyable.\n *    It is explained in Seminumerical Algorithms, 3rd edition, Section 3.6\n *    (or in the errata to the 2nd edition --- see\n *        http://www-cs-faculty.stanford.edu/~knuth/taocp.html\n *    in the changes to Volume 2 on pages 171 and following).              */\n\n/*    N.B. The MODIFICATIONS introduced in the 9th printing (2002) are\n      included here; there's no backwards compatibility with the original. */\n\n    \n\n\n\nimport { fixup } from '../fixup';\nimport { IRNG } from '../irng';\nimport { IRNGType } from '../irng-type';\nimport { timeseed } from '../timeseed';\n\nconst QUALITY = 1009; /* recommended quality level for high-res use */\nconst SEED_LEN = 101;\nconst LL = 37; /* the short lag */\nconst KK = 100; /* the long lag */\nconst TT = 70; /* guaranteed separation between streams */\nconst MM = 1073741824; /* the modulus */\n\nfunction mod_diff(x: number, y: number) {\n  const d = new Uint32Array(3); // yes we need to do 32 bit all the way\n  d[0] = x;\n  d[1] = y;\n\n  d[2] = (d[0] - d[1]) & (MM - 1);\n  return d[2];\n}\n\nfunction is_odd(x: number): boolean {\n  return x % 2 === 1;\n}\n\n\nexport class KnuthTAOCP2002 extends IRNG {\n  //\n  //\n  private qualityBuffer: ArrayBuffer;\n  private ran_arr_buf: Uint32Array;\n  //\n  //\n\n  private m_seed: Uint32Array;\n  private ran_x: Uint32Array;\n\n  private get KT_pos() {\n    return this.m_seed[100];\n  }\n\n  private set KT_pos(v: number) {\n    this.m_seed[100] = v;\n  }\n\n  private ran_array(\n    aa: Uint32Array,\n    n: number /* put n new random numbers in aa */\n  ) {\n    let i: number;\n    let j: number;\n    for (j = 0; j < KK; j++) {\n      aa[j] = this.ran_x[j];\n    }\n    for (; j < n; j++) {\n      aa[j] = mod_diff(aa[j - KK], aa[j - LL]);\n    }\n    for (i = 0; i < LL; i++, j++) {\n      this.ran_x[i] = mod_diff(aa[j - KK], aa[j - LL]);\n    }\n    for (; i < KK; i++, j++) {\n      this.ran_x[i] = mod_diff(aa[j - KK], this.ran_x[i - LL]);\n    }\n  }\n\n  private ran_arr_cycle() {\n    this.ran_array(this.ran_arr_buf, QUALITY);\n    this.ran_arr_buf[KK] = -1;\n  }\n\n  private ran_start(_seed: number) {\n    //\n    let t: number;\n    let j: number;\n    //\n    const x = new Uint32Array(KK + KK - 1);\n    //\n    const ss = new Uint32Array(1);\n    const se = new Uint32Array([_seed]);\n    //\n    ss[0] = (se[0] + 2) & (MM - 2);\n    //\n    for (j = 0; j < KK; j++) {\n      x[j] = ss[0]; /* bootstrap the buffer */\n      ss[0] = ss[0] << 1;\n      if (ss[0] >= MM) {\n        ss[0] = ss[0] - (MM - 2); /* cyclic shift 29 bits */\n      }\n    }\n    //\n    //\n    //\n    x[1]++; /* make x[1] (and only x[1]) odd */\n    for (ss[0] = se[0] & (MM - 1), t = TT - 1; t; ) {\n      for (j = KK - 1; j > 0; j--) {\n        x[j + j] = x[j];\n        x[j + j - 1] = 0; /* \"square\" */\n      }\n      for (j = KK + KK - 2; j >= KK; j--) {\n        x[j - (KK - LL)] = mod_diff(x[j - (KK - LL)], x[j]);\n        x[j - KK] = mod_diff(x[j - KK], x[j]);\n      }\n      if (is_odd(ss[0])) {\n        /* \"multiply by z\" */\n        for (j = KK; j > 0; j--) {\n          x[j] = x[j - 1];\n        }\n        x[0] = x[KK]; /* shift the buffer cyclically */\n        x[LL] = mod_diff(x[LL], x[KK]);\n      }\n      if (ss[0]) {\n        ss[0] = ss[0] >>> 1;\n      } else {\n        t--;\n      }\n    }\n    for (j = 0; j < LL; j++) {\n      this.ran_x[j + KK - LL] = x[j];\n    }\n    for (; j < KK; j++) {\n      this.ran_x[j - LL] = x[j];\n    }\n    for (j = 0; j < 10; j++) {\n      this.ran_array(x, KK + KK - 1); /* warm things up */\n    }\n  }\n\n  private RNG_Init_KT2(_seed: number) {\n    this.ran_start(_seed % 1073741821);\n    this.KT_pos = 100;\n  }\n\n  private KT_next() {\n    if (this.KT_pos >= 100) {\n      this.ran_arr_cycle();\n      this.KT_pos = 0;\n    }\n    return this.ran_x[this.KT_pos++];\n  }\n\n  constructor(_seed: number = timeseed()) {\n    super(_seed);\n  }\n\n  public _setup() {\n    this._kind = IRNGType.KNUTH_TAOCP2002;\n    this._name = 'Knuth-TAOCP-2002';\n    this.qualityBuffer = new ArrayBuffer(QUALITY * 4);\n    this.ran_arr_buf = new Uint32Array(this.qualityBuffer);\n    const buf = new ArrayBuffer(SEED_LEN * 4);\n    this.m_seed = new Uint32Array(buf).fill(0);\n    this.ran_x = this.m_seed;\n  }\n\n  protected internal_unif_rand(): number {\n    const KT = 9.31322574615479e-10;\n    return fixup(this.KT_next() * KT);\n  }\n\n  public init(_seed: number =  timeseed()) {\n    /* Initial scrambling */\n    const s = new Uint32Array([0]);\n    s[0] = _seed;\n    for (let j = 0; j < 50; j++) {\n      s[0] = 69069 * s[0] + 1;\n    }\n\n    this.RNG_Init_KT2(s[0]);\n    super.init(_seed);\n  }\n  public set seed(_seed: number[]) {\n\n    if (_seed.length > this.m_seed.length || _seed.length === 0) {\n      this.init(timeseed());\n      return;\n    }\n    this.m_seed.set(_seed);\n  }\n\n  public get seed() {\n    return Array.from(this.m_seed);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/knuth-taocp-2002/index.ts","'use strict';\n/*\n *  Javascript conversion by Jacob Bogers Nov 2017\n *  jkfbogers@gmail.com\n * \n   The following code was taken from earlier versions of\n   http://www-cs-faculty.stanford.edu/~knuth/programs/rng.c-old\n   http://www-cs-faculty.stanford.edu/~knuth/programs/rng.c\n*/\n\n\nimport { fixup } from '../fixup';\nimport { IRNG } from '../irng';\nimport { IRNGType } from '../irng-type';\nimport { timeseed } from '../timeseed';\nimport { TAOCP1997init } from './taocp-1997-init';\n/* helpers */\n/* helpers */\n/* helpers */\nconst MM = 1 << 30; /* the modulus */\nconst KK = 100; /* the long lag */\nconst LL = 37; /* the short lag */\nconst QUALITY = 1009; /* recommended quality level for high-res use */\nconst qualityBuffer = new ArrayBuffer(QUALITY * 4);\nconst ran_arr_buf = new Uint32Array(qualityBuffer); //uint32\nconst KT = 9.31322574615479e-10; /* = 2^-30 */\nconst mod_diff = (x: number, y: number) => (x - y) & (MM - 1);\n//const is_odd = (x: number) => x & 1; /* units bit of x */\n\nconst SEED_LEN = 101;\n\nexport class KnuthTAOCP extends IRNG {\n  private buf: ArrayBuffer;\n\n  private m_seed: Int32Array;\n\n  private get KT_pos() {\n    return this.m_seed[100];\n  }\n\n  private set KT_pos(v: number) {\n    this.m_seed[100] = v;\n  }\n\n  private fixupSeeds(): void {\n    if (this.KT_pos <= 0) this.KT_pos = 100;\n    /* check for all zeroes */\n    const s = this.m_seed.slice(0, 100);\n    if (s.find(v => !!v) === undefined) this.init(timeseed());\n    return;\n  }\n\n  private KT_next() {\n    const s = this.m_seed;\n    if (this.KT_pos >= 100) {\n      this.ran_arr_cycle();\n      this.KT_pos = 0;\n    }\n    return s[this.KT_pos++];\n  }\n\n  private RNG_Init_R_KT(_seed: number) {\n    this.m_seed.set(TAOCP1997init(_seed % 1073741821));\n    this.KT_pos = 100;\n    this.fixupSeeds();\n  }\n\n  private ran_arr_cycle(): number {\n    this.ran_array(ran_arr_buf, QUALITY);\n    ran_arr_buf[KK] = -1;\n    return ran_arr_buf[0];\n  }\n\n  private ran_array(aa: Uint32Array, n: number) {\n    let i;\n    let j;\n    const ran_x = this.m_seed;\n    for (j = 0; j < KK; j++) aa[j] = ran_x[j];\n    for (; j < n; j++) aa[j] = mod_diff(aa[j - KK], aa[j - LL]);\n    for (i = 0; i < LL; i++, j++) ran_x[i] = mod_diff(aa[j - KK], aa[j - LL]);\n    for (; i < KK; i++, j++) ran_x[i] = mod_diff(aa[j - KK], ran_x[i - LL]);\n  }\n\n  public constructor(_seed = timeseed()) {\n    super(_seed);\n  }\n\n  public _setup() {\n    this.buf = new ArrayBuffer(SEED_LEN * 4);\n    this._kind = IRNGType.KNUTH_TAOCP;\n    this._name = 'Knuth-TAOCP';\n    this.m_seed = new Int32Array(this.buf).fill(0);\n  }\n\n  public init(_seed: number  =  timeseed()) {\n    /* Initial scrambling */\n    const s = new Uint32Array([0]);\n    s[0] = _seed;\n    for (let j = 0; j < 50; j++) {\n      s[0] = 69069 * s[0] + 1;\n    }\n    this.RNG_Init_R_KT(s[0]);\n    super.init(_seed);\n  }\n\n  public set seed(_seed: number[]) {\n  \n\n    if (_seed.length > this.m_seed.length || _seed.length === 0) {\n      this.init(timeseed());\n      return;\n    }\n    this.m_seed.set(_seed);\n  }\n\n  protected internal_unif_rand(): number {\n     return fixup(this.KT_next() * KT);\n  }\n\n  public get seed() {\n    return Array.from(this.m_seed);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/knuth-taocp/index.ts","'use strict';\n/** \n * Ported by Jacob Bogers nov 2017\n#  File src/main/R/base/TAOCP.R\n#  Part of the R package, http://www.R-project.org\n#  Copyright (C) 2007 R Development Core Team\n#\n#  This program is free software; you can redistribute it and/or modify\n#  it under the terms of the GNU General Public License as published by\n#  the Free Software Foundation; either version 2 of the License, or\n#  (at your option) any later version.\n#\n#  This program is distributed in the hope that it will be useful,\n#  but WITHOUT ANY WARRANTY; without even the implied warranty of\n#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n#  GNU General Public License for more details.\n#\n#  A copy of the GNU General Public License is available at\n#  http://www.r-project.org/Licenses/\n*/\nimport { seq } from '../../r-func';\n\nconst { trunc } = Math;\n\n\nexport function TAOCP1997init(seed: number): Uint32Array {\n  const KK = 100;\n  const LL = 37;\n  const MM = 1073741824; // pow(2, 30);\n  const MMF = 1073741824 - 1; //\n  const KKK = 199; //KK + KK - 1;\n  const KKL = 63; //KK - LL;\n\n  let ss = seed - seed % 2 + 2;\n  const X = new Uint32Array(KKK);\n  const arr = seq(-1)();\n  for (let j of arr(1, KK)) {\n    X[j] = ss;\n    ss = ss + ss;\n    if (ss >= MM) ss = ss - MM + 2;\n  }\n  X[1]++; //not js is zero based!!\n  ss = seed;\n  let T = 69;\n\n  while (T > 0) {\n    //console.log('TopT', T);\n    for (let j of arr(KK, 2)) {\n      X[j + j] = X[j];\n    }\n    for (let j of arr(KKK, KKL + 1, -2)) {\n      X[KKK - j] = X[j] - X[j] % 2;\n    }\n\n    for (let j of arr(KKK, KK + 1)) {\n      //console.log({ j2: j - KKL, j, x:X[j]});\n      if (X[j] % 2 === 1) {\n        X[j - KKL] = (X[j - KKL] - X[j]) & MMF;\n        X[j - KK] = (X[j - KK] - X[j]) & MMF;\n      }\n    }\n\n    if (ss & 1) {\n      for (let j of arr(KK, 1)) {\n        X[j + 1] = X[j];\n      }\n      //console.log({xb:X[0], Xk:X[KK]} );\n      X[1 - 1] = X[KK + 1 - 1];\n      //  console.log({_xb:X[0], _Xk:X[KK]} );\n      //  console.log('');\n\n      if (X[KK + 1 - 1] % 2 === 1) {\n        X[LL + 1 - 1] = (X[LL + 1 - 1] - X[KK + 1 - 1]) & MMF;\n      }\n    }\n\n    if (ss) {\n      ss = trunc(ss / 2);\n    } else {\n      T = T - 1;\n    }\n  }\n\n  const res = new Uint32Array(KK);\n  res.set(X.slice(LL, KK));\n  res.set(X.slice(0, LL), KK - LL);\n  return res;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/knuth-taocp/taocp-1997-init.ts","'use strict';\n\n\nimport { IRNG } from '../irng';\nimport { IRNGType } from '../irng-type';\nimport { timeseed } from '../timeseed';\n\nconst SEED_LEN = 6;\nconst a12 = 1403580; //least 64 bits\nconst a13n = 810728;\nconst m2 = 4294944443;\nconst m1 = 4294967087;\nconst normc = 2.328306549295727688e-10;\nconst a21 = 527612;\nconst a23n = 1370589;\n\nexport class LecuyerCMRG extends IRNG {\n  private m_seed: Int32Array;\n\n\n  constructor(_seed: number = timeseed()) {\n    super(_seed);\n  }\n\n  public _setup() {\n    this._kind = IRNGType.LECUYER_CMRG;\n    this._name = \"L'Ecuyer-CMRG\";\n    this.m_seed = new Int32Array(SEED_LEN).fill(0);\n  }\n\n  public init(se: number =  timeseed()) {\n    /* Initial scrambling */\n    const s = new Int32Array([0]);\n\n    s[0] = se;\n    for (let j = 0; j < 50; j++) {\n      s[0] = 69069 * s[0] + 1;\n    }\n    for (let j = 0; j < this.m_seed.length; j++) {\n      s[0] = 69069 * s[0] + 1;\n      while (s[0] >= m2) {\n        s[0] = 69069 * s[0] + 1;\n      }\n\n      this.m_seed[j] = s[0];\n    }\n    super.init(se);\n  }\n\n  protected internal_unif_rand(): number {\n        \n    const II = this.m_seed;\n   \n    //const pp2 = pow.bind(pow, 2);\n    //const break32 = pp2(32);\n\n    let k;\n    let p1;\n    let p2;\n\n    p1 = a12 * new Uint32Array([II[1]])[0] - a13n * new Uint32Array([II[0]])[0];\n    //here, p1 is around 50 bits, worst case\n    k = new Int32Array([p1 / m1])[0];\n    // here because k is capped to be 32 bits signed\n\n    p1 -= k * m1;\n    // here k*m1 is around 32*32 is 64 bits\n\n    if (p1 < 0.0) p1 += m1;\n\n    II[0] = II[1];\n    II[1] = II[2];\n    II[2] = new Int32Array([p1])[0];\n\n    p2 = a21 * new Uint32Array([II[5]])[0] - a23n * new Uint32Array([II[3]])[0];\n\n    k = new Int32Array([p2 / m2])[0];\n    p2 -= k * m2;\n    if (p2 < 0.0) p2 += m2;\n    II[3] = II[4];\n    II[4] = II[5];\n    II[5] = new Int32Array([p2])[0];\n\n    return (p1 > p2 ? p1 - p2 : p1 - p2 + m1) * normc;\n  }\n\n  public set seed(_seed: number[]) {\n   \n\n    if (_seed.length > this.m_seed.length || _seed.length === 0) {\n      this.init(timeseed());\n      return;\n    }\n    this.m_seed.set(_seed);\n  }\n\n  public get seed() {\n    return Array.from(this.m_seed);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/lecuyer-cmrg/index.ts","'use strict';\n\n/*\n *  Javascript conversion by Jacob Bogers Nov 2017\n *  jkfbogers@gmail.com\n * \n *  R : A Computer Language for Statistical Data Analysis\n *  Copyright (C) 1995, 1996  Robert Gentleman and Ross Ihaka\n *  Copyright (C) 1997--2016  The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n */\n\n\nimport { fixup, i2_32m1 } from '../fixup';\nimport { IRNG } from '../irng';\nimport { IRNGType } from '../irng-type';\nimport { timeseed } from '../timeseed';\n\nconst SEED_LEN = 2;\n//const buf = new ArrayBuffer(SEED_LEN * 4);\n\nexport class MarsagliaMultiCarry extends IRNG {\n\n  private m_seed: Int32Array;\n\n  private fixupSeeds(): void {\n    const s = this.m_seed;\n    if (s[0] === 0) s[0] = 1;\n    if (s[1] === 0) s[1] = 1;\n    return;\n  }\n\n  public constructor(_seed: number = timeseed()) {\n    super(_seed);\n  }\n\n  public init(_seed: number = timeseed()) {\n    /* Initial scrambling */\n    const s = new Int32Array([_seed]);\n    for (let j = 0; j < 50; j++) {\n      s[0] = 69069 * s[0] + 1;\n    }\n    for (let j = 0; j < this.m_seed.length; j++) {\n      s[0] = 69069 * s[0] + 1;\n      this.m_seed[j] = s[0];\n    }\n    this.fixupSeeds();\n    super.init(_seed);\n  }\n\n  public _setup() {\n    this._kind = IRNGType.MARSAGLIA_MULTICARRY;\n    this._name = 'Marsaglia-MultiCarry';\n    this.m_seed = new Int32Array( new ArrayBuffer(SEED_LEN * 4)).fill(0);\n  }\n\n  protected internal_unif_rand(): number {\n    const s = this.m_seed;\n    s[0] = 36969 * (s[0] & 65535) + (s[0] >>> 16);\n    s[1] = 18000 * (s[1] & 65535) + (s[1] >>> 16);\n\n    const un = new Uint32Array(SEED_LEN);\n    un[0] = s[0] << 16;\n    un[1] = s[1] & 0xffff;\n    un[0] = un[0] ^ un[1];\n\n    //const i2_32m1 = 2.328306437080797e-10; /* = 1/(2^32 - 1) */\n\n    return fixup(un[0] * i2_32m1); /* in [0,1) */\n  }\n\n  public set seed(_seed: number[]) {\n  \n\n    if (_seed.length > this.m_seed.length || _seed.length === 0) {\n      this.init(timeseed());\n      return;\n    }\n    this.m_seed.set(_seed);\n  }\n\n  public get seed() {\n    return Array.from(this.m_seed);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/marsaglia-multicarry/index.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n *  ORGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998   Ross Ihaka\n *  Copyright (C) 2000-9 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *    #include <Rmath.h>\n *    double norm_rand(void);\n *\n *  DESCRIPTION\n *\n *    Random variates from the STANDARD normal distribution  N(0,1).\n *\n * Is called from  rnorm(..), but also rt(), rf(), rgamma(), ...\n */\n\n/*\n *  REFERENCE\n *\n *    Ahrens, J.H. and Dieter, U.\n *    Extensions of Forsythe's method for random sampling from\n *    the normal distribution.\n *    Math. Comput. 27, 927-937.\n *\n *    The definitions of the constants a[k], d[k], t[k] and\n *    h[k] are according to the abovementioned article\n */\n\n/*-----------------------------------------------------------*/\n\nimport { IRNG } from '../'; \nimport { MersenneTwister } from '../mersenne-twister';\nimport { IRNGNormal } from './inormal-rng';\n\nconst a = [\n  0.0,\n  0.03917609,\n  0.07841241,\n  0.1177699,\n  0.1573107,\n  0.1970991,\n  0.2372021,\n  0.2776904,\n  0.3186394,\n  0.3601299,\n  0.4022501,\n  0.4450965,\n  0.4887764,\n  0.5334097,\n  0.5791322,\n  0.626099,\n  0.6744898,\n  0.7245144,\n  0.7764218,\n  0.8305109,\n  0.8871466,\n  0.9467818,\n  1.00999,\n  1.077516,\n  1.150349,\n  1.229859,\n  1.318011,\n  1.417797,\n  1.534121,\n  1.67594,\n  1.862732,\n  2.153875\n];\n\nconst d = [\n  0.0,\n  0.0,\n  0.0,\n  0.0,\n  0.0,\n  0.2636843,\n  0.2425085,\n  0.2255674,\n  0.2116342,\n  0.1999243,\n  0.1899108,\n  0.1812252,\n  0.1736014,\n  0.1668419,\n  0.1607967,\n  0.1553497,\n  0.1504094,\n  0.1459026,\n  0.14177,\n  0.1379632,\n  0.1344418,\n  0.1311722,\n  0.128126,\n  0.1252791,\n  0.1226109,\n  0.1201036,\n  0.1177417,\n  0.1155119,\n  0.1134023,\n  0.1114027,\n  0.1095039\n];\n\nconst t = [\n  7.673828e-4,\n  0.00230687,\n  0.003860618,\n  0.005438454,\n  0.007050699,\n  0.008708396,\n  0.01042357,\n  0.01220953,\n  0.01408125,\n  0.01605579,\n  0.0181529,\n  0.02039573,\n  0.02281177,\n  0.02543407,\n  0.02830296,\n  0.03146822,\n  0.03499233,\n  0.03895483,\n  0.04345878,\n  0.04864035,\n  0.05468334,\n  0.06184222,\n  0.07047983,\n  0.08113195,\n  0.09462444,\n  0.1123001,\n  0.136498,\n  0.1716886,\n  0.2276241,\n  0.330498,\n  0.5847031\n];\n\nconst h = [\n  0.03920617,\n  0.03932705,\n  0.03950999,\n  0.03975703,\n  0.04007093,\n  0.04045533,\n  0.04091481,\n  0.04145507,\n  0.04208311,\n  0.04280748,\n  0.04363863,\n  0.04458932,\n  0.04567523,\n  0.04691571,\n  0.04833487,\n  0.04996298,\n  0.05183859,\n  0.05401138,\n  0.05654656,\n  0.0595313,\n  0.06308489,\n  0.06737503,\n  0.07264544,\n  0.07926471,\n  0.08781922,\n  0.09930398,\n  0.1155599,\n  0.1404344,\n  0.1836142,\n  0.2790016,\n  0.7010474\n];\n\nexport class AhrensDieter extends IRNGNormal {\n  constructor(_rng: IRNG = new MersenneTwister(0) ) {\n    super(_rng);\n  }\n\n  protected internal_norm_rand() {\n    let u1: number = this.rng.unif_rand() as number;\n    let s = 0.0;\n    let w;\n    let aa;\n    let tt;\n    let u2;\n    let y;\n    if (u1 > 0.5) {\n      s = 1.0;\n    }\n    u1 = u1 + u1 - s;\n    u1 *= 32.0;\n\n    const i = new Int32Array([u1]);\n    if (i[0] === 32) i[0] = 31;\n    if (i[0] !== 0) {\n      u2 = u1 - i[0];\n      aa = a[i[0] - 1];\n      while (u2 <= t[i[0] - 1]) {\n        u1 = this.rng.unif_rand() as number;\n        w = u1 * (a[i[0]] - aa);\n        tt = (w * 0.5 + aa) * w;\n        for (;;) {\n          if (u2 > tt) {\n            // this used to be a goto))\n            y = aa + w;\n            return s === 1.0 ? -y : y;\n          }\n          u1 = this.rng.unif_rand() as number;\n          if (u2 < u1) break;\n          tt = u1;\n          u2 = this.rng.unif_rand();\n        }\n        u2 = this.rng.unif_rand();\n      }\n      w = (u2 - t[i[0] - 1]) * h[i[0] - 1];\n    } else {\n      i[0] = 6;\n      aa = a[31];\n      for (;;) {\n        u1 = u1 + u1;\n        if (u1 >= 1.0) break;\n        aa = aa + d[i[0] - 1];\n        i[0] = i[0] + 1;\n      }\n      u1 = (u1 - 1.0) as number;\n      // used to be a goto\n      jump: for (;;) {\n        w = u1 * d[i[0] - 1];\n        tt = (w * 0.5 + aa) * w;\n        for (;;) {\n          u2 = this.rng.unif_rand() as number;\n          if (u2 > tt) break jump;\n          u1 = this.rng.unif_rand() as number;\n          if (u2 < u1) break;\n          tt = u1;\n        }\n        u1 = this.rng.unif_rand() as number;\n      }\n      //jump:; (goto label)\n    }\n    // deliver: (goto label)\n    y = aa + w;\n    return s === 1.0 ? -y : y;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/normal/ahrens_dieter.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n *  ORGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998   Ross Ihaka\n *  Copyright (C) 2000-9 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *    #include <Rmath.h>\n *    double norm_rand(void);\n *\n *  DESCRIPTION\n *\n *    Random variates from the STANDARD normal distribution  N(0,1).\n *\n * Is called from  rnorm(..), but also rt(), rf(), rgamma(), ...\n */\n\n/*\n *  REFERENCE\n *\n *    Ahrens, J.H. and Dieter, U.\n *    Extensions of Forsythe's method for random sampling from\n *    the normal distribution.\n *    Math. Comput. 27, 927-937.\n *\n *    The definitions of the constants a[k], d[k], t[k] and\n *    h[k] are according to the abovementioned article\n */\n\n/*-----------------------------------------------------------*/\n\nimport { IRNG } from '../';\nimport { MersenneTwister } from '../mersenne-twister';\nimport { IRNGNormal } from './inormal-rng';\n\nconst { log, sqrt, cos, sin } = Math;\n\nconst DBL_MIN = 2.22507e-308;\nconst M_PI = 3.14159265358979323846264338327950288;\n\nexport class BoxMuller extends IRNGNormal {\n  private BM_norm_keep: number;\n\n  private reset() {\n    this.BM_norm_keep = 0;\n  }\n\n  constructor(_rng: IRNG = new MersenneTwister(0) ) {\n    super(_rng);\n    this.BM_norm_keep = 0;\n    _rng.register('INIT', this.reset.bind(this));\n  }\n\n  protected internal_norm_rand() {\n    let s = 0.0;\n    let theta = 0;\n\n    if (this.BM_norm_keep !== 0.0) {\n      /* An exact test is intentional */\n      s = this.BM_norm_keep;\n      this.BM_norm_keep = 0.0;\n      return s;\n    } else {\n      theta = 2 * M_PI * (this.rng.unif_rand() as number);\n      let R =\n        sqrt(-2 * log(this.rng.unif_rand() as number)) +\n        10 * DBL_MIN; /* ensure non-zero */\n      this.BM_norm_keep = R * sin(theta);\n      return R * cos(theta);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/normal/box-muller.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n *  ORGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998   Ross Ihaka\n *  Copyright (C) 2000-9 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *    #include <Rmath.h>\n *    double norm_rand(void);\n *\n *  DESCRIPTION\n *\n *    Random variates from the STANDARD normal distribution  N(0,1).\n *\n * Is called from  rnorm(..), but also rt(), rf(), rgamma(), ...\n */\n\n/*\n *  REFERENCE\n *\n *    Ahrens, J.H. and Dieter, U.\n *    Extensions of Forsythe's method for random sampling from\n *    the normal distribution.\n *    Math. Comput. 27, 927-937.\n *\n *    The definitions of the constants a[k], d[k], t[k] and\n *    h[k] are according to the abovementioned article\n */\n\n/*-----------------------------------------------------------*/\n\nimport { IRNG } from '../';\nimport { MersenneTwister } from '../mersenne-twister';\nimport { IRNGNormal } from './inormal-rng';\n\nconst { log, sqrt, min: fmin2, max: fmax2, abs: fabs, exp } = Math;\n\nexport class BuggyKindermanRamage extends IRNGNormal {\n  constructor(_rng: IRNG  = new MersenneTwister(0) ) {\n    super(_rng);\n  }\n\n  protected internal_norm_rand() {\n    /* see Reference above */\n    /* note: this has problems, but is retained for\n         * reproducibility of older codes, with the same\n         * numeric code */\n\n    const A = 2.216035867166471;\n    const C1 = 0.398942280401433;\n    const C2 = 0.180025191068563;\n\n    const g = (x: number) => C1 * exp(-x * x / 2.0) - C2 * (A - x);\n\n    const u1 = this.rng.unif_rand() as number;\n    let u2: number;\n    let u3: number;\n    let tt: number;\n    if (u1 < 0.884070402298758) {\n      let u2 = this.rng.unif_rand() as number;\n      return A * (1.1311316354418 * u1 + u2 - 1);\n    }\n\n    if (u1 >= 0.973310954173898) {\n      /* tail: */\n      for (;;) {\n        u2 = this.rng.unif_rand() as number;\n        u3 = this.rng.unif_rand() as number;\n        tt = A * A - 2 * log(u3);\n        if (u2 * u2 < A * A / tt)\n          return u1 < 0.986655477086949 ? sqrt(tt) : -sqrt(tt);\n      }\n    }\n\n    if (u1 >= 0.958720824790463) {\n      /* region3: */\n      for (;;) {\n        u2 = this.rng.unif_rand() as number;\n        u3 = this.rng.unif_rand() as number;\n        tt = A - 0.63083480192196 * fmin2(u2, u3);\n        if (fmax2(u2, u3) <= 0.755591531667601) return u2 < u3 ? tt : -tt;\n        if (0.034240503750111 * fabs(u2 - u3) <= g(tt))\n          return u2 < u3 ? tt : -tt;\n      }\n    }\n\n    if (u1 >= 0.911312780288703) {\n      /* region2: */\n      for (;;) {\n        u2 = this.rng.unif_rand() as number;\n        u3 = this.rng.unif_rand() as number;\n        tt = 0.479727404222441 + 1.10547366102207 * fmin2(u2, u3);\n        if (fmax2(u2, u3) <= 0.87283497667179) return u2 < u3 ? tt : -tt;\n        if (0.049264496373128 * fabs(u2 - u3) <= g(tt))\n          return u2 < u3 ? tt : -tt;\n      }\n    }\n\n    /* ELSE\t region1: */\n    for (;;) {\n      u2 = this.rng.unif_rand() as number;\n      u3 = this.rng.unif_rand() as number;\n      tt = 0.479727404222441 - 0.59550713801594 * fmin2(u2, u3);\n      if (fmax2(u2, u3) <= 0.805577924423817) return u2 < u3 ? tt : -tt;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/normal/buggy-kinderman-ramage.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n *  ORGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998   Ross Ihaka\n *  Copyright (C) 2000-9 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *    #include <Rmath.h>\n *    double norm_rand(void);\n *\n *  DESCRIPTION\n *\n *    Random variates from the STANDARD normal distribution  N(0,1).\n *\n * Is called from  rnorm(..), but also rt(), rf(), rgamma(), ...\n */\n\n/*\n *  REFERENCE\n *\n *    Ahrens, J.H. and Dieter, U.\n *    Extensions of Forsythe's method for random sampling from\n *    the normal distribution.\n *    Math. Comput. 27, 927-937.\n *\n *    The definitions of the constants a[k], d[k], t[k] and\n *    h[k] are according to the abovementioned article\n */\n\n/*-----------------------------------------------------------*/\n\nimport { IRNG } from '../';\nimport { MersenneTwister } from '../mersenne-twister';\nimport { IRNGNormal } from './inormal-rng';\n\nconst { exp, log, sqrt, max: fmax2, min: fmin2, abs: fabs } = Math;\n\nconst A = 2.216035867166471;\nconst C1 = 0.398942280401433;\nconst C2 = 0.180025191068563;\n/*----------- Constants and definitions for  Kinderman - Ramage --- */\n/*\n     *  REFERENCE\n     *\n     *    Kinderman A. J. and Ramage J. G. (1976).\n     *    Computer generation of normal random variables.\n     *    JASA 71, 893-896.\n     */\nexport class KindermanRamage extends IRNGNormal {\n  constructor(_rng: IRNG  = new MersenneTwister(0) ) {\n    super(_rng);\n  }\n\n  protected internal_norm_rand() {\n    let u1;\n    let u2;\n    let u3;\n    let tt;\n    const g = (x: number) => C1 * exp(-x * x / 2.0) - C2 * (A - x);\n    // corrected version from Josef Leydold\n\n    u1 = this.rng.unif_rand();\n\n    if (u1 < 0.884070402298758) {\n      u2 = this.rng.unif_rand();\n      return A * (1.13113163544418 * u1 + u2 - 1);\n    }\n\n    if (u1 >= 0.973310954173898) {\n      /* tail: */\n      for (;;) {\n        u2 = this.rng.unif_rand();\n        u3 = this.rng.unif_rand();\n        tt = A * A - 2 * log(u3);\n        if (u2 * u2 < A * A / tt)\n          return u1 < 0.986655477086949 ? sqrt(tt) : -sqrt(tt);\n      }\n    }\n\n    if (u1 >= 0.958720824790463) {\n      /* region3: */\n      for (;;) {\n        u2 = this.rng.unif_rand();\n        u3 = this.rng.unif_rand();\n        tt = A - 0.63083480192196 * fmin2(u2, u3);\n        if (fmax2(u2, u3) <= 0.755591531667601) return u2 < u3 ? tt : -tt;\n        if (0.034240503750111 * fabs(u2 - u3) <= g(tt))\n          return u2 < u3 ? tt : -tt;\n      }\n    }\n\n    if (u1 >= 0.911312780288703) {\n      /* region2: */\n      for (;;) {\n        u2 = this.rng.unif_rand();\n        u3 = this.rng.unif_rand();\n        tt = 0.479727404222441 + 1.10547366102207 * fmin2(u2, u3);\n        if (fmax2(u2, u3) <= 0.87283497667179) return u2 < u3 ? tt : -tt;\n        if (0.049264496373128 * fabs(u2 - u3) <= g(tt))\n          return u2 < u3 ? tt : -tt;\n      }\n    }\n\n    /* ELSE\t region1: */\n    for (;;) {\n      u2 = this.rng.unif_rand();\n      u3 = this.rng.unif_rand();\n      tt = 0.479727404222441 - 0.59550713801594 * fmin2(u2, u3);\n      if (tt < 0) continue;\n      if (fmax2(u2, u3) <= 0.805577924423817) return u2 < u3 ? tt : -tt;\n      if (0.053377549506886 * fabs(u2 - u3) <= g(tt)) return u2 < u3 ? tt : -tt;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/normal/kinderman-ramage.ts","'use strict';\n\n/*\n *  Javascript conversion by Jacob Bogers Nov 2017\n *  jkfbogers@gmail.com\n * \n *  R : A Computer Language for Statistical Data Analysis\n *  Copyright (C) 1995, 1996  Robert Gentleman and Ross Ihaka\n *  Copyright (C) 1997--2016  The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n */\n\n\nimport { fixup, i2_32m1 } from '../fixup';\nimport { IRNG } from '../irng';\nimport { IRNGType } from '../irng-type';\nimport { timeseed } from '../timeseed';\n\nconst SEED_LEN = 2;\nconst buf = new ArrayBuffer(SEED_LEN * 4);\n\nexport class SuperDuper extends IRNG {\n \n  private m_seed: Int32Array;\n\n  constructor(_seed: number = timeseed()) {\n    super(_seed);\n  }\n\n  public _setup() {\n    this._kind = IRNGType.SUPER_DUPER;\n    this._name = 'Super-Duper';\n    this.m_seed = new Int32Array(buf).fill(0);\n  }\n\n  protected internal_unif_rand(): number {\n    const s = this.m_seed;\n    /* This is Reeds et al (1984) implementation;\n               * modified using __unsigned__\tseeds instead of signed ones\n               */\n\n    s[0] ^= (s[0] >>> 15) & 0x1ffff; /* ) 0377777 = 0x1FFFF Tausworthe */\n    s[0] ^= s[0] << 17;\n    s[1] *= 69069; /* Congruential */\n    const un = new Uint32Array(SEED_LEN);\n    un[0] = s[0];\n    un[1] = s[1];\n    un[0] = un[0] ^ un[1];\n    return fixup(un[0] * i2_32m1); /* in [0,1) */\n  }\n\n  private fixupSeeds(): void {\n    const s = this.m_seed;\n    if (s[0] === 0) s[0] = 1;\n    /* I2 = Congruential: must be ODD */\n    s[1] |= 1;\n    return;\n  }\n\n  public init(_seed: number  =  timeseed()) {\n    /* Initial scrambling */\n    const s = new Uint32Array([_seed]);\n    for (let j = 0; j < 50; j++) {\n      s[0] = 69069 * s[0] + 1;\n    }\n    for (let j = 0; j < this.m_seed.length; j++) {\n      s[0] = 69069 * s[0] + 1;\n      this.m_seed[j] = s[0];\n    }\n    this.fixupSeeds();\n    super.init(_seed);\n  }\n\n  public set seed(_seed: number[]) {\n   \n    if (_seed.length > this.m_seed.length || _seed.length === 0) {\n      this.init(timeseed());\n      return;\n    }\n    this.m_seed.set(_seed);\n  }\n\n  public get seed() {\n    return Array.from(this.m_seed);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/super-duper/index.ts","'use strict';\n/*\n *  Javascript conversion by Jacob Bogers Nov 2017\n *  jkfbogers@gmail.com\n * \n *  The WichmannHill generator has a cycle length of 6.9536e12\n *  (= prod(p-1)/4, see Applied Statistics (1984) 33,\n *  123 which corrects the original article).\n * \n *  R : A Computer Language for Statistical Data Analysis\n *  Copyright (C) 1995, 1996  Robert Gentleman and Ross Ihaka\n *  Copyright (C) 1997--2016  The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n */\n\nconst { trunc } = Math;\nconst frac = (x: number) => x - trunc(x);\n\nimport { fixup } from '../fixup';\nimport { IRNG } from '../irng';\nimport { IRNGType } from '../irng-type';\nimport { timeseed } from '../timeseed';\n\nconst SEED_LEN = 3;\n\nexport class WichmannHill extends IRNG {\n\n  private m_seed: Uint32Array;\n\n  constructor(_seed: number = timeseed()) {\n    super(_seed);\n  }\n\n\n  public _setup() {\n    this._kind = IRNGType.WICHMANN_HILL;\n    this._name = 'Wichmann-Hill';\n    const buf = new ArrayBuffer(SEED_LEN * 4);\n    this.m_seed = new Uint32Array(buf).fill(0);\n  }\n\n  protected internal_unif_rand(): number {\n    const s = this.m_seed;\n    s[0] = (s[0] * 171) % 30269;\n    s[1] = (s[1] * 172) % 30307;\n    s[2] = (s[2] * 170) % 30323;\n\n    let value = s[0] / 30269.0 + s[1] / 30307.0 + s[2] / 30323.0;\n\n    return fixup(frac(value)); /* in [0,1) */\n  }\n\n  public fixupSeeds(): void {\n    const s = this.m_seed;\n    s[0] = s[0] % 30269;\n    s[1] = s[1] % 30307;\n    s[2] = s[2] % 30323;\n\n    if (s[0] === 0) s[0] = 1;\n    if (s[1] === 0) s[1] = 1;\n    if (s[2] === 0) s[2] = 1;\n    return;\n  }\n\n  public init(seed: number =  timeseed()) {\n    /* Initial scrambling */\n    const s = new Uint32Array([seed]);\n\n    for (let j = 0; j < 50; j++) {\n      s[0] = 69069 * s[0] + 1;\n    }\n    for (let j = 0; j < this.m_seed.length; j++) {\n      s[0] = 69069 * s[0] + 1;\n      this.m_seed[j] = s[0];\n    }\n    this.fixupSeeds();\n    super.init(seed);\n  }\n\n  public set seed(_seed: number[]) {\n    \n\n    if (_seed.length > this.m_seed.length || _seed.length === 0) {\n      this.init(timeseed());\n      return;\n    }\n    this.m_seed.set(_seed);\n  }\n\n  public get seed() {\n    return Array.from(this.m_seed);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/rng/wichmann-hill/index.ts","import { imin2 } from '../common/_general';\n\nexport function csignrank(\n    k: number,\n    n: number,\n    u: number,\n    c: number,\n    w: number[]\n  ): number {\n    if (k < 0 || k > u) return 0;\n    if (k > c) k = u - k;\n  \n    if (n === 1) return 1;\n    if (w[0] === 1) return w[k];\n    w[0] = w[1] = 1;\n    for (let j = 2; j < n + 1; ++j) {\n      let i;\n      let end = imin2(j * (j + 1) / 2, c);\n      for (i = end; i >= j; --i) w[i] += w[i - j];\n    }\n    return w[k];\n  }\n  \n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/signrank/csignrank.ts","/** \n * Ported from R (signrank.c) by Jacob Bogers\n * jkfbogers@gmail\n * GNU GENERAL PUBLIC LICENSE\n */\n\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_D__0, R_D_exp } from '../common/_general';\nimport { csignrank } from './csignrank';\n\nconst { round, trunc, abs: fabs, log, LN2: M_LN2 } = Math;\nconst { isNaN: ISNAN } = Number;\n\nconst printer_dsignrank = debug('dsignrank');\n\nexport function dsignrank<T>(xx: T, n: number, logX: boolean = false): T {\n  const rn = round(n);\n  const u = rn * (rn + 1) / 2;\n  const c = trunc(u / 2);\n  const w = new Array(c + 1).fill(0);\n\n  const fx: number[] = (Array.isArray(xx) ? xx : [xx]) as any;\n  const result = fx.map(x => {\n    if (ISNAN(x) || ISNAN(n)) return x + n;\n\n    if (n <= 0) {\n      return ML_ERR_return_NAN(printer_dsignrank);\n    }\n    if (fabs(x - round(x)) > 1e-7) {\n      return R_D__0(logX);\n    }\n    x = round(x);\n    if (x < 0 || x > n * (n + 1) / 2) {\n      return R_D__0(logX);\n    }\n    let d = R_D_exp(logX, log(csignrank(trunc(x), n, u, c, w)) - n * M_LN2);\n    return d;\n  });\n  return (result.length === 1 ? result[0] : result) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/signrank/dsign.ts","/*\n *  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  MArch 5, 2017\n * \n *  ORIGINAL AUHTOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *    #include <Rmath.h>\n *    double fsign(double x, double y);\n *\n *  DESCRIPTION\n *\n *    This function performs transfer of sign.  The result is:\n *\n *                        |x| * signum(y)\n */\n\nconst { abs:fabs } = Math;\nconst { isNaN:ISNAN } = Number;\n\n// needed by rpois\nexport function fsign(x: number, signal: boolean) {\n    if (ISNAN(x)) return x;\n    return signal ? fabs(x) : -fabs(x); \n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/signrank/fsign.ts","import * as debug from 'debug';\nimport {\n  ML_ERR_return_NAN,\n  R_DT_0,\n  R_DT_1,\n  R_DT_val\n} from '../common/_general';\nimport { map } from '../r-func';\nimport { csignrank } from './signrank';\n\nconst { round, trunc, LN2: M_LN2, exp } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\n\nconst printer_psignrank = debug('psignrank');\n\nexport function psignrank<T>(\n  xx: T,\n  n: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  const roundN = round(n);\n  const u = roundN * (roundN + 1) / 2;\n  const c = trunc(u / 2);\n  const w = new Array(c + 1).fill(0);\n\n  return map(xx)(x => {\n    x = round(x + 1e-7);\n    let lowerT = lowerTail; // temp copy on each iteration\n    if (ISNAN(x) || ISNAN(n)) return NaN;\n    if (!R_FINITE(n)) return ML_ERR_return_NAN(printer_psignrank);\n    if (n <= 0) return ML_ERR_return_NAN(printer_psignrank);\n\n    if (x < 0.0) {\n      return R_DT_0(lowerTail, logP);\n    }\n\n    if (x >= u) {\n      return R_DT_1(lowerTail, logP); //returns 1 on the edge case or 0 (because log(1)= 0)\n    }\n    let f = exp(-roundN * M_LN2);\n    let p = 0;\n    if (x <= u / 2) {\n      //smaller then mean\n      for (let i = 0; i <= x; i++) {\n        p += csignrank(i, roundN, u, c, w) * f;\n      }\n    } else {\n      x = n * (n + 1) / 2 - x;\n      for (let i = 0; i < x; i++) {\n        p += csignrank(i, roundN, u, c, w) * f;\n      }\n      lowerT = !lowerT; /* p = 1 - p; */\n    }\n    return R_DT_val(lowerT, logP, p);\n  }) as any;\n} /* psignrank() */\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/signrank/psign.ts","import * as debug from 'debug';\nimport {\n  ML_ERR_return_NAN,\n  R_DT_0,\n  R_DT_1,\n  R_Q_P01_check\n} from '../common/_general';\nimport { R_DT_qIv } from '../exp/expm1';\n\nimport { map } from '../r-func';\nimport { csignrank } from './signrank';\n\nconst { round, trunc, LN2: M_LN2, exp } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE, EPSILON: DBL_EPSILON } = Number;\nconst printer_qsignrank = debug('qsignrank');\n\nexport function qsignrank<T>(\n  xx: T,\n  n: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  const roundN = round(n);\n  const u = roundN * (roundN + 1) / 2;\n  const c = trunc(u / 2);\n  const w = new Array(c + 1).fill(0);\n\n  return map(xx)(x => {\n    if (ISNAN(x) || ISNAN(n)) {\n      return NaN;\n    }\n\n    if (/*!R_FINITE(x) ||*/ !R_FINITE(n)) {\n      return ML_ERR_return_NAN(printer_qsignrank);\n    }\n\n    let rc = R_Q_P01_check(logP, x);\n    if (rc !== undefined) {\n      return rc;\n    }\n\n    if (roundN <= 0) {\n      return ML_ERR_return_NAN(printer_qsignrank);\n    }\n\n    if (x === R_DT_0(lowerTail, logP)) {\n      return 0;\n    }\n\n    if (x === R_DT_1(lowerTail, logP)) {\n      return u;\n    }\n\n    if (logP || !lowerTail) {\n      x = R_DT_qIv(lowerTail, logP, x); // lower_tail, non-log \"p\"\n    }\n\n    //this.w_init_maybe(n);\n    let f = exp(-n * M_LN2);\n    let p = 0;\n    let q = 0;\n    if (x <= 0.5) {\n      x = x - 10 * DBL_EPSILON;\n      while (true) {\n        p += csignrank(q, roundN, u, c, w) * f;\n        if (p >= x) break;\n        q++;\n      }\n    } else {\n      x = 1 - x + 10 * DBL_EPSILON;\n      while (true) {\n        p += csignrank(q, roundN, u, c, w) * f;\n        if (p > x) {\n          q = trunc(u - q);\n          break;\n        }\n        q++;\n      }\n    }\n    return q;\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/signrank/qsign.ts","import * as debug from 'debug';\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { map, seq } from '../r-func';\nimport { IRNG } from '../rng/irng';\n\nconst { isNaN: ISNAN } = Number;\nconst { floor, round } = Math;\nconst printer_rsignrank = debug('rsignrank');\nconst sequence = seq()();\n\nexport function rsignrank(nn: number, n: number, rng: IRNG): number | number[] {\n  return map(sequence(nn))(() => {\n    /* NaNs propagated correctly */\n    if (ISNAN(n)) return n;\n    const nRound = round(n);\n    if (nRound < 0) return ML_ERR_return_NAN(printer_rsignrank);\n\n    if (nRound === 0) return 0;\n    let r = 0.0;\n    let k = floor(nRound);\n    for (let i = 0; i < k /**/; ) {\n      r += ++i * floor((rng.unif_rand() as number) + 0.5);\n    }\n    return r;\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/signrank/rsign.ts","/*\n *  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 4, 2017\n * \n *  ORIGINAL AUTHOR:\n *  AUTHOR\n *    Claus Ekstrm, ekstrom@dina.kvl.dk\n *    July 15, 2003.\n *\n *  Merge in to R:\n *\tCopyright (C) 2003-2015 The R Foundation\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *\n *  NOTE\n *\n *    Requires the following auxiliary routines:\n *\n *\tlgammafn(x)\t- log gamma function\n *\tpnt(x, df, ncp) - the distribution function for\n *\t\t\t  the non-central t distribution\n *\n *\n * DESCRIPTION\n *\n *    From Johnson, Kotz and Balakrishnan (1995) [2nd ed.; formula (31.15), p.516],\n *    the non-central t density is\n *\n *      f(x, df, ncp) =\n *\n *        exp(-.5*ncp^2) * gamma((df+1)/2) / (sqrt(pi*df)* gamma(df/2)) * (df/(df+x^2))^((df+1)/2) *\n *          sum_{j=0}^Inf  gamma((df+j+1)/2)/(factorial(j)* gamma((df+1)/2)) * (x*ncp*sqrt(2)/sqrt(df+x^2))^ j\n *\n *\n *    The functional relationship\n *\n *\t   f(x, df, ncp) = df/x *\n *\t\t\t      (F(sqrt((df+2)/df)*x, df+2, ncp) - F(x, df, ncp))\n *\n *    is used to evaluate the density at x != 0 and\n *\n *\t   f(0, df, ncp) = exp(-.5*ncp^2) /\n *\t\t\t\t(sqrt(pi)*sqrt(df)*gamma(df/2))*gamma((df+1)/2)\n *\n *    is used for x=0.\n *\n *    All calculations are done on log-scale to increase stability.\n *\n * FIXME: pnt() is known to be inaccurate in the (very) left tail and for ncp > 38\n *       ==> use a direct log-space summation formula in that case\n */\nimport * as debug from 'debug';\nimport { M_LN_SQRT_PI, ML_ERR_return_NAN, R_D__0 } from '../common/_general';\n\nimport { lgammafn } from '../gamma/lgamma_fn';\nimport {  dnorm4 as dnorm } from '../normal/dnorm';\nimport { map } from '../r-func';\nimport { dt } from './dt';\nimport { pnt } from './pnt';\n\nconst { isNaN: ISNAN, isFinite: R_FINITE, EPSILON: DBL_EPSILON } = Number;\nconst { abs: fabs, sqrt, log, exp } = Math;\n\nconst printer_dnt = debug('dnt');\nexport function dnt<T>(\n  xx: T,\n  df: number,\n  ncp: number = 0,\n  giveLog: boolean = false\n): T {\n  return map(xx)(x => {\n    if (ISNAN(x) || ISNAN(df)) return x + df;\n\n    /* If non-positive df then error */\n    if (df <= 0.0) return ML_ERR_return_NAN(printer_dnt);\n\n    if (ncp === 0.0) return dt(x, df, giveLog);\n\n    /* If x is infinite then return 0 */\n    if (!R_FINITE(x)) return R_D__0(giveLog);\n\n    /* If infinite df then the density is identical to a\n       normal distribution with mean = ncp.  However, the formula\n       loses a lot of accuracy around df=1e9\n    */\n    if (!R_FINITE(df) || df > 1e8) return dnorm(x, ncp, 1, giveLog);\n\n    /* Do calculations on log scale to stabilize */\n\n    /* Consider two cases: x ~= 0 or not */\n    const u = function() {\n      if (fabs(x) > sqrt(df * DBL_EPSILON)) {\n        printer_dnt('fabs(x:%d)>sqrt(df*espsilon):%d', fabs(x), sqrt(df * DBL_EPSILON));\n        return (\n          log(df) -\n          log(fabs(x)) +\n          log(\n            fabs(\n              pnt(x * sqrt((df + 2) / df), df + 2, ncp, true, false) -\n                pnt(x, df, ncp, true, false)\n            )\n          )\n        );\n        /* FIXME: the above still suffers from cancellation (but not horribly) */\n      } else {\n        /* x ~= 0 : -> same value as for  x = 0 */\n        printer_dnt('fabs(x:%d)<=sqrt(df*espsilon):%d', fabs(x), sqrt(df * DBL_EPSILON));\n        return (\n          lgammafn((df + 1) / 2) -\n          lgammafn(df / 2) -\n          (M_LN_SQRT_PI + 0.5 * (log(df) + ncp * ncp))\n        );\n      }\n    }();\n    printer_dnt('u=%d, giveLog=%s', u, giveLog);\n    return giveLog ? u : exp(u);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/student-t/dnt.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 19, 2017\n *\n *  ORIGINAL AUTHOR\n *  R : A Computer Language for Statistical Data Analysis\n *  Copyright (C) 2006-2015 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n * \n *  quantily function of the commulative  probability of the non-central t-distribution\n */\n\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN, R_Q_P01_boundaries } from '../common/_general';\nimport { R_DT_qIv } from '../exp/expm1';\nimport { qnorm } from '../normal/qnorm';\nimport { map } from '../r-func';\nimport { pnt } from './pnt';\nimport { qt } from './qt';\n\nconst { abs: fabs, max: fmax2, min: fmin2 } = Math;\nconst {\n  MAX_VALUE: DBL_MAX,\n  EPSILON: DBL_EPSILON,\n  isFinite: R_FINITE,\n  POSITIVE_INFINITY: ML_POSINF,\n  NEGATIVE_INFINITY: ML_NEGINF,\n  isNaN: ISNAN\n} = Number;\nconst printer = debug('qnt');\n\nexport function qnt<T>(\n  pp: T,\n  df: number,\n  ncp: number,\n  lowerTail: boolean,\n  logP: boolean\n): T {\n  return map(pp)(p => _qnt(p, df, ncp, lowerTail, logP)) as any;\n}\n\nfunction _qnt(\n  p: number,\n  df: number,\n  ncp: number,\n  lower_tail: boolean,\n  log_p: boolean\n) {\n  const accu = 1e-13;\n  const Eps = 1e-11; /* must be > accu */\n\n  let ux;\n  let lx;\n  let nx;\n  let pp;\n\n  if (ISNAN(p) || ISNAN(df) || ISNAN(ncp)) return p + df + ncp;\n\n  /* Was\n     * df = floor(df + 0.5);\n     * if (df < 1 || ncp < 0) ML_ERR_return_NAN;\n     */\n  if (df <= 0.0) return ML_ERR_return_NAN(printer);\n\n  if (ncp === 0.0 && df >= 1.0) return qt(p, df, lower_tail, log_p);\n\n  let rc = R_Q_P01_boundaries(lower_tail, log_p, p, ML_NEGINF, ML_POSINF);\n  if (rc !== undefined) {\n    return rc;\n  }\n  if (!R_FINITE(df))\n    // df = Inf ==> limit N(ncp,1)\n    return qnorm(p, ncp, 1, lower_tail, log_p);\n\n  p = R_DT_qIv(lower_tail, log_p, p);\n\n  /* Invert pnt(.) :\n     * 1. finding an upper and lower bound */\n  if (p > 1 - DBL_EPSILON) return ML_POSINF;\n  pp = fmin2(1 - DBL_EPSILON, p * (1 + Eps));\n  for (\n    ux = fmax2(1, ncp);\n    ux < DBL_MAX && pnt(ux, df, ncp, true, false) < pp;\n    ux *= 2\n  );\n  pp = p * (1 - Eps);\n  for (\n    lx = fmin2(-1, -ncp);\n    lx > -DBL_MAX && pnt(lx, df, ncp, true, false) > pp;\n    lx *= 2\n  );\n\n  /* 2. interval (lx,ux)  halving : */\n  do {\n    nx = 0.5 * (lx + ux); // could be zero\n    if (pnt(nx, df, ncp, true, false) > p) ux = nx;\n    else lx = nx;\n  } while (ux - lx > accu * fmax2(fabs(lx), fabs(ux)));\n\n  return 0.5 * (lx + ux);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/student-t/qnt.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 26, 2017\n * \n *  ORGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000-2008 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *    Pseudo-random variates from a t distribution.\n *\n *  NOTES\n *\n *    This function calls rchisq and rnorm to do the real work.\n */\n\nimport * as debug from 'debug';\n\nimport { rchisq } from '../chi-2/rchisq';\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { map, seq } from '../r-func';\nimport { IRNGNormal } from '../rng/normal';\n\nconst { sqrt } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst sequence = seq()();\n\nconst printer = debug('rt');\n\nexport function rt(n: number, df: number, rng: IRNGNormal): number | number[] {\n  return map(sequence(n))(() => {\n    if (ISNAN(df) || df <= 0.0) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    if (!R_FINITE(df)) return rng.norm_rand();\n    else {\n      /* Some compilers (including MW6) evaluated this from right to left\n            return norm_rand() / sqrt(rchisq(df) / df); */\n\n      let num = rng.norm_rand() as number;\n      return num / sqrt((rchisq(1, df, rng) as number) / df);\n    }\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/student-t/rt.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 20, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 \t     Ross Ihaka\n *  Copyright (C) 2000--2005 The R Core Team\n *  based in part on AS70 (C) 1974 Royal Statistical Society\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  SYNOPSIS\n *\n *\t#include <Rmath.h>\n *\tdouble qtukey(p, rr, cc, df, lower_tail, log_p);\n *\n *  DESCRIPTION\n *\n *\tComputes the quantiles of the maximum of rr studentized\n *\tranges, each based on cc means and with df degrees of freedom\n *\tfor the standard error, is less than q.\n *\n *\tThe algorithm is based on that of the reference.\n *\n *  REFERENCE\n *\n *\tCopenhaver, Margaret Diponzio & Holland, Burt S.\n *\tMultiple comparisons of simple effects in\n *\tthe two-way analysis of variance with fixed effects.\n *\tJournal of Statistical Computation and Simulation,\n *\tVol.30, pp.1-15, 1988.\n */\n\n/* qinv() :\n *\tthis function finds percentage point of the studentized range\n *\twhich is used as initial estimate for the secant method.\n *\tfunction is adapted from portion of algorithm as 70\n *\tfrom applied statistics (1974) ,vol. 23, no. 1\n *\tby odeh, r. e. and evans, j. o.\n *\n *\t  p = percentage point\n *\t  c = no. of columns or treatments\n *\t  v = degrees of freedom\n *\t  qinv = returned initial estimate\n *\n *\tvmax is cutoff above which degrees of freedom\n *\tis treated as infinity.\n */\n\nconst { sqrt, log } = Math;\n\nfunction qinv(p: number, c: number, v: number): number {\n  const p0 = 0.322232421088;\n  const q0 = 0.99348462606e-1;\n  const p1 = -1.0;\n  const q1 = 0.588581570495;\n  const p2 = -0.342242088547;\n  const q2 = 0.531103462366;\n  const p3 = -0.204231210125;\n  const q3 = 0.10353775285;\n  const p4 = -0.453642210148e-4;\n  const q4 = 0.38560700634e-2;\n  const c1 = 0.8832;\n  const c2 = 0.2368;\n  const c3 = 1.214;\n  const c4 = 1.208;\n  const c5 = 1.4142;\n  const vmax = 120.0;\n\n  let ps;\n  let q;\n  let t;\n  let yi;\n\n  ps = 0.5 - 0.5 * p;\n  yi = sqrt(log(1.0 / (ps * ps)));\n  t =\n    yi +\n    ((((yi * p4 + p3) * yi + p2) * yi + p1) * yi + p0) /\n      ((((yi * q4 + q3) * yi + q2) * yi + q1) * yi + q0);\n  if (v < vmax) t += (t * t * t + t) / v / 4.0;\n  q = c1 - c2 * t;\n  if (v < vmax) q += -c3 / v + c4 * t / v;\n  return t * (q * log(c - 1.0) + c5);\n}\n\n/*\n *  Copenhaver, Margaret Diponzio & Holland, Burt S.\n *  Multiple comparisons of simple effects in\n *  the two-way analysis of variance with fixed effects.\n *  Journal of Statistical Computation and Simulation,\n *  Vol.30, pp.1-15, 1988.\n *\n *  Uses the secant method to find critical values.\n *\n *  p = confidence level (1 - alpha)\n *  rr = no. of rows or groups\n *  cc = no. of columns or treatments\n *  df = degrees of freedom of error term\n *\n *  ir(1) = error flag = 1 if wprob probability > 1\n *  ir(2) = error flag = 1 if ptukey probability > 1\n *  ir(3) = error flag = 1 if convergence not reached in 50 iterations\n *\t\t       = 2 if df < 2\n *\n *  qtukey = returned critical value\n *\n *  If the difference between successive iterates is less than eps,\n *  the search is terminated\n */\n\nimport * as debug from 'debug';\n\nimport { ME, ML_ERR_return_NAN, ML_ERROR, R_Q_P01_boundaries } from '../common/_general';\n\nimport { R_DT_qIv } from '../exp/expm1';\nimport { map } from '../r-func';\nimport { _ptukey } from './ptukey';\n\nconst { isNaN: ISNAN, POSITIVE_INFINITY: ML_POSINF } = Number;\nconst { abs: fabs, max: fmax2 } = Math;\nconst printer = debug('qtukey');\n/**\n> qtukey\nfunction (p, nmeans, df, nranges = 1, lower.tail = TRUE, log.p = FALSE)\n.Call(C_qtukey, p, nranges, nmeans, df, lower.tail, log.p)\n<bytecode: 0x000000001cde4a80>\n<environment: namespace:stats>\n\n*/\nexport function qtukey<T>(\n  pp: T, //p\n  rr: number, //ranges\n  cc: number, //nmeans\n  df: number, //df\n  lower_tail: boolean = true, //lower.tail\n  log_p: boolean = false //log.p\n): T {\n  return map(pp)(p =>\n    _qtukey(p, rr, cc, df, lower_tail, log_p)\n  ) as any;\n}\n\n\nfunction _qtukey(\n  p: number,\n  rr: number,\n  cc: number,\n  df: number,\n  lower_tail: boolean,\n  log_p: boolean\n): number {\n  const eps = 0.0001;\n  const maxiter = 50;\n\n  let ans = 0.0;\n  let valx0;\n  let valx1;\n  let x0;\n  let x1;\n  let xabs;\n  let iter;\n\n  if (ISNAN(p) || ISNAN(rr) || ISNAN(cc) || ISNAN(df)) {\n    ML_ERROR(ME.ME_DOMAIN, 'qtukey', printer);\n    return NaN;\n  }\n\n  /* df must be > 1 ; there must be at least two values */\n  if (df < 2 || rr < 1 || cc < 2) return ML_ERR_return_NAN(printer);\n\n  let rc = R_Q_P01_boundaries(lower_tail, log_p, p, 0, ML_POSINF);\n  if (rc !== undefined) {\n    return rc;\n  }\n\n  p = R_DT_qIv(lower_tail, log_p, p); /* lower_tail,non-log \"p\" */\n\n  /* Initial value */\n\n  x0 = qinv(p, cc, df);\n\n  /* Find prob(value < x0) */\n\n  valx0 = _ptukey(x0, rr, cc, df, /*LOWER*/ true, /*LOG_P*/ false) - p;\n\n  /* Find the second iterate and prob(value < x1). */\n  /* If the first iterate has probability value */\n  /* exceeding p then second iterate is 1 less than */\n  /* first iterate; otherwise it is 1 greater. */\n\n  if (valx0 > 0.0) x1 = fmax2(0.0, x0 - 1.0);\n  else x1 = x0 + 1.0;\n  valx1 = _ptukey(x1, rr, cc, df, /*LOWER*/ true, /*LOG_P*/ false) - p;\n\n  /* Find new iterate */\n\n  for (iter = 1; iter < maxiter; iter++) {\n    ans = x1 - valx1 * (x1 - x0) / (valx1 - valx0);\n    valx0 = valx1;\n\n    /* New iterate must be >= 0 */\n\n    x0 = x1;\n    if (ans < 0.0) {\n      ans = 0.0;\n      valx1 = -p;\n    }\n    /* Find prob(value < new iterate) */\n\n    valx1 =\n      _ptukey(ans, rr, cc, df, /*LOWER*/ true, /*LOG_P*/ false) - p;\n    x1 = ans;\n\n    /* If the difference between two successive */\n    /* iterates is less than eps, stop */\n\n    xabs = fabs(x1 - x0);\n    if (xabs < eps) return ans;\n  }\n\n  /* The process did not converge in 'maxiter' iterations */\n  ML_ERROR(ME.ME_NOCONV, 'qtukey', printer);\n  return ans;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/tukey/qtukey.ts","\nimport { M_1_SQRT_2PI } from '../common/_general';\nimport { pnorm5 as pnorm } from '../normal/pnorm';\n\nconst { exp, pow } = Math;\n\nconst bb = 8;\nconst C2 = -50;\nconst wlar = 3;\nconst wincr1 = 2;\nconst wincr2 = 3;\nconst nleg = 12;\nconst ihalf = 6;\n\nconst xleg = [\n  0.981560634246719250690549090149,\n  0.904117256370474856678465866119,\n  0.769902674194304687036893833213,\n  0.587317954286617447296702418941,\n  0.367831498998180193752691536644,\n  0.125233408511468915472441369464\n];\n\nconst aleg = [\n  0.047175336386511827194615961485,\n  0.106939325995318430960254718194,\n  0.160078328543346226334652529543,\n  0.20316742672306592174906445581,\n  0.233492536538354808760849898925,\n  0.249147045813402785000562436043\n];\n\nconst C3 = 60;\nconst C1 = -30;\n\nexport function wprob(w: number, rr: number, cc: number): number {\n  /*  wprob() :\n      \n          This function calculates probability integral of Hartley's\n          form of the range.\n      \n          w     = value of range\n          rr    = no. of rows or groups\n          cc    = no. of columns or treatments\n          ir    = error flag = 1 if pr_w probability > 1\n          pr_w = returned probability integral from (0, w)\n      \n          program will not terminate if ir is raised.\n      \n          bb = upper limit of legendre integration\n          iMax = maximum acceptable value of integral\n          nleg = order of legendre quadrature\n          ihalf = int ((nleg + 1) / 2)\n          wlar = value of range above which wincr1 intervals are used to\n                 calculate second part of integral,\n                 else wincr2 intervals are used.\n          C1, C2, C3 = values which are used as cutoffs for terminating\n          or modifying a calculation.\n      \n          M_1_SQRT_2PI = 1 / sqrt(2 * pi);  from abramowitz & stegun, p. 3.\n          M_SQRT2 = sqrt(2)\n          xleg = legendre 12-point nodes\n          aleg = legendre 12-point coefficients\n       */\n\n  /* looks like this is suboptimal for double precision.\n         (see how C1-C3 are used) <MM>\n      */\n  /* const double iMax  = 1.; not used if = 1*/\n  //\n  //double\n  //\n  let a: number;\n  let ac: number;\n  let pr_w: number;\n  let b: number;\n  let binc: number;\n  let c: number;\n  let cc1: number;\n  let pminus: number;\n  let pplus: number;\n  let qexpo: number;\n  let qsqz: number;\n  let rinsum: number;\n  let wi: number;\n  let wincr: number;\n  let xx: number;\n  let blb: number;\n  let bub: number;\n  let einsum: number;\n  let elsum: number;\n  //\n  // int\n  //\n  let j: number;\n\n  qsqz = w * 0.5;\n\n  /* if w >= 16 then the integral lower bound (occurs for c=20) */\n  /* is 0.99999999999995 so return a value of 1. */\n\n  if (qsqz >= bb) {\n    return 1.0;\n  }\n\n  /* find (f(w/2) - 1) ^ cc */\n  /* (first term in integral of hartley's form). */\n\n  pr_w =\n    2 * pnorm(qsqz, 0, 1, true, false) - 1; /* erf(qsqz / M_SQRT2) */\n  /* if pr_w ^ cc < 2e-22 then set pr_w = 0 */\n  if (pr_w >= exp(C2 / cc)) pr_w = pow(pr_w, cc);\n  else pr_w = 0.0;\n\n  /* if w is large then the second component of the */\n  /* integral is small, so fewer intervals are needed. */\n\n  if (w > wlar) wincr = wincr1;\n  else wincr = wincr2;\n\n  /* find the integral of second term of hartley's form */\n  /* for the integral of the range for equal-length */\n  /* intervals using legendre quadrature.  limits of */\n  /* integration are from (w/2, 8).  two or three */\n  /* equal-length intervals are used. */\n\n  /* blb and bub are lower and upper limits of integration. */\n\n  blb = qsqz;\n  binc = (bb - qsqz) / wincr;\n  bub = blb + binc;\n  einsum = 0.0;\n\n  /* integrate over each interval */\n\n  cc1 = cc - 1.0;\n  for (wi = 1; wi <= wincr; wi++) {\n    elsum = 0.0;\n    a = 0.5 * (bub + blb);\n\n    /* legendre quadrature with order = nleg */\n\n    b = 0.5 * (bub - blb);\n\n    for (let jj = 1; jj <= nleg; jj++) {\n      if (ihalf < jj) {\n        j = nleg - jj + 1;\n        xx = xleg[j - 1];\n      } else {\n        j = jj;\n        xx = -xleg[j - 1];\n      }\n      c = b * xx;\n      ac = a + c;\n\n      /* if exp(-qexpo/2) < 9e-14, */\n      /* then doesn't contribute to integral */\n\n      qexpo = ac * ac;\n      if (qexpo > C3) break;\n\n      pplus = 2 * pnorm(ac, 0, 1, true, false);\n      pminus = 2 * pnorm(ac, w, 1, true, false);\n\n      /* if rinsum ^ (cc-1) < 9e-14, */\n      /* then doesn't contribute to integral */\n\n      rinsum = pplus * 0.5 - pminus * 0.5;\n      if (rinsum >= exp(C1 / cc1)) {\n        rinsum = aleg[j - 1] * exp(-(0.5 * qexpo)) * pow(rinsum, cc1);\n        elsum += rinsum;\n      }\n    }\n    elsum *= 2.0 * b * cc * M_1_SQRT_2PI;\n    einsum += elsum;\n    blb = bub;\n    bub += binc;\n  }\n\n  /* if pr_w ^ rr < 9e-14, then return 0 */\n  pr_w += einsum;\n  if (pr_w <= exp(C1 / rr)) return 0;\n\n  pr_w = pow(pr_w, rr);\n  if (pr_w >= 1)\n    /* 1 was iMax was eps */\n    return 1;\n  return pr_w;\n} /* wprob() */\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/tukey/wprob.ts","/*\n *  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  Feb 10, 2017\n * \n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n * \n *  License for JS language implementation\n *  https://www.jacob-bogers/libRmath.js/Licenses/\n * \n *  License for R statistical package\n *  https://www.r-project.org/Licenses/\n * \n * */\n\nimport { R_D__0 } from '../common/_general';\nimport { map } from '../r-func';\n\nconst { isNaN: ISNAN } = Number;\nconst { log } = Math;\n\nexport function dunif(\n  x: number | number[],\n  min: number = 0,\n  max: number = 1,\n  logP: boolean = false\n): number | number[] {\n  return map(x)(fx => {\n    if (ISNAN(fx) || ISNAN(min) || ISNAN(max)) {\n      return fx + min + max;\n    }\n    if (min <= fx && fx <= max) {\n      return logP ? -log(max - min) : 1 / (max - min);\n    }\n    return R_D__0(logP); // return logP ? ML_NEGINF : 0.0;\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/uniform/dunif.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 18, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000-2006 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *    The distribution function of the uniform distribution.\n */\nimport * as debug from 'debug';\nconst printer = debug('punif');\n\nimport { ML_ERR_return_NAN, R_D_val, R_DT_0, R_DT_1 } from '../common/_general';\nimport { map } from '../r-func';\n\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\n\nexport function punif(\n  q: number | number[],\n  min: number = 0,\n  max: number = 1,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): number | number[] {\n  return map(q)(fx => {\n    if (ISNAN(fx) || ISNAN(min) || ISNAN(max)) {\n      return fx + min + max;\n    }\n\n    if (max < min) {\n      return ML_ERR_return_NAN(printer);\n    }\n    if (!R_FINITE(min) || !R_FINITE(max)) {\n      return ML_ERR_return_NAN(printer);\n    }\n\n    if (fx >= max) {\n      return R_DT_1(lowerTail, logP);\n    }\n    if (fx <= min) {\n      return R_DT_0(lowerTail, logP);\n    }\n    if (lowerTail) {\n      return R_D_val(logP, (fx - min) / (max - min));\n    }\n    return R_D_val(logP, (max - fx) / (max - min));\n  }) as any; \n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/uniform/punif.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 20, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000-2006 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *    The quantile function of the uniform distribution.\n */\n\nimport { ML_ERR_return_NAN, R_Q_P01_check } from '../common/_general';\n\nimport * as debug from 'debug';\nimport { R_DT_qIv } from '../exp/expm1';\nimport { map } from '../r-func';\n\nconst { isNaN: ISNAN, isFinite: R_FINITE } = Number;\nconst printer = debug('qunif');\n\nexport function qunif(\n  p: number | number[],\n  min: number = 0,\n  max: number = 1,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): number | number[] {\n  return map(p)(fp => {\n    if (ISNAN(fp) || ISNAN(min) || ISNAN(max)) return NaN;\n\n    let rc = R_Q_P01_check(logP, fp);\n    if (rc !== undefined) {\n      return rc;\n    }\n    if (!R_FINITE(min) || !R_FINITE(max)) return ML_ERR_return_NAN(printer);\n    if (max < min) return ML_ERR_return_NAN(printer);\n    if (max === min) return min;\n\n    return min + R_DT_qIv(lowerTail, logP, fp) * (max - min);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/uniform/qunif.ts","/*\n *  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  Februari 5, 2017\n *  ORIGNAL AUTHOR\n *  Using Node or Javascript Native implementation (when running in browser)\n *  \n *  Other RNG's by George Marsaglia from newshourp comp.lang.c 2003-May-13   \n * \n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  *  License for JS language implementation\n *  https://www.jacob-bogers/libRmath.js/Licenses/\n * \n*/\n\nimport * as debug from 'debug';\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { IRNG } from '../rng';\n\nconst { isFinite: R_FINITE } = Number;\nconst printer = debug('runif');\n\nexport function runif(\n  n: number = 1,\n  min: number = 0,\n  max: number = 1,\n  u: IRNG\n): number | number[] {\n\n  if (!(R_FINITE(min) && R_FINITE(max) && max > min)) {\n    return ML_ERR_return_NAN(printer);\n  }\n\n  let result = new Array(n).fill(0).map(() => {\n    const s = u.unif_rand() as number;\n    return (max - min) * s + min;\n  });\n\n  return result.length === 1 ? result[0] : result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/uniform/runif.ts","/*\n *  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  MArch 4, 2017\n * \n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000-6 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *    The density function of the Weibull distribution.\n */\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_D__0 } from '../common/_general';\nimport { map } from '../r-func';\n\nconst { pow, log, exp } = Math;\nconst {\n  isNaN: ISNAN,\n  isFinite: R_FINITE,\n  POSITIVE_INFINITY: ML_POSINF\n} = Number;\nconst printer = debug('dweilbull');\n\nexport function dweibull<T>(\n  xx: T,\n  shape: number,\n  scale: number = 1,\n  give_log: boolean = false\n): T {\n  return map(xx)(x => {\n    if (ISNAN(x) || ISNAN(shape) || ISNAN(scale)) return x + shape + scale;\n    if (shape <= 0 || scale <= 0) return ML_ERR_return_NAN(printer);\n\n    if (x < 0) return R_D__0(give_log);\n    if (!R_FINITE(x)) return R_D__0(give_log);\n    /* need to handle x == 0 separately */\n    if (x === 0 && shape < 1) return ML_POSINF;\n    let tmp1 = pow(x / scale, shape - 1);\n    let tmp2 = tmp1 * (x / scale);\n    /* These are incorrect if tmp1 == 0 */\n    return give_log\n      ? -tmp2 + log(shape * tmp1 / scale)\n      : shape * tmp1 * exp(-tmp2) / scale;\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/weibull/dweibull.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 18, 2017\n *\n * ORIGNAL AUTHORS\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000-2015 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *    The distribution function of the Weibull distribution.\n */\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_D_exp, R_DT_0 } from '../common/_general';\n\nimport { R_Log1_Exp } from '../exp/expm1';\n\nimport { map } from '../r-func';\n\nconst { expm1, pow } = Math;\nconst { isNaN: ISNAN } = Number;\nconst printer = debug('pweibull');\n\nexport function pweibull<T>(\n  xx: T,\n  shape: number,\n  scale: number = 1,\n  lower_tail: boolean = true,\n  log_p: boolean = false\n): T {\n  return map(xx)(x => {\n    if (ISNAN(x) || ISNAN(shape) || ISNAN(scale)) return x + shape + scale;\n\n    if (shape <= 0 || scale <= 0) return ML_ERR_return_NAN(printer);\n\n    if (x <= 0) {\n      return R_DT_0(lower_tail, log_p);\n    }\n    x = -pow(x / scale, shape);\n    return lower_tail ? (log_p ? R_Log1_Exp(x) : -expm1(x)) : R_D_exp(log_p, x);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/weibull/pweibull.ts","/*  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 20, 2017\n *\n *  ORIGINAL AUTHOR\n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000 The R Core Team\n *  Copyright (C) 2005 The R Foundation\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *    The quantile function of the Weibull distribution.\n */\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_Q_P01_boundaries } from '../common/_general';\n\nimport { R_DT_Clog } from '../exp/expm1';\nimport { map } from '../r-func';\n\nconst { pow } = Math;\nconst { isNaN: ISNAN, POSITIVE_INFINITY: ML_POSINF } = Number;\nconst printer = debug('qweibull');\n\nexport function qweibull<T>(\n  pp: T,\n  shape: number,\n  scale: number = 1,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  return map(pp)(p => {\n    if (ISNAN(p) || ISNAN(shape) || ISNAN(scale)) return p + shape + scale;\n\n    if (shape <= 0 || scale <= 0) return ML_ERR_return_NAN(printer);\n\n    let rc = R_Q_P01_boundaries(lowerTail, logP, p, 0, ML_POSINF);\n    if (rc !== undefined) {\n      return rc;\n    }\n    return scale * pow(-R_DT_Clog(lowerTail, logP, p), 1 / shape);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/weibull/qweibull.ts","/*\n *  AUTHOR\n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n *  ORIGNAL AUTHOR\n * \n *  Mathlib : A C Library of Special Functions\n *  Copyright (C) 1998 Ross Ihaka\n *  Copyright (C) 2000 The R Core Team\n *\n *  This program is free software; you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation; either version 2 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program; if not, a copy is available at\n *  https://www.R-project.org/Licenses/\n *\n *  DESCRIPTION\n *\n *    Random variates from the Weibull distribution.\n */\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { possibleScalar } from '../r-func';\nimport { IRNG } from '../rng';\n\nconst { log, pow } = Math;\nconst { isFinite: R_FINITE } = Number;\nconst printer = debug('rweibull');\n\nexport function rweibull(\n  n: number,\n  shape: number,\n  scale: number = 1,\n  rng: IRNG\n): number | number[] {\n  const result = new Array(n).fill(0).map(() => {\n    if (!R_FINITE(shape) || !R_FINITE(scale) || shape <= 0 || scale <= 0) {\n      if (scale === 0) return 0;\n      /* else */\n      return ML_ERR_return_NAN(printer);\n    }\n\n    return scale * pow(-log((rng.unif_rand() as number)), 1.0 / shape);\n  });\n  return possibleScalar(result);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/weibull/rweibull.ts","/*\n *  AUTHOR\n * \n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n *  ORIGINAL AUTHOR\n  Mathlib : A C Library of Special Functions\n  Copyright (C) 1999-2014  The R Core Team\n\n  This program is free software; you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation; either version 2 of the License, or (at\n  your option) any later version.\n\n  This program is distributed in the hope that it will be useful, but\n  WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\tSee the GNU\n  General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program; if not, a copy is available at\n  https://www.R-project.org/Licenses/\n\n  SYNOPSIS\n\n    #include <Rmath.h>\n    double dwilcox(double x, double m, double n, int give_log)\n    double pwilcox(double x, double m, double n, int lower_tail, int log_p)\n    double qwilcox(double x, double m, double n, int lower_tail, int log_p);\n    double rwilcox(double m, double n)\n\n  DESCRIPTION\n\n    dwilcox\tThe density of the Wilcoxon distribution.\n    pwilcox\tThe distribution function of the Wilcoxon distribution.\n    qwilcox\tThe quantile function of the Wilcoxon distribution.\n    rwilcox\tRandom variates from the Wilcoxon distribution.\n\n */\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_D__0 } from '../common/_general';\nimport { internal_choose, internal_lchoose } from '../common/choose';\nimport { map } from '../r-func';\nimport { cwilcox } from './cwilcox';\nimport { WilcoxonCache } from './WilcoxonCache';\n\nconst { round: R_forceint, abs: fabs, log } = Math;\nconst { isNaN: ISNAN } = Number;\n\nconst printer_dwilcox = debug('dwilcox');\n\n\nexport function dwilcox<T>(\n  xx: T,\n  m: number,\n  n: number,\n  giveLog: boolean = false\n): T {\n  // outside the potential loop\n\n  m = R_forceint(m);\n  n = R_forceint(n);\n\n  //const nm = m * n;\n \n  return map(xx)(x => {\n   \n    const w = new WilcoxonCache();\n    //#ifdef IEEE_754\n    /* NaNs propagated correctly */\n\n    if (ISNAN(x) || ISNAN(m) || ISNAN(n)) {\n     // console.log(`1. x:${x}, m:${m}, n:${n}`);\n      return (x + m + n);\n    }\n    //#endif\n\n    if (m <= 0 || n <= 0) {\n     // console.log(`2. x:${x}, m:${m}, n:${n}`);\n      return ML_ERR_return_NAN(printer_dwilcox);\n    }\n\n    if (fabs(x - R_forceint(x)) > 1e-7) {\n     // console.log(`3. x:${x}, m:${m}, n:${n}`);\n      return R_D__0(giveLog);\n    }\n    x = R_forceint(x);\n    if (x < 0 || x > m * n) {\n      return R_D__0(giveLog);\n    }\n    //const w = initw(m, n);\n    //console.log(`0. special: ${w[4][4].length}`);\n    //const c1 = cwilcox(x, m, n, w);\n    \n    //console.log(`4. c1:${c1} <- x:${x}, m:${m}, n:${n}`);\n    return giveLog\n      ? log(cwilcox(x, m, n, w)) - internal_lchoose(m + n, n)\n      : cwilcox(x, m, n, w) / internal_choose(m + n, n);\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/wilcoxon/dwilcox.ts","/*\n *  AUTHOR\n * \n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n *  ORIGINAL AUTHOR\n  Mathlib : A C Library of Special Functions\n  Copyright (C) 1999-2014  The R Core Team\n\n  This program is free software; you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation; either version 2 of the License, or (at\n  your option) any later version.\n\n  This program is distributed in the hope that it will be useful, but\n  WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\tSee the GNU\n  General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program; if not, a copy is available at\n  https://www.R-project.org/Licenses/\n\n  SYNOPSIS\n\n    #include <Rmath.h>\n    double dwilcox(double x, double m, double n, int give_log)\n    double pwilcox(double x, double m, double n, int lower_tail, int log_p)\n    double qwilcox(double x, double m, double n, int lower_tail, int log_p);\n    double rwilcox(double m, double n)\n\n  DESCRIPTION\n\n    dwilcox\tThe density of the Wilcoxon distribution.\n    pwilcox\tThe distribution function of the Wilcoxon distribution.\n    qwilcox\tThe quantile function of the Wilcoxon distribution.\n    rwilcox\tRandom variates from the Wilcoxon distribution.\n\n */\n\n \nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN, R_DT_0, R_DT_1, R_DT_val } from '../common/_general';\nimport { internal_choose } from '../common/choose';\nimport { map } from '../r-func';\n\nimport { WilcoxonCache } from './WilcoxonCache';\n\nimport { cwilcox } from './cwilcox';\n\nconst { round:R_forceint, floor} = Math;\nconst { isNaN:ISNAN, isFinite:R_FINITE } = Number;\n\nconst printer_pwilcox = debug('pwilcox');\nexport function pwilcox<T>(\n  qq: T,\n  m: number,\n  n: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  m = R_forceint(m);\n  n = R_forceint(n);\n \n\n  return map(qq)(q => {\n    \n    const w = new WilcoxonCache();\n\n    let lower_tail = lowerTail;\n    if (ISNAN(q) || ISNAN(m) || ISNAN(n)) return q + m + n;\n    if (!R_FINITE(m) || !R_FINITE(n)) return ML_ERR_return_NAN(printer_pwilcox);\n\n    if (m <= 0 || n <= 0) return ML_ERR_return_NAN(printer_pwilcox);\n\n    q = floor(q + 1e-7);\n\n    if (q < 0.0) return R_DT_0(lower_tail, logP);\n    if (q >= m * n) return R_DT_1(lower_tail, logP);\n\n    //let mm = m;\n   // let nn = n;\n    //w_init_maybe(mm, nn);\n    let c = internal_choose(m + n, n);\n    let p = 0;\n    /* Use summation of probs over the shorter range */\n    if (q <= m * n / 2) {\n      for (let i = 0; i <= q; i++) p += cwilcox(i, m, n, w) / c;\n    } else {\n      q = m * n - q;\n      for (let i = 0; i < q; i++) p += cwilcox(i, m, n, w) / c;\n      lower_tail = !lower_tail; /* p = 1 - p; */\n    }\n\n    return R_DT_val(lower_tail, logP, p);\n  }) as any;\n} /* pwilcox */\n\n/* x is 'p' in R function qwilcox */\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/wilcoxon/pwilcox.ts","/*\n *  AUTHOR\n * \n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n *  ORIGINAL AUTHOR\n  Mathlib : A C Library of Special Functions\n  Copyright (C) 1999-2014  The R Core Team\n\n  This program is free software; you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation; either version 2 of the License, or (at\n  your option) any later version.\n\n  This program is distributed in the hope that it will be useful, but\n  WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\tSee the GNU\n  General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program; if not, a copy is available at\n  https://www.R-project.org/Licenses/\n\n  SYNOPSIS\n\n    #include <Rmath.h>\n    double dwilcox(double x, double m, double n, int give_log)\n    double pwilcox(double x, double m, double n, int lower_tail, int log_p)\n    double qwilcox(double x, double m, double n, int lower_tail, int log_p);\n    double rwilcox(double m, double n)\n\n  DESCRIPTION\n\n    dwilcox\tThe density of the Wilcoxon distribution.\n    pwilcox\tThe distribution function of the Wilcoxon distribution.\n    qwilcox\tThe quantile function of the Wilcoxon distribution.\n    rwilcox\tRandom variates from the Wilcoxon distribution.\n\n */\n\n \nimport * as debug from 'debug';\n\nimport {\n  ML_ERR_return_NAN,\n  R_DT_0,\n  R_DT_1,\n  R_Q_P01_check\n} from '../common/_general';\nimport { R_DT_qIv } from '../exp/expm1';\nimport { map } from '../r-func';\nimport { cwilcox } from './cwilcox';\nimport { WilcoxonCache } from './WilcoxonCache';\n\nimport { internal_choose } from '../common/choose';\n\nconst { round: R_forceint, trunc } = Math;\nconst { isNaN: ISNAN, isFinite: R_FINITE, EPSILON: DBL_EPSILON } = Number;\n\nconst printer_qwilcox = debug('qwilcox');\n\nexport function qwilcox<T>(\n  xx: T,\n  m: number,\n  n: number,\n  lowerTail: boolean = true,\n  logP: boolean = false\n): T {\n  m = R_forceint(m);\n  n = R_forceint(n);\n  const w = new WilcoxonCache();\n\n  return map(xx)(x => {\n    if (ISNAN(x) || ISNAN(m) || ISNAN(n)) return x + m + n;\n    if (!R_FINITE(x) || !R_FINITE(m) || !R_FINITE(n))\n      return ML_ERR_return_NAN(printer_qwilcox);\n    R_Q_P01_check(logP, x);\n\n    if (m <= 0 || n <= 0) return ML_ERR_return_NAN(printer_qwilcox);\n\n    if (x === R_DT_0(lowerTail, logP)) return 0;\n    if (x === R_DT_1(lowerTail, logP)) return m * n;\n\n    if (logP || !lowerTail)\n      x = R_DT_qIv(lowerTail, logP, x); /* lower_tail,non-log \"p\" */\n\n    let c = internal_choose(m + n, n);\n    let p = 0;\n    let q = 0;\n    if (x <= 0.5) {\n      x = x - 10 * DBL_EPSILON;\n      while (true) {\n        p += cwilcox(q, m, n, w) / c;\n        if (p >= x) break;\n        q++;\n      }\n    } else {\n      x = 1 - x + 10 * DBL_EPSILON;\n      while (true) {\n        p += cwilcox(q, m, n, w) / c;\n        if (p > x) {\n          q = trunc(m * n - q);\n          break;\n        }\n        q++;\n      }\n    }\n    return q;\n  }) as any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/wilcoxon/qwilcox.ts","/*\n *  AUTHOR\n * \n *  Jacob Bogers, jkfbogers@gmail.com\n *  March 25, 2017\n * \n *  ORIGINAL AUTHOR\n  Mathlib : A C Library of Special Functions\n  Copyright (C) 1999-2014  The R Core Team\n\n  This program is free software; you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation; either version 2 of the License, or (at\n  your option) any later version.\n\n  This program is distributed in the hope that it will be useful, but\n  WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\tSee the GNU\n  General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program; if not, a copy is available at\n  https://www.R-project.org/Licenses/\n\n  SYNOPSIS\n\n    #include <Rmath.h>\n    double dwilcox(double x, double m, double n, int give_log)\n    double pwilcox(double x, double m, double n, int lower_tail, int log_p)\n    double qwilcox(double x, double m, double n, int lower_tail, int log_p);\n    double rwilcox(double m, double n)\n\n  DESCRIPTION\n\n    dwilcox\tThe density of the Wilcoxon distribution.\n    pwilcox\tThe distribution function of the Wilcoxon distribution.\n    qwilcox\tThe quantile function of the Wilcoxon distribution.\n    rwilcox\tRandom variates from the Wilcoxon distribution.\n\n */\n\nimport * as debug from 'debug';\n\nimport { ML_ERR_return_NAN } from '../common/_general';\nimport { possibleScalar, seq } from '../r-func';\nimport { IRNG } from '../rng';\n\nconst printer_rwilcox = debug('rwilcox');\nconst { round: R_forceint, trunc, floor } = Math;\nconst { isNaN: ISNAN } = Number;\n\nexport function rwilcox(\n  N: number,\n  m: number,\n  n: number,\n  rng: IRNG\n): number | number[] {\n  const result = new Array(N).fill(0).map(() => {\n    /* NaNs propagated correctly */\n    if (ISNAN(m) || ISNAN(n)) return m + n;\n\n    m = R_forceint(m);\n    n = R_forceint(n);\n    if (m < 0 || n < 0) return ML_ERR_return_NAN(printer_rwilcox);\n\n    if (m === 0 || n === 0) return 0;\n\n    let r = 0.0;\n    let k = trunc(m + n);\n    let x: number[] = seq()()(0, k - 1);\n    printer_rwilcox(`------v`);\n    for (let i = 0; i < n; i++) {\n      let j = floor(k * (rng.unif_rand() as number));\n      r += x[j];\n      x[j] = x[--k];\n      printer_rwilcox('i:%d,\\tn:%d\\tj:%d\\tk:%d\\tr:%d\\tx:%o', i, n, j, k, x);\n    }\n\n    return r - n * (n - 1) / 2;\n  });\n  return possibleScalar(result);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--0!./src/lib/wilcoxon/rwilcox.ts","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/debug/src/browser.js\n// module id = 182\n// module chunks = 0 1","\"use strict\";\n\n/**\n * Module dependencies.\n */\nvar tty = require('tty');\n\nvar util = require('util');\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n  // Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n  // eslint-disable-next-line import/no-extraneous-dependencies\n  var supportsColor = require('supports-color');\n\n  if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n    exports.colors = [20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68, 69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134, 135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 214, 215, 220, 221];\n  }\n} catch (error) {} // Swallow - we only care if `supports-color` is available; it doesn't have to be.\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // Camel-case\n  var prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, function (_, k) {\n    return k.toUpperCase();\n  }); // Coerce string value into JS value\n\n  var val = process.env[key];\n\n  if (/^(yes|on|true|enabled)$/i.test(val)) {\n    val = true;\n  } else if (/^(no|off|false|disabled)$/i.test(val)) {\n    val = false;\n  } else if (val === 'null') {\n    val = null;\n  } else {\n    val = Number(val);\n  }\n\n  obj[prop] = val;\n  return obj;\n}, {});\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts ? Boolean(exports.inspectOpts.colors) : tty.isatty(process.stderr.fd);\n}\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  var name = this.namespace,\n      useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = \"\\x1B[3\" + (c < 8 ? c : '8;5;' + c);\n    var prefix = \"  \".concat(colorCode, \";1m\").concat(name, \" \\x1B[0m\");\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + module.exports.humanize(this.diff) + \"\\x1B[0m\");\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  }\n\n  return new Date().toISOString() + ' ';\n}\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  if (namespaces) {\n    process.env.DEBUG = namespaces;\n  } else {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  return process.env.DEBUG;\n}\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\n\nfunction init(debug) {\n  debug.inspectOpts = {};\n  var keys = Object.keys(exports.inspectOpts);\n\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts).replace(/\\s*\\n\\s*/g, ' ');\n};\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\n\nformatters.O = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/debug/src/node.js\n// module id = 183\n// module chunks = 0 1","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\-?\\d?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ms/index.js\n// module id = 184\n// module chunks = 0 1","module.exports = require(\"supports-color\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"supports-color\"\n// module id = 185\n// module chunks = 0 1","module.exports = require(\"tty\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tty\"\n// module id = 186\n// module chunks = 0 1","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 187\n// module chunks = 0 1"],"sourceRoot":""}