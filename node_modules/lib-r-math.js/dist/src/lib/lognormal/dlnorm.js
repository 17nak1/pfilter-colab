"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var debug = require("debug");
var _general_1 = require("../common/_general");
var ISNAN = Number.isNaN, ML_POSINF = Number.POSITIVE_INFINITY;
var log = Math.log, exp = Math.exp;
var printer = debug('dlnorm');
function dlnorm(fx, meanlog, sdlog, give_log) {
    if (ISNAN(fx) || ISNAN(meanlog) || ISNAN(sdlog)) {
        return fx + meanlog + sdlog;
    }
    if (sdlog <= 0) {
        if (sdlog < 0) {
            return _general_1.ML_ERR_return_NAN(printer);
        }
        return log(fx) === meanlog ? ML_POSINF : _general_1.R_D__0(give_log);
    }
    if (fx <= 0) {
        return _general_1.R_D__0(give_log);
    }
    var y = (log(fx) - meanlog) / sdlog;
    return give_log
        ? -(_general_1.M_LN_SQRT_2PI + 0.5 * y * y + log(fx * sdlog))
        : _general_1.M_1_SQRT_2PI * exp(-0.5 * y * y) / (fx * sdlog);
}
exports.dlnorm = dlnorm;
//# sourceMappingURL=dlnorm.js.map