"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var debug = require("debug");
var _general_1 = require("../common/_general");
var expm1_1 = require("../exp/expm1");
var ISNAN = Number.isNaN, ML_POSINF = Number.POSITIVE_INFINITY, ML_NEGINF = Number.NEGATIVE_INFINITY;
var log = Math.log;
var printer_qlogis = debug('qlogis');
function qlogis(p, location, scale, lower_tail, log_p) {
    if (location === void 0) { location = 0; }
    if (scale === void 0) { scale = 1; }
    if (lower_tail === void 0) { lower_tail = true; }
    if (log_p === void 0) { log_p = false; }
    if (ISNAN(p) || ISNAN(location) || ISNAN(scale))
        return p + location + scale;
    var rc = _general_1.R_Q_P01_boundaries(lower_tail, log_p, p, ML_NEGINF, ML_POSINF);
    if (rc !== undefined) {
        return rc;
    }
    if (scale < 0) {
        return _general_1.ML_ERR_return_NAN(printer_qlogis);
    }
    if (scale === 0)
        return location;
    if (log_p) {
        if (lower_tail)
            p = p - expm1_1.R_Log1_Exp(p);
        else
            p = expm1_1.R_Log1_Exp(p) - p;
    }
    else
        p = log(lower_tail ? p / (1 - p) : (1 - p) / p);
    return location + scale * p;
}
exports.qlogis = qlogis;
//# sourceMappingURL=qlogis.js.map